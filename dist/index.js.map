{"mappings":"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","sources":["node_modules/@parcel/runtime-browser-hmr/lib/runtime-93f7d09574ed46c9.js","src/index.js","src/tgepg-card.js","src/lib/tgControls.js","src/lib/tgControls.helper_basic.js","node_modules/@parcel/transformer-js/src/esmodule-helpers.js","src/defaults_Card.js","src/defaults_Common.js","src/tgepg-dataWorker.js","src/lib/epgElements/tgEpg.timebar.js","src/defaults_Timebar.js","src/lib/epgElements/tgEpg.channelList.js","src/lib/epgElements/channelProgList.basis.js","src/defaults_Channellist.js","src/lib/epgElements/tgEpg.channelListItem.js","src/defaults_ChannellistItem.js","src/lib/epgElements/tgEpg.progList.js","src/defaults_Proglist.js","src/lib/epgElements/tgEpg.tooltipp.js","src/lib/epgElements/tgEpg.progItem.js","src/defaults_ProgItem.js","src/lib/tgControls.Scrollbar.js","src/defaults_Scrollbar.js"],"sourcesContent":["var HMR_HOST = null;var HMR_PORT = null;var HMR_SECURE = false;var HMR_ENV_HASH = \"d6ea1d42532a7575\";var HMR_USE_SSE = false;module.bundle.HMR_BUNDLE_ID = \"890e741a975ef6c8\";\"use strict\";\n\n/* global HMR_HOST, HMR_PORT, HMR_ENV_HASH, HMR_SECURE, HMR_USE_SSE, chrome, browser, __parcel__import__, __parcel__importScripts__, ServiceWorkerGlobalScope */\n/*::\nimport type {\n  HMRAsset,\n  HMRMessage,\n} from '@parcel/reporter-dev-server/src/HMRServer.js';\ninterface ParcelRequire {\n  (string): mixed;\n  cache: {|[string]: ParcelModule|};\n  hotData: {|[string]: mixed|};\n  Module: any;\n  parent: ?ParcelRequire;\n  isParcelRequire: true;\n  modules: {|[string]: [Function, {|[string]: string|}]|};\n  HMR_BUNDLE_ID: string;\n  root: ParcelRequire;\n}\ninterface ParcelModule {\n  hot: {|\n    data: mixed,\n    accept(cb: (Function) => void): void,\n    dispose(cb: (mixed) => void): void,\n    // accept(deps: Array<string> | string, cb: (Function) => void): void,\n    // decline(): void,\n    _acceptCallbacks: Array<(Function) => void>,\n    _disposeCallbacks: Array<(mixed) => void>,\n  |};\n}\ninterface ExtensionContext {\n  runtime: {|\n    reload(): void,\n    getURL(url: string): string;\n    getManifest(): {manifest_version: number, ...};\n  |};\n}\ndeclare var module: {bundle: ParcelRequire, ...};\ndeclare var HMR_HOST: string;\ndeclare var HMR_PORT: string;\ndeclare var HMR_ENV_HASH: string;\ndeclare var HMR_SECURE: boolean;\ndeclare var HMR_USE_SSE: boolean;\ndeclare var chrome: ExtensionContext;\ndeclare var browser: ExtensionContext;\ndeclare var __parcel__import__: (string) => Promise<void>;\ndeclare var __parcel__importScripts__: (string) => Promise<void>;\ndeclare var globalThis: typeof self;\ndeclare var ServiceWorkerGlobalScope: Object;\n*/\nvar OVERLAY_ID = '__parcel__error__overlay__';\nvar OldModule = module.bundle.Module;\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData[moduleName],\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n  module.bundle.hotData[moduleName] = undefined;\n}\nmodule.bundle.Module = Module;\nmodule.bundle.hotData = {};\nvar checkedAssets /*: {|[string]: boolean|} */, assetsToDispose /*: Array<[ParcelRequire, string]> */, assetsToAccept /*: Array<[ParcelRequire, string]> */;\n\nfunction getHostname() {\n  return HMR_HOST || (location.protocol.indexOf('http') === 0 ? location.hostname : 'localhost');\n}\nfunction getPort() {\n  return HMR_PORT || location.port;\n}\n\n// eslint-disable-next-line no-redeclare\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = getHostname();\n  var port = getPort();\n  var protocol = HMR_SECURE || location.protocol == 'https:' && !['localhost', '127.0.0.1', '0.0.0.0'].includes(hostname) ? 'wss' : 'ws';\n  var ws;\n  if (HMR_USE_SSE) {\n    ws = new EventSource('/__parcel_hmr');\n  } else {\n    try {\n      ws = new WebSocket(protocol + '://' + hostname + (port ? ':' + port : '') + '/');\n    } catch (err) {\n      if (err.message) {\n        console.error(err.message);\n      }\n      ws = {};\n    }\n  }\n\n  // Web extension context\n  var extCtx = typeof browser === 'undefined' ? typeof chrome === 'undefined' ? null : chrome : browser;\n\n  // Safari doesn't support sourceURL in error stacks.\n  // eval may also be disabled via CSP, so do a quick check.\n  var supportsSourceURL = false;\n  try {\n    (0, eval)('throw new Error(\"test\"); //# sourceURL=test.js');\n  } catch (err) {\n    supportsSourceURL = err.stack.includes('test.js');\n  }\n\n  // $FlowFixMe\n  ws.onmessage = async function (event /*: {data: string, ...} */) {\n    checkedAssets = {} /*: {|[string]: boolean|} */;\n    assetsToAccept = [];\n    assetsToDispose = [];\n    var data /*: HMRMessage */ = JSON.parse(event.data);\n    if (data.type === 'update') {\n      // Remove error overlay if there is one\n      if (typeof document !== 'undefined') {\n        removeErrorOverlay();\n      }\n      let assets = data.assets.filter(asset => asset.envHash === HMR_ENV_HASH);\n\n      // Handle HMR Update\n      let handled = assets.every(asset => {\n        return asset.type === 'css' || asset.type === 'js' && hmrAcceptCheck(module.bundle.root, asset.id, asset.depsByBundle);\n      });\n      if (handled) {\n        console.clear();\n\n        // Dispatch custom event so other runtimes (e.g React Refresh) are aware.\n        if (typeof window !== 'undefined' && typeof CustomEvent !== 'undefined') {\n          window.dispatchEvent(new CustomEvent('parcelhmraccept'));\n        }\n        await hmrApplyUpdates(assets);\n\n        // Dispose all old assets.\n        let processedAssets = {} /*: {|[string]: boolean|} */;\n        for (let i = 0; i < assetsToDispose.length; i++) {\n          let id = assetsToDispose[i][1];\n          if (!processedAssets[id]) {\n            hmrDispose(assetsToDispose[i][0], id);\n            processedAssets[id] = true;\n          }\n        }\n\n        // Run accept callbacks. This will also re-execute other disposed assets in topological order.\n        processedAssets = {};\n        for (let i = 0; i < assetsToAccept.length; i++) {\n          let id = assetsToAccept[i][1];\n          if (!processedAssets[id]) {\n            hmrAccept(assetsToAccept[i][0], id);\n            processedAssets[id] = true;\n          }\n        }\n      } else fullReload();\n    }\n    if (data.type === 'error') {\n      // Log parcel errors to console\n      for (let ansiDiagnostic of data.diagnostics.ansi) {\n        let stack = ansiDiagnostic.codeframe ? ansiDiagnostic.codeframe : ansiDiagnostic.stack;\n        console.error('🚨 [parcel]: ' + ansiDiagnostic.message + '\\n' + stack + '\\n\\n' + ansiDiagnostic.hints.join('\\n'));\n      }\n      if (typeof document !== 'undefined') {\n        // Render the fancy html overlay\n        removeErrorOverlay();\n        var overlay = createErrorOverlay(data.diagnostics.html);\n        // $FlowFixMe\n        document.body.appendChild(overlay);\n      }\n    }\n  };\n  if (ws instanceof WebSocket) {\n    ws.onerror = function (e) {\n      if (e.message) {\n        console.error(e.message);\n      }\n    };\n    ws.onclose = function () {\n      console.warn('[parcel] 🚨 Connection to the HMR server was lost');\n    };\n  }\n}\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n    console.log('[parcel] ✨ Error resolved');\n  }\n}\nfunction createErrorOverlay(diagnostics) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n  let errorHTML = '<div style=\"background: black; opacity: 0.85; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; font-family: Menlo, Consolas, monospace; z-index: 9999;\">';\n  for (let diagnostic of diagnostics) {\n    let stack = diagnostic.frames.length ? diagnostic.frames.reduce((p, frame) => {\n      return `${p}\n<a href=\"/__parcel_launch_editor?file=${encodeURIComponent(frame.location)}\" style=\"text-decoration: underline; color: #888\" onclick=\"fetch(this.href); return false\">${frame.location}</a>\n${frame.code}`;\n    }, '') : diagnostic.stack;\n    errorHTML += `\n      <div>\n        <div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">\n          🚨 ${diagnostic.message}\n        </div>\n        <pre>${stack}</pre>\n        <div>\n          ${diagnostic.hints.map(hint => '<div>💡 ' + hint + '</div>').join('')}\n        </div>\n        ${diagnostic.documentation ? `<div>📝 <a style=\"color: violet\" href=\"${diagnostic.documentation}\" target=\"_blank\">Learn more</a></div>` : ''}\n      </div>\n    `;\n  }\n  errorHTML += '</div>';\n  overlay.innerHTML = errorHTML;\n  return overlay;\n}\nfunction fullReload() {\n  if ('reload' in location) {\n    location.reload();\n  } else if (extCtx && extCtx.runtime && extCtx.runtime.reload) {\n    extCtx.runtime.reload();\n  }\n}\nfunction getParents(bundle, id) /*: Array<[ParcelRequire, string]> */{\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n  var parents = [];\n  var k, d, dep;\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || Array.isArray(dep) && dep[dep.length - 1] === id) {\n        parents.push([bundle, k]);\n      }\n    }\n  }\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n  return parents;\n}\nfunction updateLink(link) {\n  var href = link.getAttribute('href');\n  if (!href) {\n    return;\n  }\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    if (link.parentNode !== null) {\n      // $FlowFixMe\n      link.parentNode.removeChild(link);\n    }\n  };\n  newLink.setAttribute('href',\n  // $FlowFixMe\n  href.split('?')[0] + '?' + Date.now());\n  // $FlowFixMe\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      // $FlowFixMe[incompatible-type]\n      var href /*: string */ = links[i].getAttribute('href');\n      var hostname = getHostname();\n      var servedFromHMRServer = hostname === 'localhost' ? new RegExp('^(https?:\\\\/\\\\/(0.0.0.0|127.0.0.1)|localhost):' + getPort()).test(href) : href.indexOf(hostname + ':' + getPort());\n      var absolute = /^https?:\\/\\//i.test(href) && href.indexOf(location.origin) !== 0 && !servedFromHMRServer;\n      if (!absolute) {\n        updateLink(links[i]);\n      }\n    }\n    cssTimeout = null;\n  }, 50);\n}\nfunction hmrDownload(asset) {\n  if (asset.type === 'js') {\n    if (typeof document !== 'undefined') {\n      let script = document.createElement('script');\n      script.src = asset.url + '?t=' + Date.now();\n      if (asset.outputFormat === 'esmodule') {\n        script.type = 'module';\n      }\n      return new Promise((resolve, reject) => {\n        var _document$head;\n        script.onload = () => resolve(script);\n        script.onerror = reject;\n        (_document$head = document.head) === null || _document$head === void 0 || _document$head.appendChild(script);\n      });\n    } else if (typeof importScripts === 'function') {\n      // Worker scripts\n      if (asset.outputFormat === 'esmodule') {\n        return __parcel__import__(asset.url + '?t=' + Date.now());\n      } else {\n        return new Promise((resolve, reject) => {\n          try {\n            __parcel__importScripts__(asset.url + '?t=' + Date.now());\n            resolve();\n          } catch (err) {\n            reject(err);\n          }\n        });\n      }\n    }\n  }\n}\nasync function hmrApplyUpdates(assets) {\n  global.parcelHotUpdate = Object.create(null);\n  let scriptsToRemove;\n  try {\n    // If sourceURL comments aren't supported in eval, we need to load\n    // the update from the dev server over HTTP so that stack traces\n    // are correct in errors/logs. This is much slower than eval, so\n    // we only do it if needed (currently just Safari).\n    // https://bugs.webkit.org/show_bug.cgi?id=137297\n    // This path is also taken if a CSP disallows eval.\n    if (!supportsSourceURL) {\n      let promises = assets.map(asset => {\n        var _hmrDownload;\n        return (_hmrDownload = hmrDownload(asset)) === null || _hmrDownload === void 0 ? void 0 : _hmrDownload.catch(err => {\n          // Web extension fix\n          if (extCtx && extCtx.runtime && extCtx.runtime.getManifest().manifest_version == 3 && typeof ServiceWorkerGlobalScope != 'undefined' && global instanceof ServiceWorkerGlobalScope) {\n            extCtx.runtime.reload();\n            return;\n          }\n          throw err;\n        });\n      });\n      scriptsToRemove = await Promise.all(promises);\n    }\n    assets.forEach(function (asset) {\n      hmrApply(module.bundle.root, asset);\n    });\n  } finally {\n    delete global.parcelHotUpdate;\n    if (scriptsToRemove) {\n      scriptsToRemove.forEach(script => {\n        if (script) {\n          var _document$head2;\n          (_document$head2 = document.head) === null || _document$head2 === void 0 || _document$head2.removeChild(script);\n        }\n      });\n    }\n  }\n}\nfunction hmrApply(bundle /*: ParcelRequire */, asset /*:  HMRAsset */) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (asset.type === 'css') {\n    reloadCSS();\n  } else if (asset.type === 'js') {\n    let deps = asset.depsByBundle[bundle.HMR_BUNDLE_ID];\n    if (deps) {\n      if (modules[asset.id]) {\n        // Remove dependencies that are removed and will become orphaned.\n        // This is necessary so that if the asset is added back again, the cache is gone, and we prevent a full page reload.\n        let oldDeps = modules[asset.id][1];\n        for (let dep in oldDeps) {\n          if (!deps[dep] || deps[dep] !== oldDeps[dep]) {\n            let id = oldDeps[dep];\n            let parents = getParents(module.bundle.root, id);\n            if (parents.length === 1) {\n              hmrDelete(module.bundle.root, id);\n            }\n          }\n        }\n      }\n      if (supportsSourceURL) {\n        // Global eval. We would use `new Function` here but browser\n        // support for source maps is better with eval.\n        (0, eval)(asset.output);\n      }\n\n      // $FlowFixMe\n      let fn = global.parcelHotUpdate[asset.id];\n      modules[asset.id] = [fn, deps];\n    } else if (bundle.parent) {\n      hmrApply(bundle.parent, asset);\n    }\n  }\n}\nfunction hmrDelete(bundle, id) {\n  let modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (modules[id]) {\n    // Collect dependencies that will become orphaned when this module is deleted.\n    let deps = modules[id][1];\n    let orphans = [];\n    for (let dep in deps) {\n      let parents = getParents(module.bundle.root, deps[dep]);\n      if (parents.length === 1) {\n        orphans.push(deps[dep]);\n      }\n    }\n\n    // Delete the module. This must be done before deleting dependencies in case of circular dependencies.\n    delete modules[id];\n    delete bundle.cache[id];\n\n    // Now delete the orphans.\n    orphans.forEach(id => {\n      hmrDelete(module.bundle.root, id);\n    });\n  } else if (bundle.parent) {\n    hmrDelete(bundle.parent, id);\n  }\n}\nfunction hmrAcceptCheck(bundle /*: ParcelRequire */, id /*: string */, depsByBundle /*: ?{ [string]: { [string]: string } }*/) {\n  if (hmrAcceptCheckOne(bundle, id, depsByBundle)) {\n    return true;\n  }\n\n  // Traverse parents breadth first. All possible ancestries must accept the HMR update, or we'll reload.\n  let parents = getParents(module.bundle.root, id);\n  let accepted = false;\n  while (parents.length > 0) {\n    let v = parents.shift();\n    let a = hmrAcceptCheckOne(v[0], v[1], null);\n    if (a) {\n      // If this parent accepts, stop traversing upward, but still consider siblings.\n      accepted = true;\n    } else {\n      // Otherwise, queue the parents in the next level upward.\n      let p = getParents(module.bundle.root, v[1]);\n      if (p.length === 0) {\n        // If there are no parents, then we've reached an entry without accepting. Reload.\n        accepted = false;\n        break;\n      }\n      parents.push(...p);\n    }\n  }\n  return accepted;\n}\nfunction hmrAcceptCheckOne(bundle /*: ParcelRequire */, id /*: string */, depsByBundle /*: ?{ [string]: { [string]: string } }*/) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (depsByBundle && !depsByBundle[bundle.HMR_BUNDLE_ID]) {\n    // If we reached the root bundle without finding where the asset should go,\n    // there's nothing to do. Mark as \"accepted\" so we don't reload the page.\n    if (!bundle.parent) {\n      return true;\n    }\n    return hmrAcceptCheck(bundle.parent, id, depsByBundle);\n  }\n  if (checkedAssets[id]) {\n    return true;\n  }\n  checkedAssets[id] = true;\n  var cached = bundle.cache[id];\n  assetsToDispose.push([bundle, id]);\n  if (!cached || cached.hot && cached.hot._acceptCallbacks.length) {\n    assetsToAccept.push([bundle, id]);\n    return true;\n  }\n}\nfunction hmrDispose(bundle /*: ParcelRequire */, id /*: string */) {\n  var cached = bundle.cache[id];\n  bundle.hotData[id] = {};\n  if (cached && cached.hot) {\n    cached.hot.data = bundle.hotData[id];\n  }\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData[id]);\n    });\n  }\n  delete bundle.cache[id];\n}\nfunction hmrAccept(bundle /*: ParcelRequire */, id /*: string */) {\n  // Execute the module.\n  bundle(id);\n\n  // Run the accept callbacks in the new version of the module.\n  var cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      var assetsToAlsoAccept = cb(function () {\n        return getParents(module.bundle.root, id);\n      });\n      if (assetsToAlsoAccept && assetsToAccept.length) {\n        assetsToAlsoAccept.forEach(function (a) {\n          hmrDispose(a[0], a[1]);\n        });\n\n        // $FlowFixMe[method-unbinding]\n        assetsToAccept.push.apply(assetsToAccept, assetsToAlsoAccept);\n      }\n    });\n  }\n}","import { tgEpgCard } from \"./tgepg-card\";\n\n\ncustomElements.define('tg-epgcard', tgEpgCard);\nwindow.customCards = window.customCards || [];\nwindow.customCards.push({\ntype: \"tg-epgcard\",\nname: \"epg card\",\ndescription: \"epg card\"\n});\n","\nimport { tgControls } from \"./lib/tgControls.js\";\nimport { tgEpgCardDefaults } from \"./defaults_Card.js\"\nimport { tgEpgDataService } from \"./tgepg-dataWorker.js\"\n\nimport './lib/epgElements/tgEpg.timebar.js';\nimport './lib/epgElements/tgEpg.channelList.js';\nimport './lib/epgElements/tgEpg.channelListItem.js';\nimport './lib/epgElements/tgEpg.progList.js';\nimport './lib/epgElements/tgEpg.progItem.js';\n//import './lib/tgControls.FloatingMenu.js';\nimport './lib/tgControls.Scrollbar.js';\n\nexport class tgEpgCard extends tgControls\n\t{\n\t// private properties\n\t_config;\n\t_hass;\n\t_elements = {};\n\t_lastUpdateHass=0;\n\t_EPG=null;\n\t_isConstructed=false;\n\t_entities={}\n\t_profile={}\n\t_configProfile={}\n\t_user={name:null, id:null}\n\t_enable_FloatingMnu=false\n\t_enable_TimeBar=false\n\t_enable_Scrollbar=true\n\t_enable_DataWorker=true\n\t_enable_channelList=true\n\t_enable_progList=true\n\t_dataLoopsAllowed=-1\n\t// lifecycle\n\tconstructor(mode=\"open\")\n\t\t{\n\t\tsuper(mode, new tgEpgCardDefaults());\n\t\tvar now= new Date()\n\t\tthis._info(\"under construction ;-)\", now)\n\t\tvar that=this\n\t\t//this.card =\n\t\tif (this._enable_DataWorker)\n\t\t\t{\n\t\t\tthis.dataWorker = new tgEpgDataService (this)\n\t\t\tvar runloop=0\n\t\t\tthis.addEventListener(\"fetchWorkerData\", function(event)\n\t\t\t\t{\n\t\t\t\trunloop++\n\t\t\t\tlet ev = event.detail\n\t\t\t\tconsole.log(\"proglist - todo\", (this._dataLoopsAllowed != -1 && runloop > this._dataLoopsAllowed && !ev?.todolist?.manage))\n\t\t\t\tif (this._dataLoopsAllowed != -1 && runloop > this._dataLoopsAllowed && !ev?.todolist?.manage) return\n\t\t\t\tconsole.log(\"data\", ev)\t\n\t\t\t\tthat.renderChannels(ev)\n\t\t\t\t})\n\t\t\t}\t\n\t\tthis.addEventListener(\"connected\", refreshMe)\n\t\tthis.addEventListener(\"profiled\", refreshMe)\n\t\tthis.addEventListener(\"resize\", refreshMe)\n\t\tthis.addEventListener(\"refresh\", refreshMe)\n\t\tthis.addEventListener(\"rotate\", refreshMe)\n\t\tfunction refreshMe(event)\n\t\t\t{\n\t\t\tthat.refresh(event.type)\t\n\t\t\t}\n\t\t\n\t\t//[\"connected\"].forEach(evname => my.addEventListener( evname, function(event){alert(\"event\")}))\n\n\t\tthis.dependedApps=[]\n\t\tthis.doQueryElements()\n\n\t\t// this.dataWorker = new Worker(\"tgepg-dataWorker.js\", {type: 'module'});\n\t\t// this.dataWorker.addEventListener(\"message\", function(messageEvent)\n\t\t// \t{\n\t\t// \tvar ev = new CustomEvent('message', { detail: messageEvent?.data });\n\t\t// \tconsole.debug(\"received from worker\", ev )\n\t\t// \t})\n\t\t//this.doQueryElements();\n\t\t//this.doListen();\n\t\tthis.connected()\n\t\t}\n\n\trefresh(event=\"\")\n\t\t{\n\t\tvar that=this\n\n\t\tthis._debug(\"event\", event)\t\n\t\tlet connected=this.PROPS.run?.states?.connected||false\n\t\tlet constructed=this.PROPS.run?.states?.constructed||false\n\t\tlet profiled=this.PROPS.run?.states?.profiled||false\n\t\tif (!profiled || !connected || !this.app) return\n\t\tthis.PROPS.run[\"currentProfile\"]=this._extender({}, this.setCurrentProfile(this.PROPS.run), {scale:1})\n\n\t\tif (!constructed)\n\t\t\t{\n\t\t\tthis.init()\t\t\n\t\t\t}\n\n\t\tif (event==\"resize\")\n\t\t\t{\n\t\t\tlet viewport=document.documentElement;\n\t\t\tif (viewport)\n\t\t\t\t{\n//\t\t\t\tthis._info(\"event resize detected\", this.app.offsetHeight || null, viewport.getBoundingClientRect(), this.getBoundingClientRect())\t\n\t\t\t\tthis.PROPS.run[\"appHeight\"]=viewport.getBoundingClientRect().height-this.getBoundingClientRect().top\t-5\t\n\t\t\t\t}\t\n\t\t\t}\t\n\t\tthis.calculate()\n\t\tthis.updateScrollbars(\"horizontal\" );\n\n\t\t\t\n\t\tthis.refreshAppSizeAfterResizeOrInit()\n\t\n\t\t}\n\tcalculate()\n\t\t{\n\t\tlet run=this.PROPS.run\t\n\t\tlet width=parseInt(this.app.clientWidth)-parseInt(run.currentProfile.design.channelRowWidth)\n\t\trun.currentProfile.design[\"scale\"]=width/parseInt(run.currentProfile.design.previewSpan)\n\t\tlet height=parseInt(run.appHeight)||null\n\t\tif (height && height > 0 )\n\t\t\t{\n\t\t\tthis.style.setProperty('--appHeight', `${height}px`);\n\t\t\t}\n\t\trun[\"now\"]= Math.floor(new Date() / 1000);\n\t\tif ( run.min && run.max)\n\t\t\t{\n\t\t\trun[\"scrollOffset\"]=(run.scrollOffsetAbsolute && run.scrollOffsetAbsolute < run.now-run.currentProfile.design.setOfSpan)?\n\t\t\trun.scrollOffsetAbsolute-run.min:run.now-run.min-run.currentProfile.design.setOfSpan\t\n\t\t\trun[\"scrollOffsetAbsolute\"]=run.min+run[\"scrollOffset\"]\n\t\t\tlet min= new Date(run.min*1000).toLocaleDateString(\"de-DE\")\t+ new Date(run.min*1000).toLocaleTimeString(\"de-DE\")\n\t\t\tlet max= new Date(run.max*1000).toLocaleDateString(\"de-DE\")\t+ new Date(run.max*1000).toLocaleTimeString(\"de-DE\")\n\t\t\tconsole.log(\"run\", min, max, run.currentProfile.design.setOfSpan)\n\t\t\t}\n\n\t\t}\n\tsetCurrentProfile(run)\n\t\t{\n\t\tvar that=this\t\n\t\tlet userprofile=run.profiles?.users[run.username]||{}\n\t\tlet profile=this._extender({},run.profiles, userprofile)\n\t\tdelete profile.users\n\t\tlet options=profile.options||{}\n\t\tlet design=this._extender({}, profile.design.default)\n\t\t//that._debug(\"setCurrentProfile profile\", profile, design)\n\t\tif (options.useOrientationDetection)\n\t\t\t{\n\t\t\tdesign=this._extender({}, design, getwidthProfile(options.useWidthDetection||false, profile.design[run.orientationObserver.orientation]))\t\n\t\t\t}\n\t\telse\n\t\t\t{\n\t\t\tdesign=this._extender({}, design, getwidthProfile(options.useWidthDetection||false, profile.design))\n\t\t\t}\n\t\tprofile[\"design\"]=design\n\t\tlet keys=Object.keys(profile)\n\t\tfor (let key of keys)\n\t\t\t{\n\t\t\tif \t(![\"design\", \"dataWorker\", \"options\"].includes(key))\n\t\t\t\t{\n\t\t\t\tdelete profile[key]\t\n\t\t\t\t}\n\t\t\t}\n\t\tkeys=Object.keys(profile.design)\n\t\tfor (let key of keys)\n\t\t\t{\n\t\t\tif \t(key.startsWith(\"dw_\"))\n\t\t\t\t{\n\t\t\t\tlet newKey=\tkey.slice(3)\n\t\t\t\tif (! profile.dataWorker) profile[\"dataWorker\"]={}\n\t\t\t\tprofile.dataWorker[newKey]=profile.design[key]\n\t\t\t\tdelete profile.design[key]\n\t\t\t\tthat._debug(\"setCurrentProfile key\", newKey)\n\t\t\t\t}\n\t\t\tif \t(key.startsWith(\"op_\"))\n\t\t\t\t{\n\t\t\t\tlet newKey=\tkey.slice(3)\n\t\t\t\tif (! profile.options) profile[\"options\"]={}\n\t\t\t\tprofile.options[newKey]=profile.design[key]\n\t\t\t\tdelete profile.design[key]\n\t\t\t\tthat._debug(\"setCurrentProfile key\", newKey)\n\t\t\t\t}\n\t\t\t}\n\n\t\tthat._debug(\"setCurrentProfile profile2\", profile)\n\t\treturn profile\n\n\t\tfunction getwidthProfile(yesNo, profile)\n\t\t\t{\n\t\t\tlet p=that._extender({}, profile.default)\n\t\t\tlet sizes=[]\n\t\t\tlet noSize={}\n\t\t\tlet width=that.app.clientWidth;\n\t\t\tlet keys=Object.keys(profile)\n\t\t\tfor ( let key of keys)\n\t\t\t\t{\n\t\t\t\tif (key.match(/^_\\d.*$/))\n\t\t\t\t\t{\n\t\t\t\t\tsizes.push(parseInt(key.slice(1)))\t\n\t\t\t\t\t}\n\t\t\t\tif ( key !== \"default\" && key !== \"portait\" && key !== \"landscape\")\t\n\t\t\t\t\t{\n\t\t\t\t\tnoSize[key]=profile[key]\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\tsizes.sort()\n\t\t\tlet detectedSize=null\t\n\t\t\tif (yesNo)\n\t\t\t\t{\n\t\t\t\tfor (let size of sizes)\n\t\t\t\t\t{\n\t\t\t\t\tif (size<width) detectedSize=size\n\t\t\t\t\t}\n\t\t\t\tif (detectedSize) \n\t\t\t\t\t{\n\t\t\t\t\tp=that._extender(p, profile[`_${detectedSize}`])\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\tif (!detectedSize) p=that._extender(p, noSize)\n\t\t\treturn p\n\t\t\t}\n\t\t}\n\t//#########################################################################################################\n\t//## updateScrollbars()\n\t//## richtet die Scrollbars ein und hält sie aktuell\n\t//##\n\t//##\n\t//#########################################################################################################\n\tupdateScrollbars(direction=\"\", scrollwidth=null, initiator=\"scrollbar\")\n\t\t{\n\t\tif (! this._enable_Scrollbar)\treturn\n\t\tvar that=this;\n\t\tswitch (direction)\n\t\t\t{\n\t\t\tcase \"horizontal\":\n\t\t\t\tif (scrollwidth === null)\n\t\t\t\t\t{\n\t\t\t\t\tif ( !that.PROPS.run.scrollOffset) return\t\n\t\t\t\t\t//console.debug(\"scroller\", this.PROPS.run)\t\n\t\t\t\t\t//that.PROPS.run.previewOffset=(that.PROPS.run.previewOffset)?that.PROPS.run.previewOffset:that.PROPS.run.now-that.PROPS.run._design.design_timeFrameStart\n\t\t\t\t\tscrollwidth=that.PROPS.run.scrollOffset*that.PROPS.run.currentProfile.design.scale\n\t\t\t\t\t//console.log(\"scroller\",scrollwidth, that.PROPS.run.scrollOffset, that.PROPS.run.currentProfile.design.scale)\n\t\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\tthat.PROPS.run.scrollOffset=(scrollwidth/that.PROPS.run.currentProfile.design.scale)\n\t\t\t\t\tthat.PROPS.run.scrollOffsetAbsolute=that.PROPS.run.min+that.PROPS.run.scrollOffset\n\t\t\t\t\t}\n\t\t\t\tif (initiator !== \"app\") this.programBox.scrollLeft =scrollwidth\n\t\t\t\tthis.timeBar.scrollLeft =scrollwidth\n\t\t\t\tbreak;\n\t\t\tcase \"vertical\":\n\t\t\t\tif (initiator !== \"app\") this.progListApp.scrollTop =scrollwidth\n\t\t\t\tthis.channelBox.scrollTop =scrollwidth\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\t\t\t\t\n\t//#########################################################################################################\n\t//## renderChannels()\n\t//## richtet die channelList und die ProgList ein und stößt die Aktualisierung an\n\t//##\n\t//##\n\t//#########################################################################################################\n\trenderChannels(data)\n\t\t{\n\t\tvar that = this\n\t\tif (!this.app) return\n\t\t//console.debug(\"start rendering\", data)\n\t\t//console.info(\"rendering\", this.channelListApp, this.progListApp)\n\t\tif (data.todolist)\n\t\t\t{\n\t\t\tlet keys=Object.keys(data.todolist)\n\t\t\tfor (let key of keys)\n\t\t\t\t{\n\t\t\t\tif (key.startsWith(\"d\"))\n\t\t\t\t\t{\n\t\t\t\t\tfor ( let index of data.todolist[key])\n\t\t\t\t\t\t{\n\t\t\t\t\t\tif (this.channelListApp) this.channelListApp.deleteChannel=index\n\t\t\t\t\t\tif (this.progListApp)    this.progListApp.deleteChannel=index\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\tlet keys=Object.keys(data.data)\n\t\t//if(keys.length>1) console.clear()\n\n\t\tfor (let key of keys)\n\t\t\t{\n\t\t\tif (data.data[key].data )\n\t\t\t\t{\t\t\n\t\t\t\tif (this.channelListApp) this.channelListApp.setChannel=data.data[key]\n\t\t\t\tif (this.progListApp) this.progListApp.setChannel=data.data[key]\n\t\t\t\t}\n\t\t\t}\n\t\tif (data.todolist)\n\t\t\t{\n\t\t\tlet keys=Object.keys(data.todolist)\n\t\t\tlet refresh=false\n\t\t\tconsole.log(\"proglist run todo\", data.todolist)\n\t\t\tfor (let key of keys)\n\t\t\t\t{\n\t\t\t\tif (key.startsWith(\"m\"))\n\t\t\t\t\t{\n\t\t\t\t\tfor ( let config of data.todolist[key])\n\t\t\t\t\t\t{\n\t\t\t\t\t\tif (this._getType(config, \"hash\"))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\trefresh=true\n\t\t\t\t\t\t\tthis.PROPS.run=this._extender(this.PROPS.run, config)\n\t\t\t\t\t\t\t}\t\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\tif (refresh)\n\t\t\t\t{\n\t\t\t\tvar ev = new CustomEvent('refresh');\n\t\t\t\tthis.dispatchEvent(ev);\n\t\t\t\t\t\t\t\n\t\t\t\t}\t\n\t\t\t}\n\n\t\treturn;\n\n\t\t}\n\n\tdoQueryElements()\n\t\t{\n\t\tthis.card\t\t\t= this._shadowRoot.querySelector(\"ha-card\") || this._shadowRoot\n\t\tthis.app \t\t\t= this.card.querySelector('[name=\"app\"]');\n\t\tif (this.app)\n\t\t\t{\n\t\t\tthis.timeBar \t\t= this.app.querySelector('[name=\"timeBar\"]');\n\t\t\tthis.timeBarApp \t= null;\n\t\t\tthis.superButton \t= this.app.querySelector('[name=\"superbutton\"]');\n\t\t\tthis.channelBox \t= this.app.querySelector('[name=\"channelBox\"]');\n\t\t\tthis.programBox \t= this.app.querySelector('[name=\"programBox\"]');\n\t\t\tthis.scrollbarX\t\t= this._shadowRoot.querySelector('.tgcontrolscrollbarx');;\n\t\t\tthis.scrollbarY \t= null;\n\t\t\tthis.floatingMenu \t= this._shadowRoot.querySelector('tg-floatingMenu');\n\n\t\t\t}\n\t\t//console.debug(\"query\", this.channelBox || \"none\")\n\t\t// this.buttonCell = this.shadowRoot.querySelector('[name=\"buttonCell\"]');\n\n\t\t// this.epgBox = this.shadowRoot.querySelector('[name=\"epgBox\"]');\n\t\t// this.channelBox = this.shadowRoot.querySelector('[name=\"channelBox\"]');\n\t\t// this.programBox = this.shadowRoot.querySelector('[name=\"programBox\"]');\n\t\t// this.channelListApp = null;\n\t\t// this.progListApp = null;\n\t\t// this.optionBox = this.shadowRoot.querySelector('[name=\"optionBox\"]');\n\t\t// this.scrollbarX = this.shadowRoot.querySelector('.tgcontrolscrollbarx');;\n\t\t// this.timeRow = this.shadowRoot.querySelector('[name=\"timeRow\"]');\n\t\t// this.timeMarker = that.shadowRoot.querySelector('[name=\"timemarker\"]');\n\t\t// this.timebar = card.querySelector(\".error\")\n\t\t// this._elements.dl = card.querySelector(\".dl\")\n\t\t// this._elements.topic = card.querySelector(\".dt\")\n\t\t// this._elements.toggle = card.querySelector(\".toggle\")\n\t\t// this._elements.value = card.querySelector(\".value\")\n\t\t}\n\t\t\t\n\tdetectENV()\n\t\t{\n\t\tthis.PROPS.run[\"ENV\"]={context:\"panel\", mobile:false}\n\t\t\t\n\t\t\n\t\t}\t\n\t\t\n\t//######################################################################################################################################\n\t//init()\n\t//prüft die Umgebung und passt Parameter entsprechend an\n\t//\n\t//######################################################################################################################################\n\tinit()\n\t\t{\n\t\tlet that=this;\n\t\tlet test;\n\t\tthis.detectENV()\n\t\tif (this._enable_TimeBar) \t\tactivateTimeBar.call(this);\n\t\tif (this._enable_FloatingMnu) \tactivateFloatingMenu.call(this);\n\t\tif (this._enable_Scrollbar) \tactivateScrollbars.call(this)\n\t\tif (this._enable_channelList)\tactivateChannellist.call(this)\n\t\tif (this._enable_progList)\t\tactivateProglist.call(this)\n\t\tlet viewport=document.documentElement;\n\t\tif (viewport) this._resizeObserver.observe(viewport)\n\n\t\tthis.PROPS.run[\"states\"][\"constructed\"]=true\n\n\t\treturn;\n\t\t\n\t\t\n\t\tfunction activateChannellist()\n\t\t\t{\n\t\t\tthis.channelListApp=this.channelBox.querySelector('tgepg-channellist');\n\t\t\tif (! this.channelListApp)\n\t\t\t\t{\n\t\t\t\tthis.channelListApp=document.createElement(\"tgepg-channellist\");\n\t\t\t\tthis.channelBox.appendChild(this.channelListApp);\n\t\t\t\tthis.dependedApps.push({app:this.channelListApp});\n\t\t\t\t}\n\t\t\t}\n\t\tfunction activateProglist()\n\t\t\t{\n\t\t\tthis.progListApp=this.programBox.querySelector('tgepg-proglist');\n\t\t\tif (! this.progListApp)\n\t\t\t\t{\n\t\t\t\tthis.progListApp=document.createElement(\"tgepg-proglist\");\n\t\t\t\tthis.progListApp.classList.add(\"tgEpgProgList\", \"greedyH\");\n\t\t\t\tthis.progListApp.setAttribute(\"name\",\"tgEpgProgList\");\n\t\t\t\t//console.debug(\"renderer\", this.PROPS.run)\n\t\t\t\tthis.progListApp.scale=this.PROPS.run.currentProfile.scale||1;\n\t\t\t\tthis.progListApp.supermaster=this\n\t\t\t\tthis.programBox.appendChild(this.progListApp);\n\t\t\t\tthis.dependedApps.push({app:this.progListApp});\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\n\t\t\n\t\tfunction activateTimeBar()\n\t\t\t{\n\t\t\tvar that=this;\n\t\t\tlet tb=that.timeBar.querySelector('tgepg-timebar')\n\t\t\tif (! tb)\n\t\t\t\t{\n\t\t\t\ttb=document.createElement(\"tgepg-timebar\")\n\t\t\t\tthat.timeBar.appendChild(tb)\n\t\t\t\ttb.classList.add(\"greedy\")\n\t\t\t\tthat.dependedApps.push(tb)\n\t\t\t\t}\n\t\t\tthat.timeBarApp\t= tb\n\t\t\t}\n\n\t\tfunction activateFloatingMenu()\n\t\t\t{\n\t\t\tvar that=this;\n\t\t\t//console.log(\"floatingMenu\",this.floatingMenu)\n\t\t\tthis.floatingMenu.classList.remove(\"hide\")\n\t\t\tif ( (this.floatingMenu) && (! this.floatingMenu.hasAttribute(\"hasConnectedHandler\")))\n\t\t\t\t{\n\t\t\t\t//console.log(\"floatingMenu2\",this.floatingMenu)\n\t\t\t\tthis.floatingMenu.setAttribute(\"stylesrc\", \"lib/tgControls.component.css;lib/tgFloatingMenu/tgFloatingMenu.component.css\");\n\t\t\t\tthis.floatingMenu.setAttribute(\"hasConnectedHandler\", \"1\");\n\t\t\t\tif (this.floatingMenu.connect)\n\t\t\t\t\t{\n\t\t\t\t\tthat.manageFloatingMenu(\"connected\");\n\t\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\tthis.floatingMenu.addEventListener(\"connected\", function(event)\n\t\t\t\t\t\t{\n\t\t\t\t\t\tthat.manageFloatingMenu(\"connected\");\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\tfunction activateScrollbars()\n\t\t\t{\n\t\t\tvar that=this\n\t\t\tthis.scrollbarX.classList.remove(\"hide\")\n\t\t\tthis.scrollbarX.addEventListener(\"scrolled\",\n\t\t\t\tfunction(event)\n\t\t\t\t\t{\n\t\t\t\t\tthat.updateScrollbars(\"horizontal\", this.scrollLeft, \"app\");\n\t\t\t\t\t});\n\t\t\tthis.dependedApps.push({app:this.scrollbarX});\n\t\t\t}\n\n\t\t}\n\trefreshAppSizeAfterResizeOrInit()\n\t\t{\n\t\tthis.setCssProps(this.PROPS.run.currentProfile.design)\n\t\t//this.renderSubApp()\n\t\t//this._debug(\"refreshAppSizeAfterResizeOrInit\")\n\t\t// this.style.setProperty('--first-row-height', parseInt(this.PROPS.run.firstRowHeight)+\"px\");\n\t\t// this.style.setProperty('--first-col-width', parseInt(this.PROPS.run.firstColWidth)+\"px\");\n\t\t// this.style.setProperty('--channelRowHeight', parseInt(this.PROPS.run.channelRowHeight)+\"px\");\n\t\t// this.style.setProperty('--scale', parseFloat(this.PROPS.run._design.design_scale));\n\n\t\t// // gib Attribute weiter\n\t\t// \tvar keys=Object.keys(this.PROPS.run);\n\t\t// \tfor (var k in childElements)\n\t\t// \t\t{\n\t\t// \t\tfor (var i in keys)\n\t\t// \t\t\t{\n\t\t// \t\t\tif (Object.getPrototypeOf(childElements[k]).hasOwnProperty(keys[i]) )\n\t\t// \t\t\t\t{\n\t\t// \t\t\t\tthis._debug(\"set in\", childElements[k], keys[i], \"to\", this.PROPS.run[keys[i]])\n\t\t// \t\t\t\tchildElements[k][keys[i]]=this.PROPS.run[keys[i]]\n\t\t// \t\t\t\t}\n\t\t// \t\t\t}\n\t\t// \t\t}\n\t\treturn\n\t\t}\n\t//#########################################################################################################\n\t//## setCssProps()\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\tsetCssProps(profile)\n\t\t{\n\t\t//console.warn(profile)\t\n\t\tthis.style.setProperty('--topBarHeight', parseInt(profile.topBarHeight)+\"px\");\n\t\tthis.style.setProperty('--channelRowWidth', parseInt(profile.channelRowWidth)+\"px\");\n\t\tthis.style.setProperty('--channelRowHeight', parseInt(profile.channelRowHeight)+\"px\");\n\t\tthis.style.setProperty('--scale', parseFloat(profile.scale));\n\t\t}\n\t//#########################################################################################################\n\t//## renderSubApp()\n\t//##\n\t//##\n\t//##\n\trenderSubApp(subApp=null)\n\t\t{\n\t\tvar status=\"ok\"\n\t\tvar teststatus=status\n\t\tvar that=this\n\t\tif (this.getType(subApp, \"nodeElement\"))\n\t\t\t{\n\t\t\tteststatus=\"+\"\n\t\t\trender (subApp)\n\t\t\treturn\n\t\t\t}\n\t\telse if(this.getType(subApp, \"string\"))\n\t\t\t{\n\t\t\tteststatus=subApp\n\t\t\t}\n\n\t\tfor (var x in this.dependedApps)\n\t\t\t{\n\t\t\trender (this.dependedApps[x])\n\t\t\t}\n\n\n\t\tfunction render(app)\n\t\t\t{\n\n\t\t\tif (typeof app.render === \"function\")\n\t\t\t\t{\n\t\t\t\trenderme(app)\n\t\t\t\t}\n\t\t\telse if\t(typeof app.app.render === \"function\")\n\t\t\t\t{\n\t\t\t\trenderme(app[\"app\"])\n\t\t\t\tapp[\"status\"]=status\n\t\t\t\t}\n\n\n\t\t\tfunction renderme(me, status=\"ok\")\n\t\t\t\t{\n\n\t\t\t\tif (teststatus !== \"!\")\n\t\t\t\t\t{\n\t\t\t\t\tstatus=that.transferPROPS(that, me)\n\t\t\t\t\t}\n\t\t\t\tif ((teststatus === \"!\") || (teststatus === \"+\" ) || (status !== \"ok\" ))\n\t\t\t\t\t{\n\t\t\t\t\tme.render()\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\tgetEntityID()\n\t\t{\n\t\tent=this._config.entities || []\n\t\treturn this._config.entity;\n\t\t}\n\n\tgetState(ent)\n\t\t{\n\t\treturn this._hass.states[ent]||null;\n\t\t}\n\tgetLastChanged(ent)\n\t\t{\n\t\tent=getState(ent)\t\n\t\treturn ent.last_changed||null;\n\t\t}\n\tgetEntityID(ent)\n\t\t{\n\t\tent=getState(ent)\t\n\t\treturn ent.entity_id||null;\n\t\t}\n\tgetAttributes()\n\t\t{\n\t\t\treturn this.getState().attributes\n\t\t}\n\tsetConfig(config)\n\t\t{\n\t\tthis._info(\"setConfig\")\n\t\tthis._config = config;\n\t\tthis.doCheckConfig();\n\t\tthis.doUpdateConfig();\n\t\t}\n\n\tset hass(hass)\n\t\t{\n\t\tthis._info(\"set hass\", hass)\n\t\tthis.doUpdateHass(hass)\n\t\t}\n\t// jobs\n\tdoCheckConfig()\n\t\t{\n\t\tthis._info(\"doCheckConfig\")\n\t\tsetEntity.apply(this, [this._config.entity, this._config.entities])\n\t\tfunction setEntity()\n\t\t\t{\t\n\t\t\tfor (let i = 0; i < arguments.length; i++) \n\t\t\t\t{\n\t\t\t\tlet arr=(this._getType(arguments[i], \"string\"))?[arguments[i]]:(this._getType(arguments[i], \"array\"))?arguments[i]:[]\n\t\t\t\tfor (let ent of arr)\n\t\t\t\t\t{\n\t\t\t\t\tif (!this._entities[ent])\t\n\t\t\t\t\tthis._entities[ent]={name:ent, state:null, id:null, attributes:{}, last_changed:null}\t\n\t\t\t\t\t}\t\n\t\t\t\t}\n\t\t\t}\n\t\tif (Object.keys(this._entities).length === 0)\n\t\t\t{\n\t\t\tthrow new Error('Please define an entity!');\n\t\t\t}\n\t\telse\n\t\t\tthis._debug(\"ents\", this._entities)\n\t\t}\n\n\tdoUpdateConfig()\n\t\t{\n\t\t// for (let attr in this.getAttributes())\n\t\t// \t{}\n\t\tthis._info(\"doUpdateConfig\")\n\n\t\t}\n\n\tdoUpdateHass(hass)\n\t\t{\n\t\tthis._hass = hass;\n\t\tthis.PROPS.run[\"doUpdateEnts\"]=[]\n\t\tthis._info(\"doUpdateHasss\", hass)\n\t\tvar that=this\n\t\tif (that._hass.user.id !== that.PROPS.run.userid)\n\t\t\t{\n\t\t\tthat.PROPS.run.userid=that._hass.user.id\t\n\t\t\tthat.PROPS.run.username=that._hass.user.name\n\t\t\tthat.setProfile()\t\n\t\t\t}\t\t\n\t\tfor (let ent of Object.keys(this._entities))\n\t\t\t{\n\t\t\tlet state=this.getState(ent)\n\t\t\tthis._debug(\"state:\", state)\n\t\t\tif (!state)\n\t\t\t\t{\n\t\t\t\t// this._elements.error.textContent = `${ent} is unavailable.`;\n\t\t\t\t// this._elements.error.classList.remove(\"hidden\");\n\t\t\t\t// this._elements.dl.classList.add(\"hidden\");\n\t\t\t\t}\n\t\t\telse if (!this.PROPS.run.currentProfile)\n\t\t\t\t{\n\t\t\t\treturn\n\t\t\t\t}\t\n\t\t\telse if (state.last_changed !== that._entities[ent].last_changed)\n\t\t\t\t{\n\t\t\t\tthis._debug(\"doUpdateHass update detected\", that._entities[ent].last_changed, state.last_changed)\t\n\t\t\t\tthat._entities[ent].last_changed=state.last_changed\n\t\t\t\tthat._entities[ent].id=state.entity_id\n\t\t\t\tthat._entities[ent].attributes=that._extender({},state.attributes||{})\n\t\t\t\tif ( !this.PROPS.run.doUpdateEnts.includes(ent))\n\t\t\t\t\t{\n\t\t\t\t\tthis.PROPS.run.doUpdateEnts.push(ent)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\tthis.sendDataToWorker()\t\n\t\tthis._debug(\"doUpdateHass profile\", this.PROPS.run.currentProfile)\t\n\t\t}\n\tsendDataToWorker(now=new Date())\n\t\t{\n\t\tif ( !this._enable_DataWorker || !this.dataWorker)\treturn;\n\t\tlet interval=100\n\t\tlet maxTimespan=60*1000\n\t\tlet _now=new Date()\n\t\t//console.info(\"sendDataToWorker\", \"prepair\")\t\n\t\tif \t((!this.PROPS.run?.states?.constructed) && (_now-now < maxTimespan))\n\t\t\t{\n\t\t\t//console.info(\"sendDataToWorker\", \"start interval\")\t\n\t\t\tsetInterval(this.sendDataToWorker, interval, now)\n\t\t\treturn\t\n\t\t\t}\n\t\t// else \n\t\t// if ( !this.PROPS.run.doUpdateEnts || this.PROPS.run.doUpdateEnts.length == 0)\n\t\t// \t{\n\t\t// \tconsole.info(\"sendDataToWorker\", \"no updates\")\t\n\t\t// \treturn\t\n\t\t// \t}\n\t\tlet configs=this._extender({},this.PROPS.run.currentProfile.dataWorker||{})\n\t\tlet ents=[...this.PROPS.run.doUpdateEnts||[]]\n\t\tfor (let ent of ents)\n\t\t\t{\n\t\t\tthis.PROPS.run.doUpdateEnts = this.PROPS.run.doUpdateEnts.filter(function(e) { return e !== ent })\t\t\t\n\t\t\tconfigs=this._extender(configs,{source:ent, state:this.getState(ent)})\n\t\t\tlet workerdata=this._extender(this._entities[ent].attributes, {config:configs})\n\t\t\tthis._info(\"sendDataToWorker doUpdateHass run update\", ent, `${Object.keys(workerdata).length-1} channels`, workerdata)\t\n\t\t\tthis.dataWorker.addRequest(workerdata)\n\t\t\t}\n\t\n\n\t\t}\t\n\tsetProfile()\n\t\t{\n\t\tlet width=window.screen.width\n\t\tlet height=window.screen.height\n\t\tvar defaultProfil=this.PROPS.defaults.profiles.default\n\t\tlet design=this._extender({default:defaultProfil.design})\n\t\tfor ( let ori of defaultProfil.designOrientations)\n\t\t\t{\n\t\t\tdesign[ori]=this._extender({default:defaultProfil.design})\n\t\t\t}\n\t\tdesign=this._extender(design, this._config?.profile?.design||{})\n\t\tthis.PROPS.run.profiles=this._extender({},defaultProfil,this._config?.profile||{})\n\t\tthis.PROPS.run.profiles[\"design\"]=design\n\t\tthis.PROPS.run[\"states\"][\"profiled\"] =true;\n\t\tvar ev = new CustomEvent('profiled');\n\t\tthis.dispatchEvent(ev);\n\n\t\t}\n\n\n\n\n\nonClicked() {\n\tthis.doToggle();\n}\n\n// accessors\nisOff() {\n\treturn this.getState().state === 'off';\n}\n\nisOn() {\n\treturn this.getState().state === 'on';\n}\n\ngetHeader() {\n\treturn this._config.header;\n}\n\ngetEntityID() {\n\treturn this._config.entity;\n}\n\n\tgetState(ent) {\n\t//console.debug(\"staa\", ent, this.getEntityID())\n\treturn this._hass.states[this.getEntityID()];\n}\n\n\n\ngetName(ent) {\n\tconst friendlyName = this.getAttributes(ent).friendly_name;\n\treturn friendlyName ? friendlyName : this.getEntityID();\n}\n\n\n\n\n// doListen() {\n// \tthis._elements.dl.addEventListener(\"click\", this.onClicked.bind(this), false);\n// }\n\n\n\ndoToggle() {\n\tthis._hass.callService('input_boolean', 'toggle', {\n\t\tentity_id: this.getEntityID()\n\t});\n}\n\n// configuration defaults\nstatic getStubConfig() {\n\treturn { entity: \"input_boolean.tcwsd\" }\n}\n\t}\n","import { tgControlsHelperBasic } from './tgControls.helper_basic.js';\n\nexport class tgControls extends HTMLElement\n\t{\n\tconstructor(mode, defaultClass=null)\n\t\t{\n\t\tmode = ((mode) ? mode : \"closed\")\n\t\tsuper(mode);\n\t\tthis.helper = new tgControlsHelperBasic();\n\t\tthis.YES=this.helper.YES; this.NO=this.helper.NO\n\t\t//if (!defaultClass) this._warn(\"defaultClass\", mode, defaultClass)\n\n\t\tthis.defaultClass=(this._getType(defaultClass,'class' )==1)?defaultClass:null;\n\t\tthis._shadowRoot = createShadow.call(this, ((mode) ? mode : \"closed\"));\n\t\tthis.PROPS \t=this._extender(\n\t\t\t\t\t{\n\t\t\t\t\tdefaults:\t{msg:{log:false, warn:false, error:false, debug:false, showid:false}\t},\n\t\t\t\t\trun:\t\tthis._extender({},{states:{}, orientationObserver:{orientation:screen.orientation.type.replace(/-.+$/g, \"\"), angle:0, orientationExact:\"\"}, sizeObserver:{dir:\"xy\", width:0,height:0,orientation:\"\" }},tgControls.properties)\n\t\t\t\t\t},\n\t\t\t\t\t(this.defaultClass)?this.defaultClass?.getPROPS||{}:{}\n\t\t\t\t\t);\n\t\tthis.PROPS.run=this._extender(\tthis.PROPS.run,\n\t\t\t\t\t\t\t\t\t\t\tthis.PROPS.defaults,\n\t\t\t\t\t\t\t\t\t\t\t((! mode) || (mode != \"closed\"))?{msg:{debug:true,log:true,error:true,warn:true,showid:true}}:{})\n\n\t\tthis._resizeObserver = new ResizeObserver(changes =>\n\t\t\t{\n\t\t\tfor(const change of changes)\n\t\t\t\t{\n\t\t\t\tswitch (this.PROPS.run.sizeObserver.dir)\n\t\t\t\t\t{\n\t\t\t\t\tcase \"x\":\n\t\t\t\t\t\tif (change.contentRect.width === this.PROPS.run.sizeObserver.width) return;\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase \"y\":\n\t\t\t\t\t\tif (change.contentRect.height === this.PROPS.run.sizeObserver.height) return;\n\t\t\t\t\t\tbreak\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif ((change.contentRect.width === this.PROPS.run.sizeObserver.width) && (change.contentRect.height === this.PROPS.run.sizeObserver.height) )return\n\t\t\t\t\t}\n\t\t\t\tthis.PROPS.run.sizeObserver.width = change.contentRect.width\n\t\t\t\tthis.PROPS.run.sizeObserver.height = change.contentRect.height\n\t\t\t\tthis.PROPS.run.sizeObserver.orientation=(this.PROPS.run.sizeObserver.height < this.PROPS.run.sizeObserver.width)?\"landscape\":\"portait\"\n\t\t\t\tvar ev = new CustomEvent('resize');\n\t\t\t\tthis.dispatchEvent(ev);\n\t\t\t\t}\n\t\t\t})\n\t\t\tscreen.orientation.addEventListener(\"change\", (event) => {\n\t\t\t\tconst type = event.target.type;\n\t\t\t\tconst angle = event.target.angle;\n\t\t\t\tconst orient= type.replace(/-.+$/g, \"\");\n\t\t\t\tthis.PROPS.run.orientationObserver.orientationExact=type\n\t\t\t\tthis.PROPS.run.orientationObserver.angle=angle\n\t\t\t\tif (this.PROPS.run.orientationObserver.orientation !== orient)\n\t\t\t\t\t{\n\t\t\t\t\tvar ev = new CustomEvent('rotate');\n\t\t\t\t\tthat.dispatchEvent(ev);\t\t\n\t\t\t\t\t}\n\t\t\t  });\n\t\t\t\t\t  \n\t\t\tfunction createShadow()\n\t\t\t\t{\n\t\t\t\tlet shadow = this.attachShadow({ mode: mode });\n\t\t\t\tlet template=null\n\n\t\t\t\tif (typeof this.template === 'function')\n\t\t\t\t\t{\n\t\t\t\t\ttemplate = this.template();\n\t\t\t\t\t}\n\t\t\t\telse if (this.defaultClass)\n\t\t\t\t\t{\n\t\t\t\t\ttemplate = ((typeof this.defaultClass.template === \"function\")?this.defaultClass.template():null)||this.defaultClass.constructor.template||null;\n\t\t\t\t\t}\n\t\t\t\tlet tmp = document.createElement(\"div\");\n\t\t\t\ttemplate = (!template) ? null : (Array.isArray(template)) ? template : (typeof template === \"string\") ? [template] : null\n\t\t\t\tif (template)\n\t\t\t\t\t{\n\t\t\t\t\tfor (let elem of template)\n\t\t\t\t\t\t{\n\t\t\t\t\t\tif (typeof elem === \"string\")\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttmp.innerHTML = elem;\n\t\t\t\t\t\t\twhile(tmp.firstChild)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tshadow.appendChild(tmp.removeChild(tmp.lastChild));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttmp.innerHTML=\"\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (typeof elem == \"undefined\")\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tshadow.appendChild(elem);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\treturn shadow;\n\t\t\t\t}\n\n\t\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tattributeChangedCallback(attrName, oldVal, newVal)\n\t\t{\n\t\tif ( (oldVal === newVal) || (! newVal) || (! this.PROPS.run.hasOwnProperty(attrName)) || (this.PROPS.run[attrName]===newVal)) return false;\n\t\tthis.PROPS.run[attrName]=newVal;\n\n\t\tswitch (attrName)\n\t\t\t{\n\t\t\tcase \"log\":\n\t\t\t\tthis.PROPS.run.msg.log=this.getBoolean(newVal);\n\t\t\t\tbreak;\n\t\t\tcase \"info\":\n\t\t\t\tthis.PROPS.run.msg.info=this.getBoolean(newVal);\n\t\t\t\tbreak;\n\t\t\tcase \"debug\":\n\t\t\t\tthis.PROPS.run.msg.debug=this.getBoolean(newVal);\n\t\t\t\tbreak;\n\t\t\tcase \"error\":\n\t\t\t\tthis.PROPS.run.msg.error=this.getBoolean(newVal);\n\t\t\t\tbreak;\n\t\t\tcase \"warn\":\n\t\t\t\tthis.PROPS.run.msg.warn=this.getBoolean(newVal);\n\t\t\t\tbreak;\n\t\t\tcase \"showid\":\n\t\t\t\tthis.PROPS.run.msg.showid=this.getBoolean(newVal);\n\t\t\t\tbreak;\n\t\t\tcase \"stylesrc\":\n\t\t\t\tif (this._shadowRoot)\n\t\t\t\t\t{\n\t\t\t\t\twhile (this._shadowRoot.querySelector(\"[css_import]\"))\n\t\t\t\t\t\t{\n\t\t\t\t\t\tthis._shadowRoot.querySelector(\"[css_import]\").remove()\n\t\t\t\t\t\t}\n\t\t\t\t\tlet tmp=document.createElement(\"div\");\n\t\t\t\t\tvar styles=newVal.split(\";\")\n\t\t\t\t\tvar innerHTML=\"\"\n\t\t\t\t\tvar that=this\n\t\t\t\t\tstyles.forEach(function(val)\n\t\t\t\t\t\t{\n\t\t\t\t\t\tlet name=that.tagName.toLowerCase().replace(/[-\\.]/g,'');\n\t\t\t\t\t\tlet srcname = val.substring(val.lastIndexOf('/')+1).toLowerCase().replace(/[-\\.]/g,'');\n\t\t\t\t\t\tif ((srcname.startsWith(name)) || (srcname.startsWith(\"common\")) || (srcname.includes(\"tgcontrol\")) )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tinnerHTML+='<style> @import \"'+val+'\"; </style>'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\ttmp.innerHTML=innerHTML;\n\t\t\t\t\twhile(tmp.firstChild)\n\t\t\t\t\t\t{\n\t\t\t\t\t\tlet lastChild=tmp.lastChild\n\t\t\t\t\t\tlastChild.setAttribute(\"css_import\",\"true\")\n\t\t\t\t\t\tthis._shadowRoot.insertBefore(tmp.removeChild(lastChild), this._shadowRoot.firstChild)\n\t\t\t\t\t\t}\n\t\t\t\t\ttmp.remove();\n\t\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"left\":\n\t\t\tcase \"right\":\n\t\t\tcase \"top\":\n\t\t\tcase \"bottom\":\n\t\t\tcase \"width\":\n\t\t\tcase \"height\":\n\t\t\t\tbreak;\n\t\t\t}\n\t\treturn true\n\t\t}\n\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tconnected()\n\t\t{\n\t\t//console.debug(\"is connected - now fire connected event\", this)\n\t\tthis._debug(\"is connected - now fire connected event\")\n\t\tthis.PROPS.run[\"states\"][\"connected\"] =true;\n\t\tvar ev = new CustomEvent('connected');\n\t\tthis.dispatchEvent(ev);\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t// Weiterleitungen an die helper Klasse\n\t//\n\t//######################################################################################################################################\n\n\n\n\t//######################################################################################################################################\n\t_extender() \t\t\t\t{ return this.helper._extender.apply(this.helper, arguments);};\n\t//######################################################################################################################################\n\t_debug()\t\t\t\t\t{ var args = Array.from(arguments); args.unshift(\"debug\"); \tthis.helper._message.apply(this, args);}\n\t//######################################################################################################################################\n\t_info()\t\t\t\t\t\t{ var args = Array.from(arguments); args.unshift(\"info\"); \tthis.helper._message.apply(this, args);}\n\t//######################################################################################################################################\n\t_log()\t\t\t\t\t\t{ var args = Array.from(arguments); args.unshift(\"log\"); \tthis.helper._message.apply(this, args);}\n\t//######################################################################################################################################\n\t_warn()\t\t\t\t\t\t{ var args = Array.from(arguments); args.unshift(\"warn\"); \tthis.helper._message.apply(this, args);}\n\t//######################################################################################################################################\n\t_error()\t\t\t\t\t{ var args = Array.from(arguments); args.unshift(\"error\"); \tthis.helper._message.apply(this, args);}\n\t//######################################################################################################################################\n\t_htmlToElements()\t\t\t{ return this.helper._htmlToElements.apply(this.helper, arguments);}\n\t//######################################################################################################################################\n\t_htmlToElement()\t\t\t\t{ return this.helper._htmlToElement.apply(this.helper, arguments);}\n\t//######################################################################################################################################\n\t_getType()\t\t\t\t\t{ return this.helper._getType.apply(this.helper, arguments);}\n\t//######################################################################################################################################\n\n\n\t}\n","export class tgControlsHelperBasic\n\t{\n\tconstructor(props={})\n\t\t{\n\t\tthis.extendDateObject()\n\t\tthis.YES\t\t\t= [true, \"true\", 1, \"1\"];\n\t\tthis.NO\t\t\t\t= [false, \"false\", 0, \"0\", null];\n\t\tthis.PROPS=this._extender(\n\t\t\t{\n\t\t\trun:{\n\t\t\t\tmsg:\n\t\t\t\t\t{\n\t\t\t\t\terror:true,\n\t\t\t\t\twarn:true,\n\t\t\t\t\tinfo:true,\n\t\t\t\t\tdebug:true,\n\t\t\t\t\tlog:true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, props)\n\t\t}\n\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_fetch(opt)\n\t\t{\n\t\tif ( ! this._getType(opt, \"hash\")) {console.error(\"format for _fetch was no hash\"); return;}\n\t\tvar that=this;\n\t\tvar callback=opt.callback\n\t\tconsole.debug(\"fetcherzx\", opt)\n\t\topt=this._extender(\n\t\t\t{},\n\t\t\t{\n\t\t\tstartdelay:0,\n\t\t\toutputdelay:0,\n\t\t\turl:null,\n\t\t\tmethod:\"get\",\n\t\t\tdata:null,\n\t\t\tcallback:null,\n\t\t\ttimeout:5000,\n\t\t\tid:this._createID(),\n\t\t\theaders:{},\n\t\t\tfetchopt:{},\n\t\t\tinterpretAs:null\n\t\t\t},\n\t\t\topt,\n\t\t\t{\n\t\t\ttimestamp:null,\n\t\t\tduration:null,\n\t\t\tresult:null,\n\t\t\tstatus: \"init\",\n\t\t\terrortext:null\n\t\t\t}\n\t\t\t)\n\t\topt.callback=callback\n\t\tconsole.debug(\"fetcherx\", opt)\n\t\topt.fetchopt=this._extender(opt.fetchopt,{method:opt.method, headers:opt.headers})\n\t\tif ((opt.data) && (opt.data !== null))\n\t\t\t{\n\t\t\topt.fetchopt.method=\"post\"\n\t\t\tswitch (this._getType(opt.data))\n\t\t\t\t{\n\t\t\t\tcase \"string\":\n\t\t\t\t\topt.fetchopt.headers=this._extender(opt.fetchopt.headers, {'Content-Type' : 'application/text'})\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"jsonstring\":\n\t\t\t\t\topt.fetchopt.headers=this._extender(opt.fetchopt.headers, {'Content-Type' : 'application/json'})\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"formdata\":\n\t\t\t\t\t//opt.fetchopt.headers=this._extender(opt.fetchopt.headers, {'Content-Type' : 'application/json'})\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\topt.fetchopt.body= JSON.stringify(opt.data)\n\t\t\t\t\topt.fetchopt.headers=this._extender(opt.fetchopt.headers, {'Content-Type' : 'application/json'})\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\topt.timestamp=Date.now()\n\n\t\t//this.fetchDataStack[opt.id]=opt\n\t\t//#################################################################################################\n\t\tfunction runCallback(opt)\n\t\t\t{\n\t\t\tif (typeof opt.callback === \"function\")\n\t\t\t\t{\n\t\t\t\topt.callback(opt)\n\t\t\t\t}\n\t\t\t}\n\n\t\t//#################################################################################################\n\t\tconst delay = mseconds =>\n\t\t\t\t{\n\t\t\t\treturn new Promise \t(\n\t\t\t\t\t\t\t\t\tresolve => setTimeout (resolve, mseconds )\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t};\n\t\t//#################################################################################################\n\t\tconst fetcher = async () =>\n\t\t\t\t{\n\t\t\t\tthat._debug(\"fetcher start inside\", opt)\n\t\t\t\tawait delay (opt.startdelay);\n\t\t\t\tfetch( opt.url, opt.fetchopt)\n\t\t\t\t.then((response) => {\n\t\t\t\t\t\t\t\t\tif (response.ok)\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tif ((opt.interpretAs) && (opt.interpretAs !== null))\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\topt.fetchopt[\"interpretAs\"]=opt.interpretAs\n\t\t\t\t\t\t\t\t\t\t\treturn response[opt.interpretAs]()\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\treturn response.text()\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\treturn Promise.reject('error: ' + response.status)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t.then(function(response)\n\t\t\t\t\t{\n\t\t\t\t\topt[\"result\"]=response\n\t\t\t\t\topt[\"duration\"]=Date.now()-opt.timestamp\n\t\t\t\t\topt[\"status\"]=\"done\"\n\t\t\t\t\tif (! opt.fetchopt.interpretAs)\n\t\t\t\t\t\t{\n\t\t\t\t\t\tif (that._getType(response, \"jsonstring\"))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\topt.fetchopt[\"interpretAs\"]=\"json\"\n\t\t\t\t\t\t\topt[\"result\"]=JSON.parse(response) || response;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\topt.fetchopt[\"interpretAs\"]=\"text\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\trunCallback(opt)\n\t\t\t\t\t})\n\t\t\t\t.catch(function(error)\n\t\t\t\t\t{\n\t\t\t\t\topt[\"status\"]=\"error\"\n\t\t\t\t\topt[\"errortext\"]=error\n\t\t\t\t\tthat._error(\"method _fetch:\",error,\"\\nurl=\"+(opt.url));\n\t\t\t\t\trunCallback(opt)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t//#################################################################################################\n\t\tfetcher()\n\t\treturn;\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_message()\n\t\t{\n\t\tvar args = Array.from(arguments);\n\t\tvar type=args.shift().toLowerCase()\n\t\tif (! [\"debug\",\"info\",\"warn\",\"log\",\"error\"].includes(type)) return;\n\t\tif (typeof this.hasAttribute === 'function')\n\t\t\t{\n\t\t\targs.unshift(this.nodeName+((this.hasAttribute(\"id\"))?\"(\"+this.getAttribute(\"id\")+\")\":\"\")+\":\");\n\t\t\t}\n\t\tif (this.PROPS.run.msg[type.toLowerCase()] !== false) console[type.toLowerCase()].apply(this,args);\n\t\t}\n\t//######################################################################################################################################\n\t_debug()\n\t\t{\n\t\tvar args = Array.from(arguments); args.unshift(\"debug\"); this._message.apply(this, args)\n\t\t}\n\t//######################################################################################################################################\n\t_info()\n\t\t{\n\t\tvar args = Array.from(arguments); args.unshift(\"info\"); this._message.apply(this, args)\n\t\t}\n\t//######################################################################################################################################\n\t_log()\n\t\t{\n\t\tvar args = Array.from(arguments); args.unshift(\"log\"); this._message.apply(this, args)\n\t\t}\n\t//######################################################################################################################################\n\t_warn()\n\t\t{\n\t\tvar args = Array.from(arguments); args.unshift(\"warn\"); this._message.apply(this, args)\n\t\t}\n\t//######################################################################################################################################\n\t_error()\n\t\t{\n\t\tvar args = Array.from(arguments); args.unshift(\"error\"); this._message.apply(this, args)\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_getBoolean(val)\n\t\t{\n\t\tval=(this._getType(val, \"string\"))?val.toLowerCase():val;\n\t\treturn this.YES.includes(val);\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_extender () //clone an Object\n\t\t{\n\t\tfor(var i=1; i<arguments.length; i++)\n\t\t\t{\n\t\t\tfor(var key in arguments[i])\n\t\t\t\t{\n\t\t\t\tvar isitArray=false;\n\t\t\t\targuments[0][key]=arguments[0][key]||{};\n\t\t\t\tif (typeof arguments[i][key] === \"function\")\n\t\t\t\t\t{\n\t\t\t\t\targuments[0][key] = arguments[i][key];\n\t\t\t\t\t}\n\t\t\t\telse if ( isObject(arguments[i][key]) )\n\t\t\t\t\t{\n\t\t\t\t\targuments[0][key]=(Array.isArray(arguments[i][key]))? arguments[i][key]:this._extender(arguments[0][key],arguments[i][key]);\n\t\t\t\t\t}\n\t\t\t\telse if (Object.prototype.hasOwnProperty.call(arguments[i], key))\n\t\t\t\t\t{\n\t\t\t\t\targuments[0][key] = arguments[i][key];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\treturn arguments[0];\n\t\tfunction isObject(obj)\n\t\t\t{\n\t\t\treturn obj === Object(obj);\n\t\t  \t}\n\t\t};\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_show(elem)\n\t\t{\n\t\tlet myElem\t=  (elem)?(this._getType(elem, \"nodeElement\"))?elem:null:( (this) && (this._getType(this, \"nodeElement\")) )?this:null;\n\t\tif (myElem)\n\t\t\t{\n\t\t\t//this._debug(\"show \"+ myElem.tagName, myElem);\n\t\t\tmyElem.classList.remove(\"hide\");\n\t\t\tmyElem.classList.add(\"show\");\n\t\t\t}\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_hide(elem)\n\t\t{\n\t\tlet myElem\t=  (elem)?(this._getType(elem, \"nodeElement\"))?elem:null:( (this) && (this._getType(this, \"nodeElement\")) )?this:null;\n\t\tif (myElem)\n\t\t\t{\n\t\t\t//this._debug(\"hide \"+ myElem.tagName, myElem);\n\t\t\tmyElem.classList.remove(\"show\");\n\t\t\tmyElem.classList.add(\"hide\");\n\t\t\t}\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_htmlToElements(html)\n\t\t{\n\t\tvar template = document.createElement('template');\n\t\ttemplate.innerHTML = html;\n\t\treturn template.content.childNodes;\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_htmlToElement(html)\n\t\t{\n\t\tvar template = document.createElement('template');\n\t\thtml = html.trim(); // Never return a text node of whitespace as the result\n\t\ttemplate.innerHTML = html;\n\t\treturn template.content.firstChild;\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_createID(node=null)\n\t\t{\n\t\tlet id = Date.now().toString(36) + Math.random().toString(36).substr(2);\n\t\tif (this._getType(node, \"nodeElement\")) node.setAttribute(\"id\", id);\n\t\treturn id;\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_getType(obj, types=null)\n\t\t{\n\t\tlet reg=/\\s*([|,;\\s])\\s*/g;\n\t\ttypes= (!types)?null:( (Array.isArray(types))?types: ((!(typeof(types) == \"string\"))?null:(types == \"\")?null:types.split(reg)) );\n\n\t\tvar t=typeof(obj);\n\t\tif (t==\"string\")\n\t\t\t{\n\t\t\ttry\n\t\t\t\t{\n\t\t\t\tt=\"jsonstring\"\n\t\t\t\tJSON.parse(obj);\n\t\t\t\t}\n\t\t\tcatch (e)\n\t\t\t\t{\n\t\t\t\tt=\"string\"\n\t\t\t\t}\n\t\t\t}\n\t\telse if (t==\"object\")\n\t\t\t{\n\t\t\tif (Array.isArray(obj))\n\t\t\t\t{\n\t\t\t\tt=\"array\";\n\t\t\t\t}\n\t\t\telse if (obj===null)\n\t\t\t\t{\n\t\t\t\tt=\"null\";\n\t\t\t\t}\n\t\t\telse if (obj.nodeType !== undefined)\n\t\t\t\t{\n\t\t\t\tswitch\t(obj.nodeType)\n\t\t\t\t\t{\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tt=\"nodeElement\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\tt=\"nodeText\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tt=\"node\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\telse if (obj instanceof FormData)\n\t\t\t\t{\n\t\t\t\tt=\"formdata\"\n\t\t\t\t}\n\t\t\telse if ( (Object.getPrototypeOf(obj)) && (obj.length))\n\t\t\t\t{\n\t\t\t\tlet x=Object.getPrototypeOf(obj);\n\t\t\t\tx=x.toString();\n\t\t\t\tlet y=x.match(/\\s(.+?)\\]$/);\n\t\t\t\tif (y) t=\"array\"+y[1];\n\t\t\t\t}\n\t\t\telse if (Object.hasOwn(obj,\"thisIsClass\"))\n\t\t\t\t{\n\t\t\t\tt=\"class\";\n\t\t\t\t}\t\n\t\t\telse\n\t\t\t\t{\n\t\t\t\tt=\"hash\";\n\t\t\t\t}\n\t\t\t}\n\t\tif ( (types) && (Array.isArray(types)) )\n\t\t\t{\n\t\t\tlet q = types.includes(t);\n\t\t\ttypes.forEach(type =>\n\t\t\t\t{\n\t\t\t\tif (q === true) return;\n\t\t\t\tif ( (type.endsWith(\".\")) && (type.substr(-1)==t) ) q=true;\n\t\t\t\t});\n\t\t\treturn (q|t);\n\t\t\t}\n\t\treturn t;\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_JSONcorrector(val=\"[]\", splitter=null)\n\t\t{\n\t\tlet org=val;\n\t\tif (this._getType(val, \"string,jsonstring\"))\n\t\t\t{\n\t\t\ttry\n\t\t\t\t{\n\t\t\t\tval=JSON.parse(val);\n\t\t\t\t}\n\t\t\tcatch\n\t\t\t\t{\n\t\t\t\tif (org == \"\")\n\t\t\t\t\t{\n\t\t\t\t\tconsole.debug('%cJSONcorrector: your JSON-Code was empty ', 'background: #222; color: #bada55');\n\t\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\tconsole.debug('%cToolBar: there was an Error in your JSON Code ', 'background: #222; color: #bada55');\n\t\t\t\t\tconsole.debug('JSON-code: %c'+org, 'background: #222; color: #bada55');\n\t\t\t\t\t}\n\t\t\t\tif (splitter)\n\t\t\t\t\t{\n\t\t\t\t\tval=val.split(splitter);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\treturn ( (this._getType(val,\"array hash\"))?val:[val] );\n\t\t}\n\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_get2digit(dig, len=2)\n\t\t{\n\t\tdig=dig+\"\"\n\t\twhile (dig.length<len){dig=\"0\"+dig}\n\t\treturn dig\n\t\t}\n\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\textendDateObject()\n\t\t{\n\t\tif( typeof Date.prototype.addHours === 'undefined' )\n\t\t\t{\n\t\t\tDate.prototype.addHours = function(h)\n\t\t\t\t{\n\t\t\t\tthis.setTime(this.getTime() + (h*60*60*1000));\n\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t}\n\t\tif( typeof Date.prototype.addMinutes === 'undefined' )\n\t\t\t{\n\t\t\tDate.prototype.addMinutes = function(m)\n\t\t\t\t{\n\t\t\t\tthis.setTime(this.getTime() + (m*60*1000));\n\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t}\n\t\tif( typeof Date.prototype.addSeconds === 'undefined' )\n\t\t\t{\n\t\t\tDate.prototype.addSeconds = function(m)\n\t\t\t\t{\n\t\t\t\tthis.setTime(this.getTime() + (m*1000));\n\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t}\n\t\tif( typeof Date.prototype.floorHours === 'undefined' )\n\t\t\t{\n\t\t\tDate.prototype.floorHours = function()\n\t\t\t\t{\n\t\t\t\tlet month=(this.getMonth()+1)+\"\"; while (month.length<2){month=\"0\"+month}\n\t\t\t\tlet day=(this.getDate())+\"\"; while (day.length<2){day=\"0\"+day}\n\t\t\t\tlet hour=(this.getHours())+\"\"; while (hour.length<2){hour=\"0\"+hour}\n\t\t\t\tthis.setTime(Date.parse(`${this.getFullYear()}-${month}-${day}T${hour}:00:00.000`))\n\n\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t}\n\t\tif( typeof Date.prototype.ceilHours === 'undefined' )\n\t\t\t{\n\t\t\tDate.prototype.ceilHours = function()\n\t\t\t\t{\n\t\t\t\tlet month=(this.getMonth()+1)+\"\"; while (month.length<2){month=\"0\"+month}\n\t\t\t\tlet day=(this.getDate())+\"\"; while (day.length<2){day=\"0\"+day}\n\t\t\t\tlet hour=(this.getHours())+\"\"; while (hour.length<2){hour=\"0\"+hour}\n\t\t\t\tthis.setTime(Date.parse(`${this.getFullYear()}-${month}-${day}T${hour}:00:00.000`)+3600000)\n\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_readFromStorage(app=null)\n\t\t{\n\t\tlet opt=localStorage.getItem(app) || \"{}\";\n\t\treturn JSON.parse(opt) || opt;\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_clearStorage(app=null)\n\t\t{\n\t\tlocalStorage.removeItem(app);\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_writeToStorage(app, opt={})\n\t\t{\n\t\t//opt=this._extender({}, opt);\n\t\tfor (let prop in opt)\n\t\t\t{\n\t\t\tif (prop.startsWith(\"_\")) delete opt[prop];\n\t\t\t}\n\t\tvar org=this._readOptionsFromStorage(app)\n\t\tvar keys=Object.keys(opt);\n\t\tkeys.forEach(function(key, index)\n\t\t\t{\n\t\t\torg[key]=opt[key]\n\t\t\t})\n\t\topt=JSON.stringify(org);\n\t\tlocalStorage.setItem(app, opt);\n\t\t}\n\n\t}","exports.interopDefault = function (a) {\n  return a && a.__esModule ? a : {default: a};\n};\n\nexports.defineInteropFlag = function (a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n};\n\nexports.exportAll = function (source, dest) {\n  Object.keys(source).forEach(function (key) {\n    if (\n      key === 'default' ||\n      key === '__esModule' ||\n      Object.prototype.hasOwnProperty.call(dest, key)\n    ) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function () {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n};\n\nexports.export = function (dest, destName, get) {\n  Object.defineProperty(dest, destName, {\n    enumerable: true,\n    get: get,\n  });\n};\n","import { tgEpgDefaultsCommon }  from \"./defaults_Common.js\"\n\nexport class tgEpgCardDefaults extends tgEpgDefaultsCommon\n\t{\n\tconstructor()\n\t\t{\n\t\tsuper(\"open\");\n\t\tthis[\"PROPS\"]=\n\t\t\t\t\t\t{\n\t\t\t\t\t\tdefaults: \tthis._extender({}, this[\"PROPS\"].defaults||{},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tprofiles:\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\toptions:\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tuseOrientationDetection:false,\t\n\t\t\t\t\t\t\t\t\t\tuseWidthDetection:false,\t\n\t\t\t\t\t\t\t\t\t\t},\t\n\t\t\t\t\t\t\t\t\tdataWorker:\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tpastTimeSec: (1*60*60),\n\t\t\t\t\t\t\t\t\t\tpreviewAll: (0.5*24*60*60),\n\t\t\t\t\t\t\t\t\t\tviewAllowedOversize: (0.5*60*60)\t\n\t\t\t\t\t\t\t\t\t\t},\t\t\t\n\t\t\t\t\t\t\t\t\tdesignOrientations:[\"portait\", \"landscape\"],\t\n\t\t\t\t\t\t\t\t\tdesign:\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tpreviewSpan:14400,  //tatsächlich angezeigten Minuten im Fenster\n\t\t\t\t\t\t\t\t\t\tsetOfSpan:1800, //Versatz der Ansicht nach rechts damit der Zeitzeiger nicht am Fensterand steht\n\n\t\t\t\t\t\t\t\t\t\tchannelRowWidth:120,\n\t\t\t\t\t\t\t\t\t\tchannelRowHeight:35,\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tchannelStyle:\"icon|text\",\n\n\t\t\t\t\t\t\t\t\t\ttopBarHeight:50,\n\n\t\t\t\t\t\t\t\t\t\tloadReview: 7200,\n\t\t\t\t\t\t\t\t\t\tloadPreview: 604800,\n\t\t\t\t\t\t\t\t\t\tdw_loadPreviewUnits: [\"last\", \"now\", \"next\", \"hour\", \"today\", \"tomorow\", \"hourly\"],\n\t\t\t\t\t\t\t\t\t\tdw_useLoadUnits: true\n\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t}\n\t\t}\n\n\tstatic get properties()\n\t\t{\n\t\tvar props=super.properties||{};\n\t\tprops[\"dataref\"]=null;\n\t\tprops[\"timerowheight\"]=\"50\";\n\t\tprops[\"channelrowheight\"]=\"50\";\n\t\tprops[\"channelcolumnwidth\"]=\"150\";\n\t\tconsole.debug(\"get properties fct in defaults card:\", props)\n\t\treturn props;\n\t\t}\n\n\tstatic get template()\n\t\t{\n\t\t\tvar styles=super.styles||\"\";\n\t\t\tstyles=styles+`\n\t\t\t<style>\n\t\t\t:host\n\t\t\t\t{\n\t\t\t\tposition:relative;\t\n\t\t\t\tpadding:0px;\n\t\t\t\tmargin:0px;\n\t\t\t\twidth:100%;\n\t\t\t\tbottom:50px;\n\t\t\t\ttop:0px;\n\t\t\t\t/*height:100%;*/\n\t\t\t\tdisplay:block;\n\t\t\t\t--topBarHeight-used: calc( var(--topBarHeight,45px) * 1);\n\t\t\t\t--channelRowWidth-used: calc( var(--channelRowWidth,100px) *1);\n\t\t\t\t--channelRowHeight-used: calc( var(--channelRowHeight,40px) * 1);\n\t\t\t\t--scale-used: calc( var(--scale, 1) * 1);\n\t\t\t\t--appHeight-used: calc( var(--appHeight, 100%) * 1);\n\n\t\t\t\t}\n\t\t\tdiv\n\t\t\t\t{\n\t\t\t\tpadding: 0px;\n\t\t\t\tmargin: 0px;\n\t\t\t\tbox-sizing: border-box;\n\t\t\t\tdisplay:inline-block;\n\t\t\t\t}\n\t\t\tha-card\n\t\t\t\t{\n\t\t\t\tdisplay:block;\n\t\t\t\theight:100%;\t\n\t\t\t\t}\t\n\t\t\t.gridcontainer\n\t\t\t\t{\n\t\t\t\tdisplay: grid;\n\t\t\t\tgrid-auto-rows: 1fr;\n\t\t\t\tgrid-template-columns: var(--channelRowWidth-used) 1fr;\n\t\t\t\tgrid-template-rows: var(--topBarHeight-used) calc(100% - var(--topBarHeight-used));\n\t\t\t\tgap: 0px 0px;\n\t\t\t\tgrid-template-areas:\n\t\t\t\t\t\"superbutton timeBar\"\n\t\t\t\t\t\"epgOutBox epgOutBox\";\n\t\t\t\twidth: 100%;\n\t\t\t\theight: var(--appHeight-used);\n\n\t\t\t\t}\n\t\t\t.superbutton { grid-area: superbutton; }\n\t\t\t.timeBar { grid-area: timeBar; }\n\t\t\t.epgOutBox { grid-area: epgOutBox; }\n\n\n\t\t\t/* [name=\"app\"]\n\t\t\t\t{\n\t\t\t\ttop:0px;\n\t\t\t\tleft:0px;\n\t\t\t\toverflow: hidden;\n\t\t\t\t}\n\t\t\t*/\n\t\t\t[name=\"timeBar\"]\n\t\t\t\t{\n\t\t\t\tbackground-color: lightgray;\n\t\t\t\twhite-space: nowrap;\n\t\t\t\toverflow: hidden;\n\t\t\t\t}\n\t\t\t[name=\"superbutton\"]\n\t\t\t\t{\n\t\t\t\tbackground-color: yellow;\n\t\t\t\t}\n\t\t\t[name=\"epgOutBox\"]\n\t\t\t\t{\n\t\t\t\tbackground-color: pink;\n\t\t\t\twidth:100%;\n\t\t\t\theight:100%;\n\t\t\t\t/*overflow-y: hidden;*/\n\t\t\t\toverflow-x: hidden;\n\t\t\t\t}\n\n\t\t\t[name=\"epgBox\"]\n\t\t\t\t{\n\t\t\t\tdisplay: grid;\n\t\t\t\tgrid-auto-rows: 1fr;\n\t\t\t\tgrid-template-columns: var(--channelRowWidth, 99px) 1fr;\n\t\t\t\tgrid-template-rows: minmax(min-content, max-content) ;\n\t\t\t\tgap: 0px 0px;\n\t\t\t\tgrid-template-areas:\n\t\t\t\t\t\"channelBox programBox\";\n\t\t\t\twidth:100%;\n\t\t\t\t/*position: absolute;*/\n\t\t\t\theight:100%;\n\t\t\t\tgrid-auto-flow: dense;*/\n\t\t\t\t}\n\t\t\t[name=\"channelBox\"]\n\t\t\t\t{\n\t\t\t\t/*position: absolute;*/\n\t\t\t\tbackground-color: lightblue;\n\t\t\t\tposition:relative;\n\t\t\t\t/*\n\t\t\t\toverflow-x:hidden;\n\t\t\t\toverflow-y:visible !important;*/\n\t\t\t\t}\n\t\t\t[name=\"programBox\"]\n\t\t\t\t{\n\t\t\t\ttop:0px;\n\t\t\t\tbackground-color: darkred;\n\t\t\t\tposition:relative;\n\t\t\t\toverflow-x: auto;\n\t\t\t\toverflow-y: visible;\n\n\t\t\t\t}\n\t\t\t/*hide scrollbar*/\n\t\t\t[name=\"programBox\"]\n\t\t\t\t{\n\t\t\t\t-ms-overflow-style: none;\n\t\t\t\tscrollbar-width: none;\n\t\t\t\t}\n\t\t\t[name=\"programBox\"]::-webkit-scrollbar\n\t\t\t\t{\n\t\t\t\tdisplay: none;\n\t\t\t\t  }\n\t\t\t.Tab\n\t\t\t\t{\n\t\t\t\tdisplay:table;\n\t\t\t\tborder-collapse: collapse;\n\t\t\t\t}\n\t\t\t.TabRow\n\t\t\t\t{\n\t\t\t\tdisplay:table-row;\n\t\t\t\t}\n\t\t\t.TabCell\n\t\t\t\t{\n\t\t\t\tdisplay:table-cell;\n\t\t\t\tvertical-align:top;\n\t\t\t\t}\n\t\t\t.optionBox\n\t\t\t\t{\n\t\t\t\tposition:absolute;\n\t\t\t\tleft:0px;\n\t\t\t\ttop:0px;\n\t\t\t\theight:100%;\n\t\t\t\twidth:100%;\n\t\t\t\tbackground-color:gray;\n\t\t\t\tz-Index:3000;\n\t\t\t\t}\n\t\t\ttg-epg-timebar\n\t\t\t\t{\n\t\t\t\t--timeBarBorder: 1px solid black;\n\t\t\t\t--timeBarHeight: var(--topBarHeight, 50px);\n\t\t\t\t--timeBarScale:  var(--scale, 0.1);\n\t\t\t\t}\n\t\t\ttg-epg-proglist, tg-epg-channellist\n\t\t\t\t{\n\t\t\t\t--channelLineHeight: var(--channelRowHeight, 50px);\n\t\t\t\t--channelLineScale:  var(--scale, 0.1);\n\t\t\t\t}\n\n\t\t\t</style>\n\t\t\t`;\n\t\t\tvar tmp=styles+`\n\t\t\t<!-- App -->\n\t\t\t<ha-card>\n\t\t\t<div name=\"app\" class=\"card-content gridcontainer\">\n\t\t\t\t<div name=\"superbutton\" class=\"superbutton\"></div>\n\t\t\t\t<div name=\"timeBar\" class=\"timeBar\"></div>\n\t\t\t\t<div name=\"epgOutBox\" class=\"epgOutBox\">\n\t\t\t\t\t<tgcontrol-scrollbar class=\"tgcontrolscrollbarx hide\" pos=\"bottom\" getsizefrom='.tgEpgProgList' getxsizefrom=\"\" getysizefrom=\"\"></tgcontrol-scrollbar>\n\t\t\t\t\t<div name=\"epgBox\" class=\"epgBox\">\n\t\t\t\t\t\t<div name=\"channelBox\" class=\"\"></div>\n\t\t\t\t\t\t<div name=\"programBox\" class=\"programBox\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<!-- App Ende-->\n\t\t\t<tg-epg-options name=\"optionBox\" class=\"optionBox hide\" ></tg-epg-options>\n\t\t\t<tg-floatingMenu pos=\"brv\" folded=\"folded\"  class=\"hide\">\n\t\t\t\t<button class=\"tground  black\" name=\"blupd\" id=\"floatingMenuTimer\">T</button>\n\t\t\t\t<button class=\"tground  black\" name=\"blupd\" id=\"floatingMenuGroups\">G</button>\n\t\t\t\t<button class=\"tground  black\" name=\"blupd\" id=\"floatingMenuFilter\">F</button>\n\t\t\t\t<button class=\"tground  black\" name=\"ButtoSave\" id=\"floatingMenuOptions\">O</button>\n\t\t\t</tg-floatingMenu>\n\t\t\t</ha-card>\n\t\t\t`;\n\n\t\t\treturn\ttmp;\n\n\t\t}\n\t}\n","import { tgControlsHelperBasic } from './lib/tgControls.helper_basic.js';\n\nexport class tgEpgDefaultsCommon\n\t{\n\tthisIsClass=true\t\n\tconstructor()\n\t\t{\n\t\tthis.helper = new tgControlsHelperBasic();\n\n\t\tthis[\"PROPS\"]=\n\t\t\t{\n\n\t\t\t}\n\t\t}\n\tget getPROPS()\n\t\t{\n\t\treturn this._extender({}, this.PROPS||{false:\"\"});\n\t\t}\n\tstatic get properties()\n\t\t{\n\t\tvar props={};\n\t\treturn props;\n\t\t}\n\n\tstatic get styles()\n\t\t{\n\t\treturn \t`\n\t\t\t\t<style>\n\t\t\t\t:host\n\t\t\t\t\t{\n\t\t\t\t\t}\n\t\t\t\t:host .greedy\n\t\t\t\t\t{\n\t\t\t\t\theight: 100%;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\t}\n\t\t\t\t:host .greedyW\n\t\t\t\t\t{\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\t}\n\t\t\t\t:host .greedyH\n\t\t\t\t\t{\n\t\t\t\t\theight: 100%;\n\t\t\t\t\t}\n\t\t\t\t.Tab\n\t\t\t\t\t{\n\t\t\t\t\tdisplay:table;\n\t\t\t\t\tborder-collapse: collapse;\n\t\t\t\t\t}\n\t\t\t\t.TabRow\n\t\t\t\t\t{\n\t\t\t\t\tdisplay:table-row;\n\t\t\t\t\t}\n\t\t\t\t.TabCell\n\t\t\t\t\t{\n\t\t\t\t\tdisplay:table-cell;\n\t\t\t\t\t}\n\t\t\t\t.hide\n\t\t\t\t\t{\n\t\t\t\t\tdisplay:none;\n\t\t\t\t\t}\n\t\n\t\t\t\ttg-epg-proglist, tg-epg-channellist\n\t\t\t\t\t{\n\t\t\t\t\t--channelLineScale:  var(--scale, 0.1);\n\t\t\t\t\t}\t\t\n\t\t\t\t</style>\n\t\t\t\t`\t\n\t\t}\t\n\t//######################################################################################################################################\n\t//\n\t// Weiterleitungen an die helper Klasse\n\t//\n\t//######################################################################################################################################\n\t//######################################################################################################################################\n\t_extender() \t\t\t\t{ return this.helper._extender.apply(this.helper, arguments);};\n\t//######################################################################################################################################\n\n\t}\n","\nimport { tgControlsHelperBasic } from \"./lib/tgControls.helper_basic.js\";\n// Struktur:\n\t// \t\t\tthis.channels=\t{\n\t// \t\t\t\t\t\t\ttodolist:\t{\n\t//\t\t\t\t\t\t\t\t\t\tdelete:[]\n\t//\t\t\t\t\t\t\t\t\t\t},\n\t//\t\t\t\t\t\t\tdata\t\t{\n\t//\t\t\t\t\t\t\t\t\t\t<channelid>:\t{\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\tsourceID:\t\t\"\",\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\tchannelID:\t\t\"\",\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\tname:\t\t\t\"\",\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\tfriendlyName:\t\"\",\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\tpreSpan:\t\t0,\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\tpostSpan:\t\t0,\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\tepg:\t\t\t{},\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata:\t\t\t{\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<key>:\t{\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstart:123,\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tend:123;\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tduration:123,\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey:\"\",\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thtml:\"\",\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tepg:{}\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\ttodolist:\t\t{},\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t//\t\t\t\t\t\t\t\t\t\t}\n\t//\t\t\t\t\t\t\t}\n\nexport class tgEpgDataService extends tgControlsHelperBasic\n    {\n    constructor(me=null)\n        {\n        super();\n        this.basicConfig =\n            {\n\t\t\tpastTimeSec: (1*60*60),\n\t\t\tpreviewAll: (7*24*60*60),\n\t\t\tviewAllowedOversize: (0,5*60*60),\t\n            map:\n                {\n                duration: [\"DURATION\", \"duration\", \"DURATION\"],\n                start: [\"START\", \"start\", \"START\"],\n                end: [\"END\", \"end\", \"END\"],\n                channelid: [\"CHANNELID\", \"channelID\", \"CHANNELID\"],\n\t\t\t\tid:[\"ID\", \"id\", \"ID\"],\n                title: [\"TITLE\", \"TITLE\"],\n\t\t\t\tdescription:[\"DESCRIPTION\", \"DESCRIPTION\"]\n                },\n            showTemplate: `<tgepg-progitem class=\"TabCell\" span=\"<!DURATION!>\" start=\"<!START!>\" end=\"<!END!>\" channelid=\"<!CHANNELID!>\" id=\"<!ID!>\" style=\"--progItemSpan: <!DURATION!>px;\">\n\t\t\t\t\t\t\t<div slot=\"titleslot\"><!TITLE!></div>\n\t\t\t\t\t\t\t<div slot=\"descriptionslot\"><!DESCRIPTION!></div>\n\t\t\t\t\t\t\t</tgepg-progitem>`,\n            channelTemplate: `<tgepg-progline class=\"TabCell\" channelid=\"<!CHANNELID!>\" id=\"<!ID!>\"><!SHOWTEMPLATE!></tgepg-progline>`,\n            };\n\t\tthis.me = (me)? me :null\t;\n        this.channelsHtml = {};\n        this.channelsTmpl \t= \t{\n\t\t\t\t\t\t\t\ttodolist:{delete:[], add:[]},\n\t\t\t\t\t\t\t\tdata:{}\n\t\t\t\t\t\t\t\t};\n\t\tthis.channelTmpl\t= \t{\n\t\t\t\t\t\t\t\ttodolist:{delete:[], add:[]},\n\t\t\t\t\t\t\t\tdata:{}\n\t\t\t\t\t\t\t\t}\n\t\tthis.channels \t= \t\tthis._extender({}, this.channelsTmpl)\n\n\n\t\t//console.debug(this.me)\n        }\n\n\taddRequest(data)\n        {\n\t\tthis._warn(\"data: received\",this._getType(data))\n\t\n        if (!this._getType(data, \"hash\")) return null;\n\t\t//alert(\"get request\")\n        var that = this;\n        //###############################\n\t\tfunction _template_mapper(templ, map, source)\n\t\t\t{\n\t\t\tvar mapkeys = Object.keys(map);\n\t\t\tvar sourcekeys = Object.keys(source);\n\t\t\tmapkeys.forEach(function (k, i)\n\t\t\t\t{\n\t\t\t\tlet needle=`<!${map[k][0]}!>`\n\t\t\t\tif (templ.includes(needle))\n\t\t\t\t\t{\n\t\t\t\t\tfor (let p=1; p<map[k].length;p++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\tif (sourcekeys.includes(map[k][p]))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst regex = new RegExp(needle, \"gi\");\n\t\t\t\t\t\t\ttempl=templ.replaceAll(regex, source[map[k][1]])\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t//console.debug(\"_template_mapper\", source, templ)\n\t\t\treturn templ\n\t\t\t}\n        //###############################\n        //###############################\n        function _createShowItem(index, epg, id)\n            {\n\t\t\tlet item=that._extender({},epg)\n\t\t\tlet start = (index.match(/^[0-9]+$/g)) ? parseInt(index) : false;\n\t\t\tlet duration = epg[that.basicConfig.map.duration[0]] || false\n\t\t\tduration=(duration && duration.match(/^[0-9]+$/g))? parseInt(duration) : false;\n            item= that._extender({},item,\n\t\t\t\t\t{\n\t\t\t\t\tstart: \t\tstart,\n\t\t\t\t\tduration: \tduration,\n\t\t\t\t\tend: \t\t(!start || !duration)?false:start+duration,\n\t\t\t\t\tkey:\t\t(start)?start.toString():false,\n                    epg:    \tthat._extender({}, epg),\n                    html:  \t\t\"\",\n\t\t\t\t\tid:\t\t\t`${id}_${start}`\n\t\t\t\t\t})\n\t\t\titem.html=_template_mapper(that.basicConfig.showTemplate, that.basicConfig.map, item)\n            return item\n            }\n        //###############################\n        //###############################\n\t\tfunction _cleanTodolist(list={delete:[],replace:[], add:[]})\n\t\t\t{\n\t\t\t// var keys = Object.keys(list);\n\t\t\t// keys.forEach(function (k, i)\n\t\t\t// \t{\n\t\t\t// \tlist[k]=[]\n\t\t\t// \t})\n\t\t\treturn list\n\t\t\t}\n        //###############################\n        //###############################\n\t\tfunction _addTodolist(obj=null, key=null, val=null)\n\t\t\t{\n\t\t\tif ( ! obj.todolist) obj[\"todolist\"]=_cleanTodolist()\n\t\t\tif ( ! obj.todolist[key]) obj[\"todolist\"][key]=[]\n\t\t\tobj.todolist[key].push(val)\n\t\t\treturn obj\n\t\t\t}\n        //###############################\n        //###############################\n\t\tfunction _cleanChannel(c, filter)\n\t\t\t{\n\t\t\tvar tmp=that._extender({},c.epg||{},c.tmp||{})\t\n\t\t\t//console.log(\"dataworker\", \"_cleanChannel\", c)\t\n\t\t\tvar keys = Object.keys(c.stock||{});\n\t\t\tkeys = keys.sort();\n\t\t\tfor (let key of keys)\n\t\t\t\t{\n\t\t\t\tif (c.stock[key].end < filter.past-filter.tolerance)\n\t\t\t\t\t{\n\t\t\t\t\tdelete c.stock[key];\n\t\t\t\t\t}\n\t\t\t\telse if (c.stock[key].end >= filter.past && c.stock[key].start <= filter.future)\n\t\t\t\t\t{\n\t\t\t\t\ttmp[key]=\tthat._extender({},c.stock[key])\n\t\t\t\t\tdelete c.stock[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\tvar keys = Object.keys(tmp);\n\t\t\tkeys = keys.sort();\n\t\t\t//Aufräumen: abgelaufene Sendungen entfernen\n\t\t\tfor (let key of keys)\n\t\t\t\t{\n\t\t\t\ttmp[key]=(!tmp[key].start)?_createShowItem(key, tmp[key], c.channelID):tmp[key]\t\n\t\t\t\t\n\t\t\t\t//console.log(\"dataworker\", \"stock\", tmp[key] , filter)\t\n\n\t\t\t\tif (tmp[key].end < filter.past)\n\t\t\t\t\t{\n\t\t\t\t\tdelete tmp[key];\n\t\t\t\t\t}\n\t\t\t\telse if (tmp[key].start > filter.future)\n\t\t\t\t\t{\n\t\t\t\t\t//console.log(\"dataworker\", \"add to stock\")\t\n\t\t\t\t\t\t\n\t\t\t\t\tc.stock[key]=\tthat._extender({},tmp[key])\n\t\t\t\t\tdelete tmp[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\treturn tmp\n\t\t\t}\n\n        //###############################\n        //###############################\n\t\tfunction _createChannelItem(c, srcChannel, source, tmpl, filter)\n\t\t\t{\n\t\t\tlet channelkey = `${source}_${srcChannel.channeldata.channelid}`;\n\t\t\tif (!c.data[channelkey]) c.data[channelkey] = that._extender({}, tmpl)\t\n\t\t\tlet item=c.data[channelkey]\n\t\t\titem[\"sourceID\"] = source;\n\t\t\titem[\"channelID\"] = srcChannel.channeldata.channelid\n\t\t\titem[\"name\"] = srcChannel.channeldata.name\n\t\t\titem[\"id\"] = channelkey;\n\t\t\titem[\"epg\"] = srcChannel.epg||{};\n\t\t\titem[\"todolist\"]=_cleanTodolist()\n\t\t\titem[\"preSpan\"]=0\n\t\t\titem[\"postSpan\"]=0\n\t\t\titem[\"stock\"]=item.stock||{}\n\n\t\t\titem[\"tmp\"]=_cleanChannel(item, filter)\n\t\t\t//console.log(\"dataworker\", \"_createChannelItem\", item)\n\n\t\t\tlet lastUpdate=Math.floor(Date.parse(srcChannel.channeldata.lastUpdate||0)/1000)\n\t\t\tif (((lastUpdate||0) <= (item.lastUpdate||0)) || _isBlacklisted([item[\"name\"], item[\"channelID\"], item[\"sourceID\"] ]))\n\t\t\t\t{\n\t\t\t\treturn ;\t\n\t\t\t\t}\n\t\t\titem[\"lastUpdate\"]=lastUpdate\n\t\t\treturn item\n\t\t\t}\t\t\n        // ###############################\n        // ###############################\n\t\tfunction _isBlacklisted(stack)\n\t\t\t{\n\t\t\tlet blacklist=that._getType(that.basicConfig.blacklist, \"array\")?that.basicConfig.blacklist:[]\n\t\t\tlet bool=null\t\n\t\t\tfor ( let item of blacklist)\n\t\t\t\t{\n\t\t\t\tlet myitem=(item.startsWith(\"<!not>\"))?item.slice(6):item\n\t\t\t\tlet re = new RegExp(myitem, \"g\")\n\t\t\t\tlet str=\"\"\n\t\t\t\tfor ( let hay of stack)\n\t\t\t\t\t{\n\t\t\t\t\tlet _bool=re.test(hay)\n\t\t\t\t\tif \t(item==myitem) \n\t\t\t\t\t\t{\t\n\t\t\t\t\t\tif (_bool === true) \n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\treturn true\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\tbool=_bool\t\n\t\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\t{\t\n\t\t\t\t\t\tbool=(bool==null)?_bool:(bool === true)?true:_bool\n\t\t\t\t\t\t}\t\n\t\t\t\t\t}\n\t\t\t\tbool=(item==myitem)?bool:(bool)?false:true\n\t\t\t\tif (bool) return bool\t\n\t\t\t\t}\t\n\t\t\treturn bool\n\t\t\t}\n        // ###############################\n        // ###############################\n\t\tthat.channels[\"todolist\"]=_cleanTodolist()\n\t\tconsole.log(\"dataworker\", \"that.channels\", that.channels)\n        if (data.config && this._getType(data.config, \"hash\"))\n\t\t\t{\n        \tthis.basicConfig = this._extender(this.basicConfig, data.config);\n        \t}\n\t\tvar now = Math.floor(new Date() / 1000);\n\t\tvar filter=\t{\n\t\t\t\t\tnow: now,\n\t\t\t\t\ttolerance: \t\tparseInt(that.basicConfig.viewAllowedOversize),\n\t\t\t\t\tpast : \tnow - \tparseInt(that.basicConfig.pastTimeSec),\n\t\t\t\t\tfuture: now + \tparseInt(that.basicConfig.previewAll)\n\t\t\t\t\t}\t\n\n\t\tthis._debug(\"data: basicConfig\", this.basicConfig)\n\t\tvar keys = Object.keys(that.channels.data||{});\n        keys.forEach(function (k, i)\n\t\t\t{\n\t\t\tlet c=that.channels.data[k]\t\n\t\t\tc[\"todolist\"]=_cleanTodolist()\n\t\t\tif (_isBlacklisted([c.name, c.channelID, c.sourceID ]))\n\t\t\t\t{\n\t\t\t\t_addTodolist(that.channels, \"delete\", c.id )\n\t\t\t\tdelete that.channels.data[k]\n\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t_cleanChannel(that.channels.data[k], filter)\t\n\n\t\t\t})\n        var keys = Object.keys(data);\n        keys.forEach(function (k, i) // alle channels\n            {\n            let sourceChannel = that._getType(data[k], \"jsonstring\") ? that._JSONcorrector(data[k]) : \"\";\n            if ( that._getType(sourceChannel, \"hash\") && sourceChannel.channeldata && sourceChannel.epg && that.basicConfig.source ) // valid channel\n                {\n\t\t\t\t//console.log(\"dataworker\", \"sourceChannel\", sourceChannel)\n\t\t\t\tvar channel=_createChannelItem(that.channels, sourceChannel, that.basicConfig.source, that.channelTmpl , filter )\n\t\t\t\tif (!channel)\n\t\t\t\t\t{\n\t\t\t\t\treturn;\t\n\t\t\t\t\t}\n\t\t\t\tlet keys = Object.keys(channel.tmp);\n                for (let key of keys)\n                    {\n\t\t\t\t\tif (channel.data[key])\n\t\t\t\t\t\t{\n\t\t\t\t\t\tdelete channel.data[key]\t\n\t\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t_addTodolist(channel, \"add\", key)\t\n\t\t\t\t\t\t}\t\n\t\t\t\t\t}\n\t\t\t\tkeys = Object.keys(channel.data);\n\t\t\t\tfor (let key of keys)\n\t\t\t\t\t{\n\t\t\t\t\t_addTodolist(channel, \"delete\", key)\t\n\t\t\t\t\t}\n\t\t\t\tchannel.data=that._extender({},channel.tmp||{})\n\n\t\t\t\t//console.log(\"dataworker\", \"channel\", channel)\n\t\n\t\t\t\tkeys = Object.keys(channel.data);\n\t\t\t\tvar lastItem=null\n                for (let key of keys.sort())\n                    {\n\t\t\t\t\tvar item=channel.data[key]\n                    //Aufräumen: abgelaufene Sendungen entfernen\n                    if (item.end > filter.past && item.start < filter.past-filter.tolerance)\n                        {\n\t\t\t\t\t\tlet d=item.end-(filter.past-filter.tolerance)\t\n\t\t\t\t\t\titem.html=item.html.replace(/span=\"\\d+\"/, `span=\"${d}\"`)\n\t\t\t\t\t\titem[\"changedStart\"]=item.end-d\n\t\t\t\t\t\t//item[\"tolerance\"]=filter.tolerance/60\n\t\t\t\t\t\t_addTodolist(channel, \"update\", key)\t\n                        }\n                    if (item.start < filter.future && item.end > filter.future+filter.tolerance )\n                        {\n\t\t\t\t\t\t//console.log(\"datetime!!\", new Date(filter.future*1000).toLocaleString(), new Date(item.start*1000).toLocaleString(), new Date(item.end*1000).toLocaleString())\t\n\t\t\t\t\t\tlet d=(filter.future+filter.tolerance)-item.start\t\n\t\t\t\t\t\titem.html=item.html.replace(/span=\"\\d+\"/, `span=\"${d}\"`)\n\t\t\t\t\t\titem[\"changedEnd\"]=item.start+d\n\t\t\t\t\t\titem[\"tolerance\"]=new Date(filter.future*1000).toLocaleString()\n\t\n\t\t\t\t\t\t_addTodolist(channel, \"update\", key)\t\n                        }\n\t\t\t\t\tlet diff= (lastItem)?item.start-lastItem.end:0\t\n\t\t\t\t\tif (diff > 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t//create spaceitem\n\t\t\t\t\t\t// eine Lücke\n\t\t\t\t\t\tchannel.data[lastItem.end.toString()]=\t\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tkey:\t\tlastItem.end.toString(),\n\t\t\t\t\t\t\tstart:\t\tlastItem.end,\n\t\t\t\t\t\t\tduration:\tdiff,\n\t\t\t\t\t\t\tend:\t\titem.start,\n\t\t\t\t\t\t\thtml:\t\t`<tgepg-progitem class=\"TabCell\" span=\"${diff}\" start=\"${lastItem.end}\" end=\"${item.start}\" channelid=\"${channel.channelID}\" id=\"${channel.channelID}_${lastItem.end}\"></tgepg-progitem>`\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t_addTodolist(channel, \"add1\", lastItem.end.toString() )\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\telse if (diff < 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t//shorten items\n\t\t\t\t\t\tif (diff < lastItem.duration)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlastItem.html=lastItem.html.replace(/span=\"\\d+\"/, `span=\"${lastItem.duration+diff}\"`)\n\t\t\t\t\t\t\t_addTodolist(channel, \"replace\", lastItem.key )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\titem.html=item.html.replace(/span=\"/, `epgerror=\"time mismatch\" span=\"`)\n\t\t\t\t\t\t\t_addTodolist(channel, \"add2\", item.key )\n\t\t\t\t\t\t\t}\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t_addTodolist(channel, \"add3\", item.key )\n\t\t\t\t\t\t}\t\n                    }\n\n\t\t\t\tif (that.me)\n\t\t\t\t\t{\n\t\t\t\t\tlet result={todolist: {}, data:{}}\n\t\t\t\t\tresult.data[channel.id]=that._extender({}, channel)\n\t\t\t\t\tdelete result.data[channel.id].epg\t\n\n\t\t\t\t\t//that._debug(\"send WorkerData\", result)\t\n\t\t\t\t\tvar ev = new CustomEvent('fetchWorkerData', {detail:result});\n\t\t\t\t\tthat.me.dispatchEvent(ev);\n\n\t\t\t\t\t}\n\t\t\t\t}\n\n            });\n\t\tconsole.log(\"dataworker\", \"that.channels 2\", that.channels)\n\n\t\tlet min=null, max=null\n\t\tfor ( let chankey in that.channels.data)\n\t\t\t{\n\t\t\tlet channel=that.channels.data[chankey]\n\t\t\tlet indexes=Object.keys(channel.data)\n\t\t\tif (indexes.length>0)\n\t\t\t\t{\n\t\t\t\tindexes=indexes.sort()\n\t\t\t\tlet start=(channel.data[indexes[0]].changedStart || channel.data[indexes[0]].start)\n\t\t\t\t//console.log(\"changedStart\" , channel.name, channel.data[indexes[0]].changedStart, channel.data[indexes[0]].start, start)\n\t\t\t\tlet end=(channel.data[indexes[indexes.length - 1]].changedEnd || channel.data[indexes[indexes.length - 1]].end)\n\t\t\t\tmin=(min===null || min > start )?start:min\n\t\t\t\tmax=(max===null || max < end   )?end:max\n\t\t\t\t}\n\t\t\t}\n\t\tlet result={todolist:{}, data:{}}\t\n\t\tfor ( let chankey in that.channels.data)\n\t\t\t{\n\t\t\tlet channel=that.channels.data[chankey]\n\t\t\tlet indexes=Object.keys(channel.data)\n\t\t\tif (indexes.length>0)\n\t\t\t\t{\n\t\t\t\tindexes=indexes.sort()\n\t\t\t\tresult.data[chankey]=(!this.me)?this._extender({},that.channels.data[chankey]):{}\n\t\t\t\tresult.data[chankey][\"data\"]={}\n\t\t\t\tresult.data[chankey][\"id\"]=channel.id\n\t\n\t\t\t\tif (min && max)\n\t\t\t\t\t{\n\t\t\t\t\tlet start=(channel.data[indexes[0]].changedStart || channel.data[indexes[0]].start)\n\t\t\t\t\tlet end=(channel.data[indexes[indexes.length - 1]].changedEnd || channel.data[indexes[indexes.length - 1]].end)\n\t\t\t\t\tlet xend=channel.data[indexes[0]].end\n\t\t\t\t\tlet xstart=channel.data[indexes[indexes.length - 1]].start\n\t\t\t\t\t//let msg1=`${new Date(start * 1000).toLocaleString()} - ${new Date(xend * 1000).toLocaleString()}`\n\t\t\t\t\tlet msg1=`${new Date(xstart * 1000).toLocaleString()} - ${new Date(end * 1000).toLocaleString()}|`\n\t\t\t\t\tlet msg2=`${(channel.data[indexes[0]].tolerance)?channel.data[indexes[0]].tolerance:\"\"}|`\n\t\t\t\t\t\n\n\t\t\t\t\tresult.data[chankey][\"preSpan\"]=start-min\n\t\t\t\t\tresult.data[chankey][\"postSpan\"]=max-end\n\t\t\t\t\t//console.log(\"datetime\",  msg1 , msg2, result.data[chankey][\"postSpan\"], max, end, channel.name, channel.data[indexes[indexes.length - 1]].changedEnd,channel.data[indexes[indexes.length - 1]].end)\t\n\n\t\t\t\t\t_addTodolist(result.data[chankey], \"manage\", chankey)\n\t\t\t\t\t}\n\t\t\t\tdelete result.data[chankey].epg\t\n\t\t\t\t}\n\t\t\telse\n\t\t\t\t{\n\t\t\t\t_addTodolist(result, \"delete\", chankey)\n\t\t\t\tdelete that.channels.data[chankey]\n\t\t\t\t}\n\t\t\t}\n\t\t//result[\"config\"]={now:now,min:min,max:max}\t\n\t\t_addTodolist(result, \"manage\", {now:now,min:min,max:max})\t\n\t\tif (that.me)\n\t\t\t{\n\t\t\tthat._debug(\"dataworker send WorkerData\", result)\t\n\t\t\tvar ev = new CustomEvent('fetchWorkerData', {detail:result});\n\t\t\tthat.me.dispatchEvent(ev);\n\t\t\t}\n\t\telse\n\t\t\t{\n\t\t\t//that._debug(\"send WorkerData manager\", result)\t\t\n\t\t\treturn result\t\n\t\t\t}\t\n        }\n    }\n\n","/*\n* tgEPG component\n*\n* Copyright (c) 2020-2021 Thomas Geißenhöner <quietcry@gmx.de>\n* Under MIT License (http://www.opensource.org/licenses/mit-license.php)\n*\n*\n*/\n\nimport { tgControls } from \"../tgControls.js\";\nimport { tgEpgTimebarDefaults } from \"../../defaults_Timebar.js\";\n\nexport class tgEpgTimebar extends tgControls\n\t{\n\tconstructor(properties)\n\t\t{\n\t\tsuper(\"open\");\n\t\tvar that=this;\n\t\t// default Parameter nach Props einlesen\n\t\tthis.tgEpgDefaults=new tgEpgTimebarDefaults(this);\n\t\tthis[\"PROPS\"]=this._extender( (this[\"PROPS\"] || {}),\n\t\t\t\t\t\t{\n\t\t\t\t\t\t// defaults:this.tgEpgDefaults.loadDefaults(),\n\t\t\t\t\t\t// run:this.tgEpgDefaults.loadRun(),\n\t\t\t\t\t\t// set:this.tgEpgDefaults.loadSet()\n\t\t\t\t\t\t});\n\t\t// Props durch hartcodierte Werte erweitern/anpassen\n\t\tthis[\"PROPS\"]=this._extender( (this[\"PROPS\"] || {}),\n\t\t\t\t\t\t{\n\t\t\t\t\t\trun:\t{\n\t\t\t\t\t\t\t\tmsg:\t{\n\t\t\t\t\t\t\t\t\t\tlog:true,\n\t\t\t\t\t\t\t\t\t\tdebug:true,\n\t\t\t\t\t\t\t\t\t\terror:true\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tskale:0,\n\t\t\t\t\t\t\t\tfirstStart:0,\n\t\t\t\t\t\t\t\tlastEnd:0,\n\t\t\t\t\t\t\t\ttimePosition:0,\n\t\t\t\t\t\t\t\tepgEnd:100\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\tdefault:{connected:0},\n\t\t\t\t\t\tparas:this._extender({},tgEpgTimebar.properties)\n\t\t\t\t\t\t});\n\t\t// Props durch im Storage gespeichertes erweitern/anpassen\n\t\t//this.PROPS.set = this._extender({}, (this.PROPS.defaults || {}), (this.PROPS.set || {}), (this._readOptions(this.PROPS.defaults._storageKey) || {}));\n\n\t\tthis._debug(\"constructor - Parameters\", \"props:\",this[\"PROPS\"]);\n\n\t\t// data handler init\n\t\tthis.epgData={};\n\n\n\n\n\t\t//this.me=new tgEpgHelper(false);\n\n\t\tthis.app = this.shadowRoot.querySelector('[name=\"app\"]');\n\t\t// this.buttonCell = this.shadowRoot.querySelector('[name=\"buttonCell\"]');\n\n\t\t// this.channelBox = this.shadowRoot.querySelector('[name=\"channelBox\"]');\n\t\t// this.programBox = this.shadowRoot.querySelector('[name=\"programBox\"]');\n\t\t// this.timeBar = this.shadowRoot.querySelector('[name=\"timeBar\"]');\n\t\t// this.timeRow = this.shadowRoot.querySelector('[name=\"timeRow\"]');\n\t\t// this.timeMarker = that.shadowRoot.querySelector('[name=\"timemarker\"]');\n\t\t// this.superButton = that.shadowRoot.querySelector('#superbutton');\n\t\t// this.floatingMenu = that.shadowRoot.querySelector('[name=\"app\"]>tg-floatingMenu');\n\n\n\n\n/*\n\t\tlet body=document.querySelector(\"body\");\n\t\t\t\t\t\t\t\t\t\t\t\t\t`<div name=\"EpgInfoBox\" class=\"hide\"></div>`\n\t\tthis.EpgInfoBox = this.shadowRoot.querySelector('[name=\"EpgInfoBox\"]');\n\n */\n\n\n\t\t// this._writeOptions(this.PROPS.defaults._storageKey, this.PROPS.set);\n\t\t//this._debug(\"JSON\", this.readOptions(this.PROPS.defaults._storageKey))\n\t\t//this.PROPS.run.topElements = [this.app, this.icon];\n\n\t\t//this._log(\"construction ended\", \"props:\",this.PROPS, \"me:\", this);\n\t\tthis._debug(\"constructor - constructed\");\n\n\t\t}\n\n\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\ttemplate()\n\t\t{\n\t\tlet tmp = tgEpgTimebarDefaults.template;\n\t\treturn tmp;\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t// properties()\n\t// collect name-value pairs to use as observed Atrributes and the corresponding this->PROPS->paras\n\t//\n\t//######################################################################################################################################\n\tstatic get properties()\n\t\t{\n\t\tlet props=\ttgEpgTimebarDefaults.properties || {};\n\t\tlet superProps=super.properties||{};\n\t\tprops=Object.assign(superProps,props);\n\t\treturn props;\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tstatic get observedAttributes()\n\t \t{\n\t\tlet props=tgEpgTimebar.properties;\n\t\tprops=Object.keys(props);\n\t\tconsole.debug(\"observedAttributes::\", \"prop:\",props);\n\t\treturn  props;\n  \t \t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tconnectedCallback ()\n\t\t{\n\t\tvar that=this;\n\t\tconsole.debug(\"connectedCallback\", \"start\");\n\t\tif (this.PROPS.run.connected == 0)\n\t\t \t{\n\t\t\tthis.render();\n\t\t\tthis.moveToOffset();\n\t\t// \tthis.init();\n\t\t//\tthis.refreshAppSizeAfterResizeOrInit();\n\t\t// \tthis.buildApp();\n\t\t// \tthis.getData();\n\t\t \tthis.connected();\n\t\t \t}\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tattributeChangedCallback(attrName, oldVal, newVal)\n\t\t{\n\t\tif ( (! newVal) || (! this.PROPS.paras.hasOwnProperty(attrName)) || (this.PROPS.paras[attrName]===newVal)) return;\n\t\toldVal=oldVal || this.PROPS.paras[attrName];\n\t\tsuper.attributeChangedCallback(attrName, newVal, oldVal );\n\t\tthis._debug(\"change Attribute \"+attrName, \"from\", oldVal, \"to\" , newVal);\n\t\tthis.PROPS.paras[attrName]=newVal;\n\t\tswitch (attrName)\n\t\t\t{\n\t\t\tcase \"timerowheight\":\n\t\t\t\t//this.timeRow.style.height=parseInt(newVal)+\"px\";\n\t\t\t\tbreak;\n\t\t\tcase \"data\":\n\t\t\t\tthis.PROPS.paras[\"dataref\"]=newVal;\n\t\t\t\tthis.dataHandler.getData(newVal);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t//######################################################################################################################################\n\t//setter & getter\n\t//\n\t//\n\t//######################################################################################################################################\n\tget supermaster()\n\t\t{\n\t\treturn this.PROPS.run.supermaster;\n\t\t}\n\tset supermaster(val)\n\t\t{\n\t\tthis.PROPS.run[\"supermaster\"]=val;\n\t\t}\n\tget design_timeFrameStart()\n\t\t{\n\t\treturn this.PROPS.run.timeFrameStart||null;\n\t\t}\n\tset design_timeFrameStart(val)\n\t\t{\n\t\tconsole.info(\"transer\", this.PROPS.run.timeFrameStart, val)\n\n\t\tif (this.PROPS.run.timeFrameStart != val)\n\t\t\t{\n\t\t\tthis.PROPS.run[\"timeFrameStart\"]=val;\n\t\t\t}\n\t\t\tconsole.info(\"transer\", this.PROPS.run.timeFrameStart, val)\n\t\t}\n\tget design_timeFrameEnd()\n\t\t{\n\t\treturn this.PROPS.run.timeFrameEnd||null;\n\t\t}\n\tset design_timeFrameEnd(val)\n\t\t{\n\t\tif (this.PROPS.run.timeFrameEnd != val)\n\t\t\t{\n\t\t\tthis.PROPS.run[\"timeFrameEnd\"]=val;\n\t\t\t}\n\t\t}\n\t//######################################################################################################################################\n\t//init()\n\t//prüft die Umgebung und passt Parameter entsprechend an\n\t//\n\t//######################################################################################################################################\n\trender()\n\t\t{\n\t\t\tif  ( ( ! this.PROPS.run.timeFrameStart) || ( ! this.PROPS.run.timeFrameEnd) )\n\t\t\t{\n\t\t\treturn\n\t\t\t}\n\t\tconsole.info(\"trans render\", this.PROPS.run.timeFrameStart, this.PROPS.run.timeFrameEnd)\n\t\t//this.app.innerHTML=\"\"\n\t\tlet that=this;\n\t\tlet test;\n\t\tlet digitCell=``;\n\t\tlet barCell=``;\n\t\tvar root = this;\n\t\twhile (root.parentNode)\n\t\t\t{\n\t\t\troot = root.parentNode;\n\t\t\t}\n\t\troot= root.querySelector('[name=\"timeBar\"]');\n\t\tvar cellHeight=\troot.clientHeight||this.app.clientHeight || 50\n\t\tcellHeight=cellHeight/5\n\t\t//let hours=(this.PROPS.run.previewEnd-this.PROPS.run.previewStart)/3600;\n\t\t//this._debug(\"run\", cellHeight, this.app, this.PROPS.run)\n\t\tvar hourCellContainer=this.app.querySelector('[name=\"hourCellContainer\"]')\n\t\tif (! hourCellContainer)\n\t\t\t{\n\t\t\tthis.app.innerHTML=`\n\t\t\t\t<div class=\"greedyH Tab \">\n\t\t\t\t\t<div name=\"digitline\" class=\"TabRow\" style=\"height:25%\">\n\t\t\t\t\t\t<div class=\"TabCell\">\n\t\t\t\t\t\t\t<!--digitCellFix-->\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div name=\"barline\" class=\"TabRow\" style=\"height:75%\">\n\t\t\t\t\t\t<div class=\"TabCell\">\n\t\t\t\t\t\t\t<div class=\"Tab greedy\" >\n\t\t\t\t\t\t\t\t<div name=\"hourCellContainer\" class=\"TabRow\" >\n\t\t\t\t\t\t\t\t\t<!--barCell-->\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"Tab free\" name=\"digitline\">\n\t\t\t\t\t<div name=\"textCellContainer\" class=\"TabRow\">\n\t\t\t\t\t\t<div name=\"emptyCell\" class=\"TabCell cellwidth2\"></div>\n\t\t\t\t\t\t<div name=\"emptyCell\" class=\"TabCell\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t`\n\t\t\thourCellContainer=this.app.querySelector('[name=\"hourCellContainer\"]')\n\t\t\t}\n\t\tvar textCellContainer=this.app.querySelector('[name=\"textCellContainer\"]')\n\t\tvar textCellEmptyCell=textCellContainer.querySelector('[name=\"emptyCell\"]:last-of-type')\n\n\t\tvar hourCells=[...hourCellContainer.querySelectorAll('[name=\"hourcell\"]')]\n\t\tvar textCells=[...textCellContainer.querySelectorAll('[name=\"digitcell\"]')]\n\n\t\tfunction getDigitString(x)\n\t\t\t{\n\t\t\treturn that._get2digit(new Date(x*1000).getHours()+\"\")+\":00\"\n\t\t\t}\n\t\tfunction getdigitcell(x)\n\t\t\t{\n\t\t\treturn that.htmlToElement(`<div  name=\"digitcell\" class=\"TabCell cellwidth4\">${x}</div>`)\n\t\t\t}\n\t\tfunction gethourcell()\n\t\t\t{\n\t\t\treturn that.htmlToElement\t(`\n\t\t\t\t\t\t\t\t\t\t<div name=\"hourcell\" class=\"TabCell cellwidth4\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"Tab greedy\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\" style=\"height:*%\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"TabCell\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"Tab greedy\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div name=\"barlinecell\" class=\"TabCell\" style=\"width:100%\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\" style=\"height:33%\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"TabCell\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"Tab greedy\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div name=\"barlinecell\" class=\"TabCell\" style=\"width:50%\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div name=\"barlinecell\" class=\"TabCell\" style=\"width:50%\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\" style=\"height:33%\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"TabCell\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"Tab greedy\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div name=\"barlinecell\" class=\"TabCell\" style=\"width:25%\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div name=\"barlinecell\" class=\"TabCell\" style=\"width:25%\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div name=\"barlinecell\" class=\"TabCell\" style=\"width:25%\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div name=\"barlinecell\" class=\"TabCell\" style=\"width:25%\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t`)\n\t\t\t}\n\t\tvar index=1\n\n\t\tfor (let i=this.PROPS.run.timeFrameStart+3600; i<=this.PROPS.run.timeFrameEnd;i+=3600)\n\t\t\t{\n\t\t\tif (textCells.length >= index)\n\t\t\t\t{\n\t\t\t\ttextCells[index-1].innerHTML=getDigitString(i)\n\t\t\t\t}\n\t\t\telse\n\t\t\t\t{\n\t\t\t\tlet cell =getdigitcell(getDigitString(i))\n\t\t\t\ttextCells.push(cell)\n\t\t\t\ttextCellContainer.insertBefore(cell,textCellEmptyCell)\n\t\t\t\t}\n\t\t\tif (hourCells.length < index)\n\t\t\t\t{\n\n\t\t\t\tlet cell =gethourcell()\n\t\t\t\thourCells.push(cell)\n\t\t\t\thourCellContainer.append(cell)\n\t\t\t\tconsole\n\t\t\t\t}\n\t\t\tindex+=1\n\t\t\t}\n\t\twhile (textCells.length > index)\n\t\t\t{\n\t\t\ttextCells.pop().remove()\n\t\t\t}\n\t\twhile (hourCells.length > index)\n\t\t\t{\n\t\t\thourCells.pop().remove()\n\t\t\t}\n\n\t\treturn;\n\t\t}\n\t//#########################################################################################################\n\t//## refreshAppSizeAfterResizeOrInit()\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\tmoveToOffset()\n\t\t{\n\n\t\t}\n\t//#########################################################################################################\n\t//## refreshAppSizeAfterResizeOrInit()\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\trefreshAppSizeAfterResizeOrInit()\n\t\t{\n\t\tthis._debug(\"refreshAppSizeAfterResizeOrInit\")\n\t\tif ( ( this.buttonCell) && (this.PROPS.paras.timerowheight) )\n\t\t\t{\n\t\t\tthis.buttonCell.style.height=parseInt(this.PROPS.paras.timerowheight)+\"px\";\n\t\t\t}\n\t\tif ( ( this.buttonCell) && (this.PROPS.paras.channelcolumnwidth) )\n\t\t\t{\n\t\t\tthis.buttonCell.style.width=parseInt(this.PROPS.paras.channelcolumnwidth)+\"px\";\n\t\t\t}\n\t\tvar width =\tthis.timeBar.clientWidth\n\t\tvar hours=null;\n\t\tif (this.PROPS.run.previewSpans && this.getType(this.PROPS.run.previewSpans,\"hash\"))\n\t\t\t{\n\t\t\tvar myKeys=Object.keys(this.PROPS.run.previewSpans)\n\t\t\tmyKeys=myKeys.sort()\n\t\t\tvar found=0;\n\t\t\tfor (let i = 0; i < myKeys.length; i++)\n\t\t\t\t{\n\t\t\t\t//this._debug(\"width\", parseInt(myKeys[i]), width)\n\t\t\t\tif ((parseInt(myKeys[i]) != 0) && (parseInt(myKeys[i]) <= width))\n\t\t\t\t\t{\n\t\t\t\t\thours=this.PROPS.run.previewSpans[myKeys[i]]\n\t\t\t\t\t//this._debug(\"hours\", myKeys[i], hours)\n\t\t\t\t\t}\n\t\t\t\telse if\t(parseInt(myKeys[i]) > width)\n\t\t\t\t\t{\n\t\t\t\t\tfound=1\n\t\t\t\t\t//this._debug(\"found\", myKeys[i])\n\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t  \t}\n\t\t\tif ((found == null) || (hours == null))\n\t\t\t\t{\n\t\t\t\thours=this.PROPS.run.previewSpans[\"0\"]||10\n\t\t\t\t}\n\t\t\t}\n\t\tthis.PROPS.run[\"previewSpan\"]=parseFloat(hours)||1\n\t\tthis.PROPS.run[\"scale\"]=width/(hours*60)\n\t\t//this._debug(\"hours\", hours, width, this.PROPS.run.scale, this.PROPS.run.previewSpan)\n\t\t//this._debug(\"refreshApp Width\", this.buttonCell, this.buttonCell.clientWidth)\n\t\t//this._debug(\"refreshApp Width\", this.timeRow, this.timeRow.clientWidth)\n\t\t//this._debug(\"refreshApp Width\", this.timeBar, this.timeBar.offsetWidth)\n\t\t}\n\n\n\t//#########################################################################################################\n\t//## buildApp()\n\t//## richtet die App-Oberfläche ein\n\t//##\n\t//##\n\t//#########################################################################################################\n\tbuildApp()\n\t\t{\n\t\tthis._debug(\"buildApp:\", this.PROPS.run.mode);\n\t\tvar that=this;\n\t\tvar timeBar=this.timeBar.querySelector('tg-epg-timebar');\n\t\tif (! timeBar)\n\t\t\t{\n\t\t\t//timeBar=document.createElement(\"tg-epg-timebar\");\n\t\t\t//this.timeBar.appendChild(timeBar);\n\t\t\t}\n\n\t\t// // inject CCS-File to <HEAD>\n\t\t// let cssLink = document.querySelector('head > [name=\"tgEpgStyle\"]');\n\t\t// if (! cssLink)\n\t\t// \t{\n\t\t// \tlet style=document.createElement(\"link\");\n\t\t// \tstyle.setAttribute(\"rel\",\"stylesheet\");\n\t\t// \tstyle.setAttribute(\"name\",\"tgEpgStyle\");\n\t\t// \tstyle.setAttribute(\"href\",\"tgEpg.hlp.cssInjectToHead.css\");\n\t\t// \tdocument.getElementsByTagName(\"head\")[0].appendChild(style);\n\t\t// \t}\n\t\tif ( (this.superButton) && (! this.superButton.hasAttribute(\"hasClickHandler\") ) )\n\t\t\t{\n\t\t\tthis.superButton.addEventListener(\"click\", function(event)\n\t\t\t\t{\n\t\t\t\tthat.manageToolbar(\"init\", event);\n\t\t\t\t});\n\t\t\tthis.superButton.setAttribute(\"hasClickHandler\", 1);\n\t\t\t}\n\t\treturn;\n\t\t}\n\t//#########################################################################################################\n\t//##\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\tloadDefaultOptions()\n\t\t{\n\t\tthis._clearOptions(this.PROPS.defaults._storageKey);\n\t\tthis.PROPS.set = this.extender({}, this.PROPS.defaults, this.readOptions(this.PROPS.defaults._storageKey));\n\t\tthis._writeOptions(this.PROPS.defaults._storageKey, this.PROPS.set);\n\t\tthis._debug(\"loadDefaultOptions --\", this.PROPS.set)\n\t\t//this.refreshApp();\n\t\t}\n\t//#########################################################################################################\n\t//##\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\tsetOptions(opts={})\n\t\t{\n\t\tlet val = this.tgEpgDefaults.setOptions(this, opts);\n\t\tthis.PROPS.set=this.extender(this.PROPS.set, val);\n\t\tthis._writeOptions(this.PROPS.defaults._storageKey, this.PROPS.set);\n\t\tthis._debug(\"setOptions --\", val)\n\t\t}\n\t//#########################################################################################################\n\t//##\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\tgetOptions(opts={})\n\t\t{\n\t\tthis._debug(\"getOptions --opts\", opts);\n\t\tlet val = this.tgEpgDefaults.getOptions(this, opts);\n\t\tthis._debug(\"getOptions --val\", val);\n\t\treturn val;\n\t\t}\n\n\t//#########################################################################################################\n\t//##\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\n\t//############################################################################################################################################\n\t//############################################################################################################################################\n\t}\n\nwindow.customElements.define('tgepg-timebar', tgEpgTimebar);\n","import { tgEpgDefaultsCommon }  from \"./defaults_Common.js\"\n\nexport class tgEpgTimebarDefaults extends tgEpgDefaultsCommon\n\t{\n\tconstructor()\n\t\t{\n\t\tsuper(\"open\");\n\t\tthis[\"PROPS\"]=\n\t\t\t\t\t\t{\n\t\t\t\t\t\tdefault: \tthis._extender({}, this[\"PROPS\"].default||{},\n\t\t\t\t\t\t\t\t\t{\n\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t}\n\n\t\t}\n\n\tstatic get properties()\n\t\t{\n\t\tvar props=super.properties||{};\n\t\tprops[\"previewSpan\"]=null;\n\t\tprops[\"previewOffset\"]=null;\n\t\tprops[\"previewStart\"]=null;\n\t\tprops[\"previewEnd\"]=null;\n\t\tprops[\"scale\"]=null;\n\t\tprops[\"supermaster\"]=null;\n\t\tconsole.debug(\"get properties fct in defaults timebar:\", props)\n\t\treturn props;\n\t\t}\n\t\t\t\n\tstatic get template()\n\t\t{\n\t\tvar styles=super.styles||\"\";\n\t\tstyles=styles+\t`\n\t\t\t\t\t\t<style>\n\t\t\t\t\t\t:host\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t--timeBarBorder: 1px solid black;\n\t\t\t\t\t\t\tdisplay:inline-block;\n\t\t\t\t\t\t\theight:calc( var(--timeBarCellHeight) * 4) !important;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t[name=\"app\"]\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\twhite-space: normal;\n\t\t\t\t\t\t\tbackground-color: gray;\n\t\t\t\t\t\t\tdisplay:inline-block;\n\t\t\t\t\t\t\tposition:relative;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t[name=\"digitline\"]\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\theight:calc( var(--timeBarCellHeight) * 1) !important;\n\t\t\t\t\t\t\tmin-height:calc( var(--timeBarCellHeight) * 1) !important;\n\t\t\t\t\t\t\tmax-height:calc( var(--timeBarCellHeight) * 1) !important;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t[name=\"digitline\"] .TabCell .TabCell\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvertical-align: middle;\n\t\t\t\t\t\t\ttext-align:center;\n\t\t\t\t\t\t\tfont-size: min(calc( var(--timeBarCellHeight) * 2), 12px);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t[name=\"digitline\"] .TabCell .TabCell:not(:first-child)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\twidth:calc( var(--timeBarCellWidth) * 4) !important;\n\t\t\t\t\t\t\tmin-width: calc( var(--timeBarCellWidth) * 4 );\n\t\t\t\t\t\t\tmax-width: calc( var(--timeBarCellWidth) * 4 );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t[name=\"digitline\"] .TabCell .TabCell:first-child\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\twidth:calc( var(--timeBarCellWidth) * 2) !important;\n\t\t\t\t\t\t\tmin-width: calc( var(--timeBarCellWidth) * 2 );\n\t\t\t\t\t\t\tmax-width: calc( var(--timeBarCellWidth) * 2 );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t[name=\"digitlinefree\"]\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tposition:absolute;\n\t\t\t\t\t\t\tleft:0px;\n\t\t\t\t\t\t\ttop:0px;\n\t\t\t\t\t\t\theight:calc( var(--timeBarCellHeight) * 1) !important;\n\t\t\t\t\t\t\tmin-height:calc( var(--timeBarCellHeight) * 1) !important;\n\t\t\t\t\t\t\tmax-height:calc( var(--timeBarCellHeight) * 1) !important;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t[name=\"digitlinefree\"] .TabCell\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvertical-align: middle;\n\t\t\t\t\t\t\ttext-align:center;\n\t\t\t\t\t\t\tfont-size: clamp(10px , calc( var(--timeBarCellHeight) * 1) , 20px);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t[name=\"digitlinefree\"] .TabCell:not(:first-child)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\twidth:calc( var(--timeBarCellWidth) * 4) !important;\n\t\t\t\t\t\t\tmin-width: calc( var(--timeBarCellWidth) * 4 );\n\t\t\t\t\t\t\tmax-width: calc( var(--timeBarCellWidth) * 4 );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t[name=\"digitlinefree\"] .TabCell:first-child\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\twidth:calc( var(--timeBarCellWidth) * 2) !important;\n\t\t\t\t\t\t\tmin-width: calc( var(--timeBarCellWidth) * 2 );\n\t\t\t\t\t\t\tmax-width: calc( var(--timeBarCellWidth) * 2 );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t[name=\"barline\"]\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\theight:calc( var(--timeBarCellHeight) * 4) !important;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t[name=\"hourcell\"]\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\twidth:calc( var(--timeBarCellWidth) * 4) !important;\n\t\t\t\t\t\t\tmin-width: calc( var(--timeBarCellWidth) * 4 );\n\t\t\t\t\t\t\tmax-width: calc( var(--timeBarCellWidth) * 4 );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t[name=\"hourcell\"] .Tab > .TabRow > .TabCell\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvertical-align:top;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t[name=\"barlinecell\"]\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\twidth:calc( var(--timeBarCellWidth) * 1) !important;\n\t\t\t\t\t\t\tmin-width: calc( var(--timeBarCellWidth) * 1 );\n\t\t\t\t\t\t\tmax-width: calc( var(--timeBarCellWidth) * 1 );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t[name=\"hourcell\"] .greedyH > .TabRow:last-child > .TabCell\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tborder-left: var(--timeBarBorder);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t</style>\n\n\t\t\t\t\t\t`\n\t\tvar tmp=styles+\t`\n\t\t\t\t\t\t<!-- App -->\n\t\t\t\t\t\t<div name=\"app\" class=\"\"></div>\n\t\t\t\t\t\t<!-- App Ende-->\n\n\t\t\t\t\t\t`\n\t\treturn\ttmp;\n\t\t}\n\t}\n","/*refr\n* tgEPG component\n*\n* Copyright (c) 2020-2021 Thomas Geißenhöner <quietcry@gmx.de>\n* Under MIT License (http://www.opensource.org/licenses/mit-license.php)\n*\n*\n*/\n\nimport { channelProgListBasis } from './channelProgList.basis.js';\nimport { tgEpgChannelListDefaults } from \"../../defaults_Channellist.js\";\n\nexport class tgEpgChannelList extends channelProgListBasis\n\t{\n\tconstructor(mode=\"open\", props={})\n\t\t{\n\t\tsuper(mode, new tgEpgChannelListDefaults(), props);\n\t\tvar that=this;\n\t\tconsole.warn(\"constr tgEpgChannelList\")\n\n\t\t// default Parameter nach Props einlesen\n\t\tthis[\"PROPS\"]=this._extender(\t{},\n\t\t\t\t\t\t\t\t\t\tthis[\"PROPS\"]||{},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tdefault:\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tmsg:\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlog:true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdebug:true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terror:true\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\tskale:0,\n\t\t\t\t\t\t\t\t\t\t\t\t\tfirstStart:0,\n\t\t\t\t\t\t\t\t\t\t\t\t\tlastEnd:0,\n\t\t\t\t\t\t\t\t\t\t\t\t\ttimePosition:0,\n\t\t\t\t\t\t\t\t\t\t\t\t\tepgEnd:100\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tattr:\t\tthis._extender({},tgEpgChannelList.properties)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t)\n\t\tthis[\"PROPS\"][\"run\"]=this._extender\t(\tthis[\"PROPS\"][\"default\"]||{},\n\t\t\t\t\t\t\t\t\t\t\t\tthis[\"PROPS\"][\"run\"]||{},\n\t\t\t\t\t\t\t\t\t\t\t\tprops\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\tthis.app = this.shadowRoot.querySelector('[name=\"app\"]');\n\n\t\t}\n\n\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\ttemplate()\n\t\t{\n\t\tlet tmp = tgEpgChannelListDefaults.template;\n\t\treturn tmp;\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t// properties()\n\t// collect name-value pairs to use as observed Attributes and the corresponding this->PROPS->attr\n\t//\n\t//######################################################################################################################################\n\tstatic get properties()\n\t\t{\n\t\tlet props=\ttgEpgChannelListDefaults.properties || {};\n\t\tlet superProps=super.properties||{};\n\t\tprops=Object.assign(superProps,props);\n\t\treturn props;\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tstatic get observedAttributes()\n\t \t{\n\t\tlet props=tgEpgChannelList.properties;\n\t\tprops=Object.keys(props);\n\t\treturn  props;\n  \t \t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tconnectedCallback ()\n\t\t{\n\t\tvar that=this;\n\t\tif (this.PROPS.run.connected == 0)\n\t\t \t{\n\t\t\tthis.render();\n\t\t\tthis.moveToOffset();\n\t\t// \tthis.init();\n\t\t//\tthis.refreshAppSizeAfterResizeOrInit();\n\t\t// \tthis.buildApp();\n\t\t// \tthis.getData();\n\t\t \tthis.connected();\n\t\t \t}\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tattributeChangedCallback(attrName, oldVal, newVal)\n\t\t{\n\t\tif ( (! newVal) || (! this.PROPS.paras.hasOwnProperty(attrName)) || (this.PROPS.paras[attrName]===newVal)) return;\n\t\toldVal=oldVal || this.PROPS.paras[attrName];\n\t\tsuper.attributeChangedCallback(attrName, newVal, oldVal );\n\t\t//this._debug(\"change Attribute \"+attrName, \"from\", oldVal, \"to\" , newVal);\n\t\tthis.PROPS.paras[attrName]=newVal;\n\t\tswitch (attrName)\n\t\t\t{\n\t\t\tcase \"timerowheight\":\n\t\t\t\t//this.timeRow.style.height=parseInt(newVal)+\"px\";\n\t\t\t\tbreak;\n\t\t\tcase \"channelfilter\":\n\t\t\t\tthis.setFilter(newVal)\n\t\t\t\t//this.timeRow.style.height=parseInt(newVal)+\"px\";\n\t\t\t\tbreak;\n\t\t\tcase \"data\":\n\t\t\t\tthis.PROPS.paras[\"dataref\"]=newVal;\n\t\t\t\tthis.dataHandler.getData(newVal);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t//######################################################################################################################################\n\t//setter & getter\n\t//\n\t//\n\t//######################################################################################################################################\n\n\tget _addCell()\n\t\t{\n\t\treturn this.PROPS.run.previewStart;\n\t\t}\n\tset _addCell(val)\n\t\t{\n\t\t}\n\n\tget supermaster()\n\t\t{\n\t\treturn this.PROPS.run.supermaster;\n\t\t}\n\tset supermaster(val)\n\t\t{\n\t\tthis.PROPS.run[\"supermaster\"]=val;\n\t\t}\n\t//######################################################################################################################################\n\t//renderChannelLine()\n\t//fügt einen Channel in die Liste\n\t//\n\t//######################################################################################################################################\n\trenderChannelLine(channel)\n\t\t{\n\t\tif (this.isValidChannel(channel, {data:\"hash\", id:\"string\"}) && ! this.app.querySelector(`[id=\"${channel.id}\"]`))\n\t\t\t{\n\t\t\tif (Object.keys(channel.data).length == 0)\n\t\t\t\t{\n\t\t\t\treturn\t\n\t\t\t\t}\t\n\n\t\t\tlet\thtml=`<tgepg-channellistitem class=\"TabCell\" ><div slot=channelname>${channel.friendlyName || channel.name || channel.channelID}</div></tgepg-channellistitem>`\n\t\t\thtml=this._htmlToElement(html)\n\t\t\tlet row=this._htmlToElement(`<div class=\"TabRow\"  id=\"${channel.id}\"></div>`)\n\t\t\trow.appendChild(html)\n\t\t\tthis.app.appendChild(row);\n\n\t\t\t}\n\t\t}\n\n\n\t//######################################################################################################################################\n\t//init()\n\t//prüft die Umgebung und passt Parameter entsprechend an\n\t//\n\t//######################################################################################################################################\n\taddLine(id, rawFilter=[], channel=\"-\",  html=\"\", shown=true)\n\t\t{\n\t\tid=\"channel_\"+id\n\t\tif (this.app.querySelector(`#${id}`) !== null) return\n\t\tvar filter=rawFilter.join(\",\")\n\n\t\tif (html === \"\")\n\t\t\t{\n\t\t\thtml=`<tg-epg-channellistitem class=\"TabCell\" ><div slot=channelname>${channel}</div></tg-epg-channellistitem>`\n\t\t\t}\n\t\thtml=this.htmlToElement(html)\n\t\tvar row=this.htmlToElement(`<div class=\"TabRow\" filter=\"${filter}\" id=\"${id}\"></div>`)\n\t\tif (! shown)\n\t\t\t{\n\t\t\trow.classList.add(\"hide\")\n\t\t\t}\n\t\trow.appendChild(html)\n\t\tthis.app.appendChild(row);\n\n\t\t}\n\trender()\n\t\t{\n\t\tif  ( ( ! this.PROPS.run.scale) || ( ! this.PROPS.run.previewEnd) || ( ! this.PROPS.run.previewStart) )\n\t\t\t{\n\t\t\treturn\n\t\t\t}\n\t\t////this._debug(\"refreshApp Width\", new Date(this.PROPS.run.previewDrawStart*1000), new Date(this.PROPS.run.previewStart*1000), new Date(this.PROPS.run.previewEnd*1000), (this.PROPS.run.previewEnd-this.PROPS.run.previewDrawStart)/3600)\n\n\t\t//this._debug(\"run\", cellHeight, this.app, this.PROPS.run)\n\t\tlet that=this;\n\t\tlet test;\n\t\tthis._log(\"init App\")\n\t\tlet digitCell=``;\n\t\tlet barCell=``;\n\t\tvar root = this;\n\t\twhile (root.parentNode)\n\t\t\t{\n\t\t\troot = root.parentNode;\n\t\t\t}\n\t\troot= root.querySelector('[name=\"timeBar\"]');\n\t\tvar cellHeight=\troot.clientHeight||this.app.clientHeight ||50\n\t\tcellHeight=cellHeight/5\n\t\t//let hours=(this.PROPS.run.previewEnd-this.PROPS.run.previewStart)/3600;\n\t\t//this._debug(\"run\", cellHeight, this.app, this.PROPS.run)\n\t\tfor (let i=this.PROPS.run.previewDrawStart+3600; i<=this.PROPS.run.previewEnd;i+=3600)\n\t\t\t{\n\t\t\t////this._debug(\"refreshApp Width i=\", i)\n\t\t\tlet d=new Date(i*1000);\n\t\t\tlet h=d.getHours()+\"\";\n\t\t\th=((h.length === 1)?\"0\"+h:h)+\":00\";\n\n\t\t\tdigitCell +=`<div class=\"TabCell\">`+h+`</div>`;\n\t\t\tbarCell +=`<div name=\"hourcell\" class=\"TabCell\">\n\t\t\t\t\t\t\t<div class=\"Tab greedy\">\n\t\t\t\t\t\t\t\t<div class=\"TabRow\">\n\t\t\t\t\t\t\t\t\t<div class=\"TabCell\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"Tab greedyH\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"TabCell\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"Tab greedyH\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"TabCell\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"Tab greedyH\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"TabCell\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"Tab greedyH\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>`\n\t\t\t}\n\n\t\tdigitCell=`<div class=\"Tab greedyH\" name=\"digitlinefree\"><div class=\"TabRow\"><div class=\"TabCell\"></div>`+digitCell+`<div class=\"TabCell\"></div></div></div>`\n\t\tbarCell=`<div class=\"Tab greedyH\" ><div class=\"TabRow\">`+barCell+`</div></div>`\n\n\t\tlet timebarTab=`\n\t\t\t\t<div class=\"greedyH Tab \">\n\t\t\t\t\t<div name=\"digitline\" class=\"TabRow\">\n\t\t\t\t\t\t<div class=\"TabCell\">`+\n\t\t\t\t\t\t`<!--digitCell-->` +\n\t\t\t\t\t\t`</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div name=\"barline\" class=\"TabRow\">\n\t\t\t\t\t\t<div class=\"TabCell\">`+\n\t\t\t\t\t\tbarCell +\n\t\t\t\t\t\t`</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>` + digitCell\n\t\tthis.style.setProperty('--timeBarCellWidth', parseInt(15*60*this.PROPS.run.scale)+\"px\");\n\t\tthis.style.setProperty('--timeBarCellHeight', parseInt(cellHeight)+\"px\");\n\t\tthis.app.innerHTML=timebarTab;\n\n\t\t// test is mobile or desktop\n\t\t// tbd\n\t\t//\n\n\n\t\tthis.addEventListener(\"datareadyforuse\",\n\t\t\tfunction(event)\n\t\t\t\t{\n\t\t\t\tthis._log(\"data ready for use\", this.dataHandler.data);\n\t\t\t\t//this._debug(\"dataHandlerEPG\", this.dataHandler.data)\n\t\t\t\tthis.epgData=this.dataHandler.data;\n\t\t\t\tthis._log(\"EPG eingelesen\", Object.keys(this.epgData).length, \"Sender\");\n\t\t\t\tthis.refreshEpgData();\n\t\t\t\t});\n\n\t\tthis._resizeObserver.observe(this.app);\n\t\tthis.addEventListener(\"resize\",\n\t\t\tfunction(ev)\n\t\t\t\t{\n\t\t\t\t//that.refreshApp();\n\t\t\t\t}, false);\n\n\n\t\treturn;\n\t\t}\n\t//#########################################################################################################\n\t//## refreshAppSizeAfterResizeOrInit()\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\tmoveToOffset()\n\t\t{\n\n\t\t}\n\t//#########################################################################################################\n\t//## refreshAppSizeAfterResizeOrInit()\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\trefreshAppSizeAfterResizeOrInit()\n\t\t{\n\t\t//this._debug(\"refreshAppSizeAfterResizeOrInit\")\n\t\tif ( ( this.buttonCell) && (this.PROPS.paras.timerowheight) )\n\t\t\t{\n\t\t\tthis.buttonCell.style.height=parseInt(this.PROPS.paras.timerowheight)+\"px\";\n\t\t\t}\n\t\tif ( ( this.buttonCell) && (this.PROPS.paras.channelcolumnwidth) )\n\t\t\t{\n\t\t\tthis.buttonCell.style.width=parseInt(this.PROPS.paras.channelcolumnwidth)+\"px\";\n\t\t\t}\n\t\tvar width =\tthis.timeBar.clientWidth\n\t\tvar hours=null;\n\t\tif (this.PROPS.run.previewSpans && this.getType(this.PROPS.run.previewSpans,\"hash\"))\n\t\t\t{\n\t\t\tvar myKeys=Object.keys(this.PROPS.run.previewSpans)\n\t\t\tmyKeys=myKeys.sort()\n\t\t\tvar found=0;\n\t\t\tfor (let i = 0; i < myKeys.length; i++)\n\t\t\t\t{\n\t\t\t\t////this._debug(\"width\", parseInt(myKeys[i]), width)\n\t\t\t\tif ((parseInt(myKeys[i]) != 0) && (parseInt(myKeys[i]) <= width))\n\t\t\t\t\t{\n\t\t\t\t\thours=this.PROPS.run.previewSpans[myKeys[i]]\n\t\t\t\t\t////this._debug(\"hours\", myKeys[i], hours)\n\t\t\t\t\t}\n\t\t\t\telse if\t(parseInt(myKeys[i]) > width)\n\t\t\t\t\t{\n\t\t\t\t\tfound=1\n\t\t\t\t\t////this._debug(\"found\", myKeys[i])\n\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t  \t}\n\t\t\tif ((found == null) || (hours == null))\n\t\t\t\t{\n\t\t\t\thours=this.PROPS.run.previewSpans[\"0\"]||10\n\t\t\t\t}\n\t\t\t}\n\t\tthis.PROPS.run[\"previewSpan\"]=parseFloat(hours)||1\n\t\tthis.PROPS.run[\"scale\"]=width/(hours*60)\n\t\t////this._debug(\"hours\", hours, width, this.PROPS.run.scale, this.PROPS.run.previewSpan)\n\t\t////this._debug(\"refreshApp Width\", this.buttonCell, this.buttonCell.clientWidth)\n\t\t////this._debug(\"refreshApp Width\", this.timeRow, this.timeRow.clientWidth)\n\t\t////this._debug(\"refreshApp Width\", this.timeBar, this.timeBar.offsetWidth)\n\t\t}\n\n\n\t//#########################################################################################################\n\t//## buildApp()\n\t//## richtet die App-Oberfläche ein\n\t//##\n\t//##\n\t//#########################################################################################################\n\tbuildApp()\n\t\t{\n\t\t//this._debug(\"buildApp:\", this.PROPS.run.mode);\n\t\tvar that=this;\n\t\tvar timeBar=this.timeBar.querySelector('tg-epg-timebar');\n\t\tif (! timeBar)\n\t\t\t{\n\t\t\t//timeBar=document.createElement(\"tg-epg-timebar\");\n\t\t\t//this.timeBar.appendChild(timeBar);\n\t\t\t}\n\n\t\t// // inject CCS-File to <HEAD>\n\t\t// let cssLink = document.querySelector('head > [name=\"tgEpgStyle\"]');\n\t\t// if (! cssLink)\n\t\t// \t{\n\t\t// \tlet style=document.createElement(\"link\");\n\t\t// \tstyle.setAttribute(\"rel\",\"stylesheet\");\n\t\t// \tstyle.setAttribute(\"name\",\"tgEpgStyle\");\n\t\t// \tstyle.setAttribute(\"href\",\"tgEpg.hlp.cssInjectToHead.css\");\n\t\t// \tdocument.getElementsByTagName(\"head\")[0].appendChild(style);\n\t\t// \t}\n\t\tif ( (this.superButton) && (! this.superButton.hasAttribute(\"hasClickHandler\") ) )\n\t\t\t{\n\t\t\tthis.superButton.addEventListener(\"click\", function(event)\n\t\t\t\t{\n\t\t\t\tthat.manageToolbar(\"init\", event);\n\t\t\t\t});\n\t\t\tthis.superButton.setAttribute(\"hasClickHandler\", 1);\n\t\t\t}\n\t\treturn;\n\t\t}\n\t//#########################################################################################################\n\t//##\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\tloadDefaultOptions()\n\t\t{\n\t\tthis._clearOptions(this.PROPS.defaults._storageKey);\n\t\tthis.PROPS.set = this.extender({}, this.PROPS.defaults, this.readOptions(this.PROPS.defaults._storageKey));\n\t\tthis._writeOptions(this.PROPS.defaults._storageKey, this.PROPS.set);\n\t\t//this._debug(\"loadDefaultOptions --\", this.PROPS.set)\n\t\t//this.refreshApp();\n\t\t}\n\t//#########################################################################################################\n\t//##\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\tsetOptions(opts={})\n\t\t{\n\t\tlet val = this.tgEpgDefaults.setOptions(this, opts);\n\t\tthis.PROPS.set=this.extender(this.PROPS.set, val);\n\t\tthis._writeOptions(this.PROPS.defaults._storageKey, this.PROPS.set);\n\t\t//this._debug(\"setOptions --\", val)\n\t\t}\n\t//#########################################################################################################\n\t//##\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\tgetOptions(opts={})\n\t\t{\n\t\t//this._debug(\"getOptions --opts\", opts);\n\t\tlet val = this.tgEpgDefaults.getOptions(this, opts);\n\t\t//this._debug(\"getOptions --val\", val);\n\t\treturn val;\n\t\t}\n\n\t//#########################################################################################################\n\t//##\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\n\t//############################################################################################################################################\n\t//############################################################################################################################################\n\t}\n\nwindow.customElements.define('tgepg-channellist', tgEpgChannelList);\n","/*\n* tgEPG component\n*\n* Copyright (c) 2020-2021 Thomas Geißenhöner <quietcry@gmx.de>\n* Under MIT License (http://www.opensource.org/licenses/mit-license.php)\n*\n*\n*/\n\nimport { tgControls } from \"../tgControls.js\";\n\nexport class channelProgListBasis extends tgControls\n\t{\n\tconstructor(defaultclass, properties)\n\t\t{\n\t\tsuper(\"open\", defaultclass);\n\t\tvar that=this;\n\t\tthis[\"PROPS\"]=this._extender( (this[\"PROPS\"] || {}),\n\t\t\t\t\t\t{\n\t\t\t\t\t\trun:\t{\n\t\t\t\t\t\t\t\tmsg:\t{\n\t\t\t\t\t\t\t\t\t\tlog:true,\n\t\t\t\t\t\t\t\t\t\tdebug:true,\n\t\t\t\t\t\t\t\t\t\terror:true\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\tdefault:{connected:0},\n\t\t\t\t\t\tparas:this._extender({})\n\t\t\t\t\t\t});\n\t\t// Zeiger auf Elemente aus dem Template\n\t\tthis.app = this.shadowRoot.querySelector('[name=\"app\"]');\n\n\n\t\t}\n\n\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\ttemplate()\n\t\t{\n\t\tlet tmp = `\n\t\t\t<style>\n\t\t\t:host\n\t\t\t\t{\n\t\t\t\tbackground-color:red;\n\t\t\t\t}\n\t\t\t.hide\n\t\t\t\t{\n\t\t\t\tdisplay:none;\n\t\t\t\t}\n\t\t\t</style>\n\t\t\t<div name=\"app\">\n\t\t\t</div>\n\t\t\t`\n\t\treturn tmp;\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t// properties()\n\t// collect name-value pairs to use as observed Atrributes and the corresponding this->PROPS->paras\n\t//\n\t//######################################################################################################################################\n\tstatic get properties()\n\t\t{\n\t\t//let props=\ttgEpgChannelListDefaults.properties || {};\n\t\tlet props=\t{};\n\t\tlet superProps=super.properties||{};\n\t\tprops=Object.assign(superProps,props);\n\t\treturn props;\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tstatic get observedAttributes()\n\t \t{\n\t\t// let props=super.observedAttributes||[];\n\t\t// props.push(\"direction\")\n\t\treturn [\"direction\"];\n  \t \t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tconnectedCallback ()\n\t\t{\n\t\tvar that=this;\n\t\tif (this.PROPS.run.connected == 0)\n\t\t \t{\n\t\t \tthis.init();\n\t\t\t// this.refreshAppSizeAfterResizeOrInit();\n\t\t \t// this.buildApp();\n\t\t \tthis.connected();\n\t\t \t}\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tattributeChangedCallback(attrName, oldVal, newVal)\n\t\t{\n\t\tif ( super.attributeChangedCallback(attrName, oldVal, newVal ) === false) return;\n\t\tif ( this.PROPS.run.connected)\n\t\t\t{\n\t\t\tthis.attributeChangedAction(attrName, oldVal, newVal );\n\t\t\t}\n\t\t}\n\n\tattributeChangedAction(attrName, oldVal, newVal )\n\t\t{\n\t\tswitch (attrName)\n\t\t\t{\n\t\t\tcase \"xxx\":\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\t//this.PROPS.paras[attrName]=newVal;\n\t\t\t\t//this.control.setAttribute(attrName, newVal);\n\t\t\t}\n\t\t}\n\t//######################################################################################################################################\n\t//init()\n\t//prüft die Umgebung und passt Parameter entsprechend an\n\t//\n\t//######################################################################################################################################\n\tinit()\n\t\t{\n\t\tvar that=this;\n\t\treturn\n\t\t}\n\t\t//######################################################################################################################################\n\t//init()\n\t//prüft die Umgebung und passt Parameter entsprechend an\n\t//\n\t//######################################################################################################################################\n\tsetFilter(rawFilter=[])\n\t\t{\n\t\tvar that=this\n\t\trawFilter=(this.getType(rawFilter,\"array\"))?rawFilter:(this.getType(rawFilter,\"string\"))?[rawFilter]:[]\n\t\tthis.PROPS.paras[\"channelfilter\"]=rawFilter\n\t\tvar filterStyles=this._shadowRoot.querySelectorAll('style[name=\"filter\"]')\n\t\tfilterStyles.forEach(function(style)\n\t\t\t{\n\t\t\tstyle.remove()\n\t\t\t})\n\n\t\tif (rawFilter.length > 0)\n\t\t\t{\n\t\t\tvar styleEl = document.createElement(\"style\");\n\t\t\tthis._shadowRoot.appendChild(styleEl)\n\t\t\tstyleEl.setAttribute(\"name\",\"filter\")\n\t\t\tvar filter=\"\"\n\t\t\trawFilter.forEach(function(item)\n\t\t\t\t{\n\t\t\t\tif (that.getBoolean(item.activ))\n\t\t\t\t\t{\n\t\t\t\t\tfilter=(filter==\"\")?`[filter*=\"whitelist\"]`:filter\n\t\t\t\t\tvar x=`[filter*=\"${item.id}\"]`\n\t\t\t\t\tfilter=`${filter}${(filter===\"\")?\"\":\",\"}${x}`\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\tlet rule=(filter !=\"\")?`.TabRow[filter]:not(${filter}){\tdisplay:none; }`:\"\"\n\t\t\tstyleEl.innerHTML=rule\n\t\t\t}\n\t\t}\n\t//#########################################################################################################\n\t//##\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\tisValidChannel(channel={}, mustHaveKeys={})\n\t\t{\n\t\tlet keys=Object.keys(mustHaveKeys)\n\t\tfor (let key of keys)\n\t\t\t{\n\t\t\tif ( !channel[key] || !this._getType(channel[key], mustHaveKeys[key]))\n\t\t\t\t{\n\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t}\n\t\treturn true\n\t\t}\n\n\t//#########################################################################################################\n\t//##\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\tget supermaster()\n\t\t{\n\t\treturn this._supermaster;\n\t\t}\n\tset supermaster(val)\n\t\t{\n\t\tthis[\"_supermaster\"]=val;\n\t\t}\n\tget channelfilter()\n\t\t{\n\t\treturn this.PROPS.paras.channelfilter;\n\t\t}\n\tset channelfilter(val)\n\t\t{\n\t\tconsole.log(\"setFilter c\", val)\n\t\tthis.setFilter(val)\n\t\t}\n\tset setChannel(val)\n\t\t{\n\t\t//console.debug(\"setchannel c\", val)\n\t\tthis.renderChannelLine(val)\n\t\t}\n\tset deleteChannel(val)\n\t\t{\n\t\t//console.log(\"delchannel c\", val)\n\t\t}\n\n\n\t//############################################################################################################################################\n\t//############################################################################################################################################\n\t}\n\n//window.customElements.define('tg-template', webcomponentTemplate);\n","import { tgEpgDefaultsCommon }  from \"./defaults_Common.js\"\n\nexport class tgEpgChannelListDefaults extends tgEpgDefaultsCommon\n\t{\n\tconstructor()\n\t\t{\n\t\tsuper(\"open\");\n\t\tthis[\"PROPS\"]=\n\t\t\t\t\t\t{\n\t\t\t\t\t\tdefault: \tthis._extender({}, this[\"PROPS\"].default||{},\n\t\t\t\t\t\t\t\t\t{\n\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t}\n\t\t}\n\t\n\tstatic get properties()\n\t\t{\n\t\tvar props=super.properties||{};\n\t\tprops[\"dataref\"]=null;\n\t\tprops[\"timerowheight\"]=\"50\";\n\t\tprops[\"channelrowheight\"]=\"50\";\n\t\tprops[\"channelcolumnwidth\"]=\"150\";\n\n\t\treturn props;\n\t\t}\n\n\tstatic get template()\n\t\t{\n\t\tvar styles=super.styles||\"\";\n\t\tstyles=styles+  `\n\t\t\t\t\t\t<style>\n\t\t\t\t\t\t:host\n\t\t\t\t\t\t{\n\t\t\t\t\t\tdisplay:inline-block;\n\t\t\t\t\t\t/*\n\t\t\t\t\t\tposition:absolute;\n\t\t\t\t\t\t*/\n\t\t\t\t\t\tleft:0px;\n\t\t\t\t\t\ttop:0px;\n\t\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t\t\twidth:100%;\n\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t[name=\"app\"]\n\t\t\t\t\t\t{\n\t\t\t\t\t\twhite-space: normal;\n\t\t\t\t\t\tbackground-color: gray;\n\t\t\t\t\t\tdisplay:inline-block;\n\t\t\t\t\t\tposition:relative;\n\t\t\t\t\t\twidth: var(--channelRowWidth-used);\n\t\t\t\t\t\tmin-width: var(--channelRowWidth-used);\n\t\t\t\t\t\tmax-width: var(--channelRowWidth-used);\n\t\t\t\t\t\t}\n\t\t\t\t\t.TabRow\n\t\t\t\t\t\t{\n\t\t\t\t\t\theight: var(--channelRowHeight-used);\n\t\t\t\t\t\tmin-height: var(--channelRowHeight-used);\n\t\t\t\t\t\tmax-height: var(--channelRowHeight-used);\n\t\t\t\t\t\t}\n\t\t\t\t\t.TabCell\n\t\t\t\t\t\t{\n\t\t\t\t\t\tvertical-align: middle;\n\t\t\t\t\t\ttext-align:left;\n\t\t\t\t\t\tborder-top: 3px solid black;\n\t\t\t\t\t\tborder-bottom: 3px solid black;\n\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t.TabRow:nth-child(even) .TabCell\n\t\t\t\t\t\t{\n\t\t\t\t\t\tbackground-color: green;\n\t\t\t\t\t\tcolor: red;\n\t\t\t\t\t\t}\n\t\t\t\t\t.TabRow:nth-child(odd) .TabCell\n\t\t\t\t\t\t{\n\t\t\t\t\t\tbackground-color: blue;\n\t\t\t\t\t\tcolor: yellow;\n\t\t\t\t\t\t}\n\n\t\t\t\n\t\t\t\t\t\t</style>\n\t\t\t\t\t\t`\n\t\tlet html =  `${styles}\n\t\t\t\t\t<div name=\"app\" class=\"Tab\">\n\t\t\t\t\t<!-- App -->\n\t\t\t\t\t<!-- App Ende-->\n\t\t\t\t\t</div>\n\t\t\t\t\t`;\n\n\t\treturn html\n\t\t}\n\n\n\n\t}\n","/*refr\n* tgEPG component\n*\n* Copyright (c) 2020-2021 Thomas Geißenhöner <quietcry@gmx.de>\n* Under MIT License (http://www.opensource.org/licenses/mit-license.php)\n*\n*\n*/\n\nimport { tgControls } from \"../tgControls.js\";\nimport { tgEpgChannelListItemDefaults } from \"../../defaults_ChannellistItem.js\";\n\nexport class tgEpgChannelListItem extends tgControls\n\t{\n\tconstructor(mode=\"open\", props={})\n\t\t{\n\t\tsuper(\"open\");\n\t\tvar that=this;\n\t\t// default Parameter nach Props einlesen\n\t\tthis.tgEpgDefaults=new tgEpgChannelListItemDefaults(this);\n\t\t//this.tgEpgDefaults=new tgEpgChannelListDefaults(this);\n\t\t// this[\"PROPS\"]=this._extender(\t{},\n\t\t// \t\t\t\t\t\t\t\tthis[\"PROPS\"]||{},\n\t\t// \t\t\t\t\t\t\t\tthis.tgEpgDefaults.getProps,\n\t\t// \t\t\t\t\t\t\t\t{\n\t\t// \t\t\t\t\t\t\t\tdefault:\t{\n\t\t// \t\t\t\t\t\t\t\t\t\t\tmsg:\t{\n\t\t// \t\t\t\t\t\t\t\t\t\t\t\t\tlog:true,\n\t\t// \t\t\t\t\t\t\t\t\t\t\t\t\tdebug:true,\n\t\t// \t\t\t\t\t\t\t\t\t\t\t\t\terror:true\n\t\t// \t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t// \t\t\t\t\t\t\t\t\t\t\tskale:0,\n\t\t// \t\t\t\t\t\t\t\t\t\t\tfirstStart:0,\n\t\t// \t\t\t\t\t\t\t\t\t\t\tlastEnd:0,\n\t\t// \t\t\t\t\t\t\t\t\t\t\ttimePosition:0,\n\t\t// \t\t\t\t\t\t\t\t\t\t\tepgEnd:100\n\t\t// \t\t\t\t\t\t\t\t\t\t\t},\n\t\t// \t\t\t\t\t\t\t\tattr:\t\tthis._extender({},tgEpgChannelList.properties)\n\t\t// \t\t\t\t\t\t\t\t}\n\t\t// \t\t\t\t\t\t\t)\n\t\t// this[\"PROPS\"][\"run\"]=this._extender\t(\tthis[\"PROPS\"][\"default\"]||{},\n\t\t// \t\t\t\t\t\t\t\t\t\tthis[\"PROPS\"][\"run\"]||{},\n\t\t// \t\t\t\t\t\t\t\t\t\tprops\n\t\t// \t\t\t\t\t\t\t\t\t)\n\n\t\t// this._debug(\"constructor - Parameters\", \"props:\",this[\"PROPS\"]);\n\n\t\t// // data handler init\n\t\t// this.epgData={};\n\t\t// //this.me=new tgEpgHelper(false);\n\n\t\t// this.app = this.shadowRoot.querySelector('[name=\"app\"]');\n\t\t// this._debug(\"constructor - constructed\");\n\n\t\t}\n\n\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\ttemplate()\n\t\t{\n\t\tlet tmp = tgEpgChannelListItemDefaults.template;\n\t\treturn tmp||\"\";\n\t\t}\n\t// //######################################################################################################################################\n\t// //\n\t// // properties()\n\t// // collect name-value pairs to use as observed Atrributes and the corresponding this->PROPS->paras\n\t// //\n\t// //######################################################################################################################################\n\t// static get properties()\n\t// \t{\n\t// \t// let props=\ttgEpgChannelListItemDefaults.properties || {};\n\t// \t// let superProps=super.properties||{};\n\t// \t// props=Object.assign(superProps,props);\n\t// \treturn props||[];\n\t// \t}\n\t// //######################################################################################################################################\n\t// //\n\t// //\n\t// //\n\t// //######################################################################################################################################\n\t// static get observedAttributes()\n\t//  \t{\n\t// \tlet props=tgEpgChannelListItemDefaults.properties;\n\t// \tprops=Object.keys(props);\n\t// \t// console.debug(\"observedAttributes::\", \"prop:\",props);\n\t// \treturn  props||[];\n  \t//  \t}\n\t// //######################################################################################################################################\n\t// //\n\t// //\n\t// //\n\t// //######################################################################################################################################\n\t// connectedCallback ()\n\t// \t{\n\t// \tvar that=this;\n\t// \t// console.debug(\"connectedCallback\", \"start\");\n\t// \t// if (this.PROPS.run.connected == 0)\n\t// \t//  \t{\n\t// \t// \tthis.render();\n\t// \t// \tthis.moveToOffset();\n\t// \t// // \tthis.init();\n\t// \t// //\tthis.refreshAppSizeAfterResizeOrInit();\n\t// \t// // \tthis.buildApp();\n\t// \t// // \tthis.getData();\n\t// \t//  \tthis.connected();\n\t// \t//  \t}\n\t// \t}\n\t// //######################################################################################################################################\n\t// //\n\t// //\n\t// //\n\t// //######################################################################################################################################\n\t// attributeChangedCallback(attrName, oldVal, newVal)\n\t// \t{\n\t// \t// if ( (! newVal) || (! this.PROPS.paras.hasOwnProperty(attrName)) || (this.PROPS.paras[attrName]===newVal)) return;\n\t// \t// oldVal=oldVal || this.PROPS.paras[attrName];\n\t// \t// super.attributeChangedCallback(attrName, newVal, oldVal );\n\t// \t// this._debug(\"change Attribute \"+attrName, \"from\", oldVal, \"to\" , newVal);\n\t// \t// this.PROPS.paras[attrName]=newVal;\n\t// \t// switch (attrName)\n\t// \t// \t{\n\t// \t// \tcase \"timerowheight\":\n\t// \t// \t\t//this.timeRow.style.height=parseInt(newVal)+\"px\";\n\t// \t// \t\tbreak;\n\t// \t// \tcase \"data\":\n\t// \t// \t\tthis.PROPS.paras[\"dataref\"]=newVal;\n\t// \t// \t\tthis.dataHandler.getData(newVal);\n\t// \t// \t\tbreak;\n\t// \t// \tdefault:\n\t// \t// \t\tbreak;\n\t// \t// \t}\n\t// \t}\n\t// //######################################################################################################################################\n\t// //setter & getter\n\t// //\n\t// //\n\t// //######################################################################################################################################\n\t// get _addCell()\n\t// \t{\n\t// \treturn this.PROPS.run.previewStart;\n\t// \t}\n\t// set _addCell(val)\n\t// \t{\n\t// \t}\n\n\t// get supermaster()\n\t// \t{\n\t// \treturn this.PROPS.run.supermaster;\n\t// \t}\n\t// set supermaster(val)\n\t// \t{\n\t// \tthis.PROPS.run[\"supermaster\"]=val;\n\t// \t}\n\n\n\t// //######################################################################################################################################\n\t// //init()\n\t// //prüft die Umgebung und passt Parameter entsprechend an\n\t// //\n\t// //######################################################################################################################################\n\t// addCell(channel=\"-\", shown=true)\n\t// \t{\n\t// \tvar item=document.createElement(\"tg-epg-channelNameItem\");\n\t// \titem.classList.add(\"greedyW\"+((shown)?\"\":\" hide\"));\n\t// \tvar elems=this.htmlToElements(\"<div slot=\\\"channelname\\\">\"+channel+\"</div>\")\n\t// \tfor ( let i=0; i<elems.length; i++)\n\t// \t\t{\n\t// \t\titem.appendChild(elems[i]);\n\t// \t\t}\n\t// \tthis.app.appendChild(item);\n\n\t// \t}\n\t// render()\n\t// \t{\n\t// \tif  ( ( ! this.PROPS.run.scale) || ( ! this.PROPS.run.previewEnd) || ( ! this.PROPS.run.previewStart) )\n\t// \t\t{\n\t// \t\treturn\n\t// \t\t}\n\t// \t//this._debug(\"refreshApp Width\", new Date(this.PROPS.run.previewDrawStart*1000), new Date(this.PROPS.run.previewStart*1000), new Date(this.PROPS.run.previewEnd*1000), (this.PROPS.run.previewEnd-this.PROPS.run.previewDrawStart)/3600)\n\n\t// \tthis._debug(\"run\", cellHeight, this.app, this.PROPS.run)\n\t// \tlet that=this;\n\t// \tlet test;\n\t// \tthis._log(\"init App\")\n\t// \tlet digitCell=``;\n\t// \tlet barCell=``;\n\t// \tvar root = this;\n\t// \twhile (root.parentNode)\n\t// \t\t{\n\t// \t\troot = root.parentNode;\n\t// \t\t}\n\t// \troot= root.querySelector('[name=\"timeBar\"]');\n\t// \tvar cellHeight=\troot.clientHeight||this.app.clientHeight ||50\n\t// \tcellHeight=cellHeight/5\n\t// \t//let hours=(this.PROPS.run.previewEnd-this.PROPS.run.previewStart)/3600;\n\t// \tthis._debug(\"run\", cellHeight, this.app, this.PROPS.run)\n\t// \tfor (let i=this.PROPS.run.previewDrawStart+3600; i<=this.PROPS.run.previewEnd;i+=3600)\n\t// \t\t{\n\t// \t\t//this._debug(\"refreshApp Width i=\", i)\n\t// \t\tlet d=new Date(i*1000);\n\t// \t\tlet h=d.getHours()+\"\";\n\t// \t\th=((h.length === 1)?\"0\"+h:h)+\":00\";\n\n\t// \t\tdigitCell +=`<div class=\"TabCell\">`+h+`</div>`;\n\t// \t\tbarCell +=`<div name=\"hourcell\" class=\"TabCell\">\n\t// \t\t\t\t\t\t<div class=\"Tab greedy\">\n\t// \t\t\t\t\t\t\t<div class=\"TabRow\">\n\t// \t\t\t\t\t\t\t\t<div class=\"TabCell\">\n\t// \t\t\t\t\t\t\t\t\t<div class=\"Tab greedyH\">\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t// \t\t\t\t\t\t\t\t\t</div>\n\t// \t\t\t\t\t\t\t\t</div>\n\t// \t\t\t\t\t\t\t\t<div class=\"TabCell\">\n\t// \t\t\t\t\t\t\t\t\t<div class=\"Tab greedyH\">\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t// \t\t\t\t\t\t\t\t\t</div>\n\t// \t\t\t\t\t\t\t\t</div>\n\t// \t\t\t\t\t\t\t\t<div class=\"TabCell\">\n\t// \t\t\t\t\t\t\t\t\t<div class=\"Tab greedyH\">\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t// \t\t\t\t\t\t\t\t\t</div>\n\t// \t\t\t\t\t\t\t\t</div>\n\t// \t\t\t\t\t\t\t\t<div class=\"TabCell\">\n\t// \t\t\t\t\t\t\t\t\t<div class=\"Tab greedyH\">\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t// \t\t\t\t\t\t\t\t\t</div>\n\t// \t\t\t\t\t\t\t\t</div>\n\t// \t\t\t\t\t\t\t</div>\n\t// \t\t\t\t\t\t</div>\n\t// \t\t\t\t\t</div>`\n\t// \t\t}\n\n\t// \tdigitCell=`<div class=\"Tab greedyH\" name=\"digitlinefree\"><div class=\"TabRow\"><div class=\"TabCell\"></div>`+digitCell+`<div class=\"TabCell\"></div></div></div>`\n\t// \tbarCell=`<div class=\"Tab greedyH\" ><div class=\"TabRow\">`+barCell+`</div></div>`\n\n\t// \tlet timebarTab=`\n\t// \t\t\t<div class=\"greedyH Tab \">\n\t// \t\t\t\t<div name=\"digitline\" class=\"TabRow\">\n\t// \t\t\t\t\t<div class=\"TabCell\">`+\n\t// \t\t\t\t\t`<!--digitCell-->` +\n\t// \t\t\t\t\t`</div>\n\t// \t\t\t\t</div>\n\t// \t\t\t\t<div name=\"barline\" class=\"TabRow\">\n\t// \t\t\t\t\t<div class=\"TabCell\">`+\n\t// \t\t\t\t\tbarCell +\n\t// \t\t\t\t\t`</div>\n\t// \t\t\t\t</div>\n\t// \t\t\t</div>` + digitCell\n\t// \tthis.style.setProperty('--timeBarCellWidth', parseInt(15*60*this.PROPS.run.scale)+\"px\");\n\t// \tthis.style.setProperty('--timeBarCellHeight', parseInt(cellHeight)+\"px\");\n\t// \tthis.app.innerHTML=timebarTab;\n\n\t// \t// test is mobile or desktop\n\t// \t// tbd\n\t// \t//\n\n\n\t// \tthis.addEventListener(\"datareadyforuse\",\n\t// \t\tfunction(event)\n\t// \t\t\t{\n\t// \t\t\tthis._log(\"data ready for use\", this.dataHandler.data);\n\t// \t\t\tthis._debug(\"dataHandlerEPG\", this.dataHandler.data)\n\t// \t\t\tthis.epgData=this.dataHandler.data;\n\t// \t\t\tthis._log(\"EPG eingelesen\", Object.keys(this.epgData).length, \"Sender\");\n\t// \t\t\tthis.refreshEpgData();\n\t// \t\t\t});\n\n\t// \tthis._resizeObserver.observe(this.app);\n\t// \tthis.addEventListener(\"resize\",\n\t// \t\tfunction(ev)\n\t// \t\t\t{\n\t// \t\t\t//that.refreshApp();\n\t// \t\t\t}, false);\n\n\n\t// \treturn;\n\t// \t}\n\t// //#########################################################################################################\n\t// //## refreshAppSizeAfterResizeOrInit()\n\t// //##\n\t// //##\n\t// //##\n\t// //#########################################################################################################\n\t// moveToOffset()\n\t// \t{\n\n\t// \t}\n\t// //#########################################################################################################\n\t// //## refreshAppSizeAfterResizeOrInit()\n\t// //##\n\t// //##\n\t// //##\n\t// //#########################################################################################################\n\t// refreshAppSizeAfterResizeOrInit()\n\t// \t{\n\t// \tthis._debug(\"refreshAppSizeAfterResizeOrInit\")\n\t// \tif ( ( this.buttonCell) && (this.PROPS.paras.timerowheight) )\n\t// \t\t{\n\t// \t\tthis.buttonCell.style.height=parseInt(this.PROPS.paras.timerowheight)+\"px\";\n\t// \t\t}\n\t// \tif ( ( this.buttonCell) && (this.PROPS.paras.channelcolumnwidth) )\n\t// \t\t{\n\t// \t\tthis.buttonCell.style.width=parseInt(this.PROPS.paras.channelcolumnwidth)+\"px\";\n\t// \t\t}\n\t// \tvar width =\tthis.timeBar.clientWidth\n\t// \tvar hours=null;\n\t// \tif (this.PROPS.run.previewSpans && this.getType(this.PROPS.run.previewSpans,\"hash\"))\n\t// \t\t{\n\t// \t\tvar myKeys=Object.keys(this.PROPS.run.previewSpans)\n\t// \t\tmyKeys=myKeys.sort()\n\t// \t\tvar found=0;\n\t// \t\tfor (let i = 0; i < myKeys.length; i++)\n\t// \t\t\t{\n\t// \t\t\t//this._debug(\"width\", parseInt(myKeys[i]), width)\n\t// \t\t\tif ((parseInt(myKeys[i]) != 0) && (parseInt(myKeys[i]) <= width))\n\t// \t\t\t\t{\n\t// \t\t\t\thours=this.PROPS.run.previewSpans[myKeys[i]]\n\t// \t\t\t\t//this._debug(\"hours\", myKeys[i], hours)\n\t// \t\t\t\t}\n\t// \t\t\telse if\t(parseInt(myKeys[i]) > width)\n\t// \t\t\t\t{\n\t// \t\t\t\tfound=1\n\t// \t\t\t\t//this._debug(\"found\", myKeys[i])\n\t// \t\t\t\tbreak\n\t// \t\t\t\t}\n\t// \t\t  \t}\n\t// \t\tif ((found == null) || (hours == null))\n\t// \t\t\t{\n\t// \t\t\thours=this.PROPS.run.previewSpans[\"0\"]||10\n\t// \t\t\t}\n\t// \t\t}\n\t// \tthis.PROPS.run[\"previewSpan\"]=parseFloat(hours)||1\n\t// \tthis.PROPS.run[\"scale\"]=width/(hours*60)\n\t// \t//this._debug(\"hours\", hours, width, this.PROPS.run.scale, this.PROPS.run.previewSpan)\n\t// \t//this._debug(\"refreshApp Width\", this.buttonCell, this.buttonCell.clientWidth)\n\t// \t//this._debug(\"refreshApp Width\", this.timeRow, this.timeRow.clientWidth)\n\t// \t//this._debug(\"refreshApp Width\", this.timeBar, this.timeBar.offsetWidth)\n\t// \t}\n\n\n\t// //#########################################################################################################\n\t// //## buildApp()\n\t// //## richtet die App-Oberfläche ein\n\t// //##\n\t// //##\n\t// //#########################################################################################################\n\t// buildApp()\n\t// \t{\n\t// \tthis._debug(\"buildApp:\", this.PROPS.run.mode);\n\t// \tvar that=this;\n\t// \tvar timeBar=this.timeBar.querySelector('tg-epg-timebar');\n\t// \tif (! timeBar)\n\t// \t\t{\n\t// \t\t//timeBar=document.createElement(\"tg-epg-timebar\");\n\t// \t\t//this.timeBar.appendChild(timeBar);\n\t// \t\t}\n\n\t// \t// // inject CCS-File to <HEAD>\n\t// \t// let cssLink = document.querySelector('head > [name=\"tgEpgStyle\"]');\n\t// \t// if (! cssLink)\n\t// \t// \t{\n\t// \t// \tlet style=document.createElement(\"link\");\n\t// \t// \tstyle.setAttribute(\"rel\",\"stylesheet\");\n\t// \t// \tstyle.setAttribute(\"name\",\"tgEpgStyle\");\n\t// \t// \tstyle.setAttribute(\"href\",\"tgEpg.hlp.cssInjectToHead.css\");\n\t// \t// \tdocument.getElementsByTagName(\"head\")[0].appendChild(style);\n\t// \t// \t}\n\t// \tif ( (this.superButton) && (! this.superButton.hasAttribute(\"hasClickHandler\") ) )\n\t// \t\t{\n\t// \t\tthis.superButton.addEventListener(\"click\", function(event)\n\t// \t\t\t{\n\t// \t\t\tthat.manageToolbar(\"init\", event);\n\t// \t\t\t});\n\t// \t\tthis.superButton.setAttribute(\"hasClickHandler\", 1);\n\t// \t\t}\n\t// \treturn;\n\t// \t}\n\t// //#########################################################################################################\n\t// //##\n\t// //##\n\t// //##\n\t// //##\n\t// //#########################################################################################################\n\t// loadDefaultOptions()\n\t// \t{\n\t// \tthis._clearOptions(this.PROPS.defaults._storageKey);\n\t// \tthis.PROPS.set = this.extender({}, this.PROPS.defaults, this.readOptions(this.PROPS.defaults._storageKey));\n\t// \tthis._writeOptions(this.PROPS.defaults._storageKey, this.PROPS.set);\n\t// \tthis._debug(\"loadDefaultOptions --\", this.PROPS.set)\n\t// \t//this.refreshApp();\n\t// \t}\n\t// //#########################################################################################################\n\t// //##\n\t// //##\n\t// //##\n\t// //##\n\t// //#########################################################################################################\n\t// setOptions(opts={})\n\t// \t{\n\t// \tlet val = this.tgEpgDefaults.setOptions(this, opts);\n\t// \tthis.PROPS.set=this.extender(this.PROPS.set, val);\n\t// \tthis._writeOptions(this.PROPS.defaults._storageKey, this.PROPS.set);\n\t// \tthis._debug(\"setOptions --\", val)\n\t// \t}\n\t// //#########################################################################################################\n\t// //##\n\t// //##\n\t// //##\n\t// //##\n\t// //#########################################################################################################\n\t// getOptions(opts={})\n\t// \t{\n\t// \tthis._debug(\"getOptions --opts\", opts);\n\t// \tlet val = this.tgEpgDefaults.getOptions(this, opts);\n\t// \tthis._debug(\"getOptions --val\", val);\n\t// \treturn val;\n\t// \t}\n\n\t// //#########################################################################################################\n\t// //##\n\t// //##\n\t// //##\n\t// //##\n\t// //#########################################################################################################\n\n\t// //############################################################################################################################################\n\t// //############################################################################################################################################\n\t}\n\nwindow.customElements.define('tgepg-channellistitem', tgEpgChannelListItem);\n","import { tgEpgDefaultsCommon }  from \"./defaults_Common.js\"\n\nexport class tgEpgChannelListItemDefaults extends tgEpgDefaultsCommon\n\t{\n\tconstructor()\n\t\t{\n\t\tsuper(\"open\");\n\t\tthis[\"PROPS\"]=\n\t\t\t\t\t\t{\n\t\t\t\t\t\tdefault: \tthis._extender({}, this[\"PROPS\"].default||{},\n\t\t\t\t\t\t\t\t\t{\n\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t}\n\t\t}\n\tstatic get template()\n\t\t{\n\t\tvar styles=super.styles||\"\";\n\t\t\tstyles=styles+`\n\t\t\t<style>\n\t\t\t:host\n\t\t\t\t{\n\t\t\t\tdisplay:inline-block;\n\t\t\t\tbox-sizing: border-box;\n\n\t\t\t\t}\n\t\t\t[name=\"app\"]\n\t\t\t\t{\n\t\t\t\twhite-space: normal;\n\t\t\t\tdisplay:inline-block;\n\t\t\t\tposition:relative;\n\t\t\t\t}\n\t\t\t.TabCell\n\t\t\t\t{\n\t\t\t\twhite-space: nowrap;\n\t\t\t\t}\n\t\t\t</style>\n\n\t\t\t`;\n\t\t\tvar tmp=styles+`\n\t\t\t<!-- App -->\n\t\t\t\t<div name=\"app\" class=\"Tab\">\n\t\t\t\t\t<div class=\"TabRow\">\n\t\t\t\t\t\t<div class=\"TabCell\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"TabCell\">\n\t\t\t\t\t\t\t<slot name=\"channelname\"></slot>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"TabCell\">\n\t\t\t\t\t\t\t<slot name=\"channelicon\"></slot>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t<!-- App Ende-->\n\t\t\t`;\n\t\t\treturn\ttmp;\n\t\t}\n\tstatic get properties()\n\t\t{\n\t\tvar props=super.properties||{};\n\t\tprops[\"dataref\"]=null;\n\t\tprops[\"timerowheight\"]=\"50\";\n\t\tprops[\"channelrowheight\"]=\"50\";\n\t\tprops[\"channelcolumnwidth\"]=\"150\";\n\n\t\treturn props;\n\t\t}\n\n\t}\n","/*refr\n* tgEPG component\n*\n* Copyright (c) 2020-2021 Thomas Geißenhöner <quietcry@gmx.de>\n* Under MIT License (http://www.opensource.org/licenses/mit-license.php)\n*\n*\n*/\nimport { channelProgListBasis } from './channelProgList.basis.js';\nimport { tgEpgProgListDefaults } from \"../../defaults_Proglist.js\";\n\nimport './tgEpg.tooltipp.js';\n\n\nexport class tgEpgProgList extends channelProgListBasis\n\t{\n\tconstructor(mode=\"open\", props={})\n\t\t{\n\t\tsuper(mode, new tgEpgProgListDefaults());\n\t\tvar that=this;\n\t\t// default Parameter nach Props einlesen\n\t\tthis[\"PROPS\"]=this._extender\n\t\t\t(\n\t\t\t\t{},\n\t\t\t\tthis[\"PROPS\"]||{},\n\t\t\t\t{\n\t\t\t\tdefault:\t{\n\t\t\t\t\t\t\tmsg:\t{\n\t\t\t\t\t\t\t\t\tlog:true,\n\t\t\t\t\t\t\t\t\tdebug:true,\n\t\t\t\t\t\t\t\t\terror:true\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tskale:0,\n\t\t\t\t\t\t\tfirstStart:0,\n\t\t\t\t\t\t\tlastEnd:0,\n\t\t\t\t\t\t\ttimePosition:0,\n\t\t\t\t\t\t\tepgEnd:100\n\t\t\t\t\t\t\t},\n\t\t\t\tattr:\t\tthis._extender({},tgEpgProgList.properties)\n\t\t\t\t}\n\t\t\t)\n\t\tthis[\"PROPS\"][\"run\"]=this._extender\t(\tthis[\"PROPS\"][\"default\"]||{},\n\t\t\t\t\tthis[\"PROPS\"][\"run\"]||{},\n\t\t\t\t\tprops\n\t\t\t\t)\n\t\t// Props durch im Storage gespeichertes erweitern/anpassen\n\t\tthis[\"_drawStart\"]=null;\n\t\t//this.PROPS.set = this._extender({}, (this.PROPS.defaults || {}), (this.PROPS.set || {}), (this._readOptions(this.PROPS.defaults._storageKey) || {}));\n\n\t\t//this._debug(\"constructor - Parameters\", \"props:\",this[\"PROPS\"]);\n\n\t\t// data handler init\n\t\tthis.epgData={};\n\n\n\n\n\t\t//this.me=new tgEpgHelper(false);\n\n\t\tthis.app = this.shadowRoot.querySelector('[name=\"app\"]');\n\t\t// this.buttonCell = this.shadowRoot.querySelector('[name=\"buttonCell\"]');\n\n\t\t// this.channelBox = this.shadowRoot.querySelector('[name=\"channelBox\"]');\n\t\t// this.programBox = this.shadowRoot.querySelector('[name=\"programBox\"]');\n\t\t// this.timeBar = this.shadowRoot.querySelector('[name=\"timeBar\"]');\n\t\t// this.timeRow = this.shadowRoot.querySelector('[name=\"timeRow\"]');\n\t\tthis.timeMarker = that.shadowRoot.querySelector('[name=\"timemarker\"]');\n\t\t// this.superButton = that.shadowRoot.querySelector('#superbutton');\n\t\t// this.floatingMenu = that.shadowRoot.querySelector('[name=\"app\"]>tg-floatingMenu');\n\n\n\n\n/*\n\t\tlet body=document.querySelector(\"body\");\n\t\t\t\t\t\t\t\t\t\t\t\t\t`<div name=\"EpgInfoBox\" class=\"hide\"></div>`\n\t\tthis.EpgInfoBox = this.shadowRoot.querySelector('[name=\"EpgInfoBox\"]');\n\n */\n\n\n\t\t// this._writeOptions(this.PROPS.defaults._storageKey, this.PROPS.set);\n\t\t//this._debug(\"JSON\", this.readOptions(this.PROPS.defaults._storageKey))\n\t\t//this.PROPS.run.topElements = [this.app, this.icon];\n\n\t\t//this._log(\"construction ended\", \"props:\",this.PROPS, \"me:\", this);\n\t\t//this._debug(\"constructor - constructed\");\n\n\t\t}\n\n\t//######################################################################################################################################\n\t//renderChannelLine()\n\t//fügt einen Channel in die Liste\n\t//\n\t//######################################################################################################################################\n\trenderChannelLine(channel)\n\t\t{\n\t\tvar that=this\n\t\tvar id=\"progline_\"\n\t\tvar row=null\n\t\t//console.debug(\"man\", channel)\n\t\tif (this.isValidChannel(channel, {data:\"hash\", id:\"string\"}) )\n\t\t\t{\n\t\t\t//console.debug(\"man valid\", channel)\n\t\n\t\t\tid=`${id}${channel.id}`\n\t\t\trow=this.app.querySelector(`[id=\"${id}\"]`)\n\t\t\tif (! row )\n\t\t\t\t{\n\t\t\t\tif (Object.keys(channel.data).length == 0)\n\t\t\t\t\t{\n\t\t\t\t\treturn\t\n\t\t\t\t\t}\t\n\t\t//\t\tconsole.log(\"renderChannelLine\", channel.data)\t\n\t\t\t\trow =this._htmlToElement(\t`<div class=\"TabRow\" id=\"${id}\" >\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"TabCell\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"Tab\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div name=\"container\" class=\"TabRow\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tgepg-progitem class=\"TabCell\" span=\"0\" name=\"startplaceholder\">ol8izu\t\t</tgepg-progitem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tgepg-progitem class=\"TabCell\" span=\"0\" name=\"endplaceholder\">dafgfd\t\t</tgepg-progitem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t`)\n\t\t\t\tthis.app.appendChild(row);\n\t\t\t\t}\n\n\t\t\trow=row.querySelector('[name=\"container\"]')\n\t\t\tif (!row) return\n// //console.debug(row)\n//console.log(\"renderChannelLine xx\", channel.data)\t\n\n\t\t\tvar firstitem= row.querySelector(`[name=\"startplaceholder\"]`)\n\t\t\tvar lasttitem= row.querySelector(`[name=\"endplaceholder\"]`)\n\t\t\tif (channel.preSpan && firstitem)\n\t\t\t\t{\n\t\t\t\tfirstitem.setAttribute(\"span\", channel.preSpan)\n\t\t\t\t}\n\t\t\tif (channel.postSpan && lasttitem)\n\t\t\t\t{\n\t\t\t\tlasttitem.setAttribute(\"span\", channel.postSpan)\n\t\t\t\t}\n\n\t\t\tif (channel.todolist)\n\t\t\t\t{\n\t\t\t\tlet keys=Object.keys(channel.todolist)\n\t\t\t\tconsole.debug(\"proglist todo\", keys)\t\n\t\t\t\tfor (let key of keys)\n\t\t\t\t\t{\n\t\t\t\t\tif (key.startsWith(\"d\"))\n\t\t\t\t\t\t{\n\t\t\t\t\t\tfor ( let index of channel.todolist[key])\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet elem=row.querySelector(`[id=\"${index}\"]`)\n\t\t\t\t\t\t\tif (elem) elem.remove()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\tfor (let key of keys)\n\t\t\t\t\t{\n\t\t\t\t\tif (key.startsWith(\"r\"))\n\t\t\t\t\t\t{\n\t\t\t\t\t\tfor ( let index of channel.todolist[key])\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet elem=row.querySelector(`[id=\"${index}\"]`)\n\t\t\t\t\t\t\tif (elem && channel.data[index]) elem.replaceWith(this._htmlToElement(channel.data[index].html))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\tfor (let key of keys)\n\t\t\t\t\t{\n\t\t\t\t\tif (key.startsWith(\"a\"))\n\t\t\t\t\t\t{\n\t\t\t\t\t\tfor ( let index of channel.todolist[key])\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet elem=row.querySelector(`[id=\"${index}\"]`)\n\t\t\t\t\t\t\tif (!elem && lasttitem) lasttitem.insertAdjacentElement(\"beforebegin\", this._htmlToElement(channel.data[index].html))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\tfor (let key of keys)\n\t\t\t\t\t{\n\t\t\t\t\tif (key.startsWith(\"m\"))\n\t\t\t\t\t\t{\n\t\t\t\t\t\tconsole.debug(\"proglist manage channel\", channel)\n\t\t\t\t\t\tlet elem=row.querySelector(`[name=\"startplaceholder\"]`)\n\t\t\t\t\t\tif (channel.preSpan && elem)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\telem.setAttribute('span', channel.preSpan);\n\t\n\t\t\t\t\t\t\t//console.debug(\"manage startplaceholder\", elem)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\telem=row.querySelector(`[name=\"endplaceholder\"]`)\n\t\t\t\t\t\tif (channel.postSpan && elem)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\telem.setAttribute('span', channel.postSpan);\n\t\n\t\t\t\t\t\t\t//console.debug(\"manage endplaceholder\", elem)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t//######################################################################################################################################\n\t//init()\n\t//prüft die Umgebung und passt Parameter entsprechend an\n\t//\n\t//######################################################################################################################################\n\taddLine(id, rawFilter=[], item={}, that, html=\"\", shown=true)\n\t\t{\n\t\t////console.debug(\"addline\", html)\n\t\tvar that=this\n\t\tid=\"progline_\"+id\n\t\tvar filter=rawFilter.join(\",\")\n\t\tvar row =this.app.querySelector(`#${id}`)\n\t\tif (! row)\n\t\t\t{\n\t\t\trow=this.htmlToElement(\t`<div class=\"TabRow\" filter=\"${filter}\" id=\"${id}\" >\n\t\t\t\t\t\t\t\t\t\t<div class=\"TabCell\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"Tab\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div name=\"container\" class=\"TabRow\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tgepg-progitem class=\"TabCell\" span=\"0\" name=\"startplaceholder\"><tgepg-progitem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tgepg-progitem class=\"TabCell\" span=\"0\" name=\"endplaceholder\"><tgepg-progitem>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t`)\n\t\t\tthis.app.appendChild(row);\n\t\t\t}\n\t\tif (!shown) row.classList.add(\"hide\")\n\t\trow=row.querySelector('[name=\"container\"]')\n\n\t\tvar cells=row.querySelectorAll('tgepg-progitem:not([usedfor])')\n\t\tif (cells.length === 0)\n\t\t\t{\n\t\t\trow.innerHTML=html\n\t\t\t}\n\t\telse\n\t\t\t{\n\t\t\tvar newCells=[]\n\t\t\tvar cell=cells[cells.length-1]\n\t\t\tcell.setAttribute(\"span\",cell.getAttribute(\"duration\"))\n\t\t\tthis.htmlToElements(html).forEach(element => { if (that.getType(element, \"nodeElement\")) newCells.push(element) });\n\t\t\tnewCells.forEach(newCell =>\n\t\t\t\t{\n\t\t\t\tvar start=parseInt(cell.getAttribute(\"start\"))\n\t\t\t\tvar end=parseInt(cell.getAttribute(\"end\"))\n\t\t\t\tvar newstart=parseInt(newCell.getAttribute(\"start\"))\n\t\t\t\tvar newend=parseInt(newCell.getAttribute(\"end\"))\n\t\t\t\tvar span=newstart-end\n\t\t\t\tif ( span === 0 )\n\t\t\t\t\t{\n\t\t\t\t\tcell.after(newCell)\n\t\t\t\t\tcell=newCell\n\t\t\t\t\t}\n\t\t\t\telse if ( span > 0 )\n\t\t\t\t\t{\n\t\t\t\t\tcell.after(this.htmlToElement(`\n\t\t\t\t\t<tg-epg-progitem class=\"TabCell\"\n\t\t\t\t\tspan=\"${span}\"\n\t\t\t\t\tstart=\"${end}\"\n\t\t\t\t\tend=\"${newstart}\"\n\t\t\t\t\tchannelid=\"${id}\"\n\t\t\t\t\tid=\"${id}_${end}\"\n\t\t\t\t\t\t></tg-epg-progitem>`\n\t\t\t\t\t), newCell)\n\t\t\t\t\tcell=newCell\n\t\t\t\t\t}\n\t\t\t\telse if (( span < 0) && (newend <= end))\n\t\t\t\t\t{\n\n\t\t\t\t\t}\n\t\t\t\telse if (( span < 0) && (newend > end))\n\t\t\t\t\t{\n\t\t\t\t\tcell.setAttribute(\"span\", newstart-start)\n\t\t\t\t\tcell=newCell\n\t\t\t\t\t}\n\n\t\t\t\t})\n\t\t\t}\n\t\tcells=row.querySelectorAll('tg-epg-progitem:not([usedfor]):not([status])')\n\t\tcells.forEach(cell =>\n\t\t\t{\n\t\t\tthat.transferPROPS(that, cell)\n\t\t\t})\n\n\n\n\t\treturn\n\t\t}\n\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\ttemplate()\n\t\t{\n\t\tlet tmp = tgEpgProgListDefaults.template;\n\n\t\treturn tmp;\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t// properties()\n\t// collect name-value pairs to use as observed Atrributes and the corresponding this->PROPS->paras\n\t//\n\t//######################################################################################################################################\n\tstatic get properties()\n\t\t{\n\t\tlet props=\ttgEpgProgListDefaults.properties || {};\n\t\tlet superProps=super.properties||{};\n\t\tprops=Object.assign(superProps,props);\n\t\treturn props;\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tstatic get observedAttributes()\n\t \t{\n\t\tlet props=tgEpgProgList.properties;\n\t\tprops=Object.keys(props);\n\t\treturn  props;\n  \t \t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tconnectedCallback ()\n\t\t{\n\t\tvar that=this;\n\t\tif (this.PROPS.run.connected == 0)\n\t\t \t{\n\t\t \tthis.connected();\n\t\t \t}\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tattributeChangedCallback(attrName, oldVal, newVal)\n\t\t{\n\t\tif ( (! newVal) || (! this.PROPS.paras.hasOwnProperty(attrName)) || (this.PROPS.paras[attrName]===newVal)) return;\n\t\toldVal=oldVal || this.PROPS.paras[attrName];\n\t\tif (typeof super.attributeChangedCallback == \"function\")\n\t\t\t{\n\t\t\tsuper.attributeChangedCallback(attrName, newVal, oldVal );\n\t\t\t}\n\t\t//this._debug(\"change Attribute \"+attrName, \"from\", oldVal, \"to\" , newVal);\n\t\tthis.PROPS.paras[attrName]=newVal;\n\t\tswitch (attrName)\n\t\t\t{\n\t\t\tcase \"timerowheight\":\n\t\t\t\t//this.timeRow.style.height=parseInt(newVal)+\"px\";\n\t\t\t\tbreak;\n\t\t\tcase \"channelfilter\":\n\t\t\t\tthis.setFilter(newVal)\n\t\t\t\tbreak;\n\t\t\tcase \"data\":\n\t\t\t\tthis.PROPS.paras[\"dataref\"]=newVal;\n\t\t\t\tthis.dataHandler.getData(newVal);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t//######################################################################################################################################\n\t//setter & getter\n\t//\n\t//\n\t//######################################################################################################################################\n\tget design_timeFrameStart()\n\t\t{\n\t\t////console.debug(\"render Appp getter\", this.PROPS.run)\n\t\treturn this.PROPS.run.timeFrameStart||null;\n\t\t}\n\tset design_timeFrameStart(val)\n\t\t{\n\t\t// if (this.PROPS.run.timeFrameStart != val)\n\t\t// \t{\n\t\t// \tthis.PROPS.run[\"timeFrameStart\"]=val;\n\t\t// \t}\n\t\t}\n\tget design_timeFrameEnd()\n\t\t{\n\t\treturn this.PROPS.run.timeFrameEnd||null;\n\t\t}\n\tset design_timeFrameEnd(val)\n\t\t{\n\t\t// if (this.PROPS.run.timeFrameEnd != val)\n\t\t// \t{\n\t\t// \tthis.PROPS.run[\"timeFrameEnd\"]=val;\n\t\t// \t}\n\t\t}\n\tget design_SpanTime()\n\t\t{\n\t\treturn this.PROPS.run.SpanTime||null;\n\t\t}\n\tset design_SpanTime(val)\n\t\t{\n\t\tif (this.PROPS.run.SpanTime != val)\n\t\t\t{\n\t\t\tthis.PROPS.run[\"SpanTime\"]=val;\n\t\t\t}\n\t\t}\n\tget design_SpanTimeAll()\n\t\t{\n\t\treturn this.PROPS.run.SpanTimeAll||null;\n\t\t}\n\tset design_SpanTimeAll(val)\n\t\t{\n\t\tif (this.PROPS.run.SpanTimeAll != val)\n\t\t\t{\n\t\t\tthis.PROPS.run[\"SpanTimeAll\"]=val;\n\t\t\t}\n\t\t}\n\tget design_PastOffsetTime()\n\t\t{\n\t\treturn this.PROPS.run.PastOffsetTime||null;\n\t\t}\n\tset design_PastOffsetTime(val)\n\t\t{\n\t\tif (this.PROPS.run.PastOffsetTime != val)\n\t\t\t{\n\t\t\tthis.PROPS.run[\"PastOffsetTime\"]=val;\n\t\t\t}\n\t\t}\n\tget now()\n\t\t{\n\t\treturn this.PROPS.run.now||null;\n\t\t}\n\tset now(val)\n\t\t{\n\t\tif (this.PROPS.run.now != val)\n\t\t\t{\n\t\t\tthis.PROPS.run[\"now\"]=val;\n\t\t\t}\n\t\t}\n\tget supermaster()\n\t\t{\n\t\treturn this.PROPS.run.supermaster;\n\t\t}\n\tset supermaster(val)\n\t\t{\n\t\tthis.PROPS.run[\"supermaster\"]=val;\n\t\t}\n\n//##################################################################\n\n\t// get epgPastSpanHours()\n\t// \t{\n\t// \treturn this.PROPS.run.epgPastSpanHours||null;\n\t// \t}\n\t// set epgPastSpanHours(val)\n\t// \t{\n\t// \tif (this.PROPS.run.epgPastSpanHours != val)\n\t// \t\t{\n\t// \t\tthis.PROPS.run[\"epgPastSpanHours\"]=val;\n\t// \t\t}\n\t// \t}\n\n\t// get epgFutureSpanHoursAll()\n\t// \t{\n\t// \treturn this.PROPS.run.epgFutureSpanHoursAll||null;\n\t// \t}\n\t// set epgFutureSpanHoursAll(val)\n\t// \t{\n\t// \tif (this.PROPS.run.epgFutureSpanHoursAll != val)\n\t// \t\t{\n\t// \t\tthis.PROPS.run[\"epgFutureSpanHoursAll\"]=val;\n\t// \t\t}\n\t// \t}\n\t// get scale()\n\t// \t{\n\t// \treturn this.PROPS.run.scale||null;\n\t// \t}\n\t// set scale(val)\n\t// \t{\n\t// \tif (this.PROPS.run.scale != val)\n\t// \t\t{\n\t// \t\tthis.PROPS.run[\"scale\"]=val;\n\t// \t\t}\n\t// \t}\n\n\n\n\trender()\n\t\t{\n\t\tvar that=this\n\t\tlet selector='.TabRow[filter] [name=\"container\"]';\n\t\tvar rows=this.app.querySelectorAll(`${selector}`)\n\t\tconst styles=getComputedStyle(this)\n\t\tthis.PROPS.run[\"scale\"]=parseFloat(styles.getPropertyValue('--scale'))||0\n\n\t\trows.forEach(function(row)\n\t\t\t{\n\t\t\tvar cells=row.querySelectorAll('tg-epg-progitem[usedfor=\"emptyStartCell\"],tg-epg-progitem[usedfor=\"emptyEndCell\"]')\n\t\t\tcells.forEach(function(cell)\n\t\t\t\t{\n\t\t\t\tcell.remove()\n\t\t\t\t})\n\t\t\t})\n\t\tselector=`${selector} > tg-epg-progitem`\n\t\tthis.PROPS.run[\"timeFrameStart\"]=getMinMaxTime\t(\"min\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.PROPS.run.now -this.PROPS.run.epgPastSpanHours*3600,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t`${selector}:first-of-type`\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\tthis.PROPS.run[\"timeFrameEnd\"]\t=getMinMaxTime\t(\"max\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.PROPS.run.now + (this.PROPS.run.epgFutureSpanHours+this.PROPS.run.epgFutureSpanHoursAll)*3600,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t`${selector}:last-of-type`\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\trows.forEach(function(row)\n\t\t\t{\n\t\t\tvar firstCell=row.querySelector('tg-epg-progitem:not([usedfor]):first-of-type')\n\t\t\twhile ((firstCell) && (parseInt(firstCell.getAttribute(\"end\")) < that.PROPS.run.timeFrameStart))\n\t\t\t\t{\n\t\t\t\tfirstCell.remove()\n\t\t\t\tfirstCell=row.querySelector('tg-epg-progitem:not([usedfor]):first-of-type')\n\t\t\t\t}\n\n\t\t\tvar lastCell=row.querySelector('tg-epg-progitem:not([usedfor]):last-of-type')\n\t\t\twhile ((lastCell) && (parseInt(lastCell.getAttribute(\"start\")) > that.PROPS.run.timeFrameEnd))\n\t\t\t\t{\n\t\t\t\tlastCell.remove()\n\t\t\t\tlastCell=row.querySelector('tg-epg-progitem:not([usedfor]):last-of-type')\n\t\t\t\t}\n\t\t\tfirstCell=row.querySelector('tg-epg-progitem:not([usedfor]):first-of-type')\n\t\t\tlastCell=row.querySelector('tg-epg-progitem:not([usedfor]):last-of-type')\n\t\t\tif (firstCell)\n\t\t\t\t{\n\t\t\t\tfirstCell.setAttribute(\"span\", parseInt(firstCell.getAttribute(\"duration\")) )\n\t\t\t\tlastCell.setAttribute(\"span\", parseInt(lastCell.getAttribute(\"duration\")) )\n\n\t\t\t\tlet x=parseInt(firstCell.getAttribute(\"start\"))\n\t\t\t\tlet y=that.PROPS.run.timeFrameStart-x\n\t\t\t\tif (y>=0)\n\t\t\t\t\t{\n\t\t\t\t\tfirstCell.setAttribute(\"span\", parseInt(firstCell.getAttribute(\"span\")-y) )\n\t\t\t\t\ty=0\n\t\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\ty=-1*y\n\t\t\t\t\t}\n\t\t\t\trow.prepend(that.htmlToElement\t(\n\t\t\t\t\t`\n\t\t\t\t\t<tg-epg-progitem usedfor=\"emptyStartCell\" class=\"usedfor\" span=\"${y}\">\n\t\t\t\t\t</tg-epg-progitem>\n\t\t\t\t\t`))\n\t\t\t\tx=parseInt(lastCell.getAttribute(\"end\"))\n\t\t\t\ty=x-that.PROPS.run.timeFrameEnd\n\t\t\t\tif (y>=0)\n\t\t\t\t\t{\n\t\t\t\t\tlastCell.setAttribute(\"span\", parseInt(firstCell.getAttribute(\"span\")-y) )\n\t\t\t\t\ty=0\n\t\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\ty=-1*y\n\t\t\t\t\t}\n\t\t\t// \t////console.debug(\"proglistrender\", y, new Date(that.PROPS.run.timeFrameStart*1000), new Date(that.PROPS.run.timeFrameEnd*1000))\n\n\t\t\t\trow.append(that.htmlToElement\t(\n\t\t\t\t\t`\n\t\t\t\t\t<tg-epg-progitem usedfor=\"emptyEndCell\"  class=\"usedfor\" span=\"${y}\">\n\t\t\t\t\t</tg-epg-progitem>\n\t\t\t\t\t`\n\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t})\n\t\tthis.initTimemarker()\n\n\t\tfunction getMinMaxTime(minOrMax=\"min\", border, selector)\n\t\t\t{\n\t\t\tvar cells=that.app.querySelectorAll(selector)\n\t\t\t// //console.debug(\"proglistrenderxxx\", that.app, minOrMax, cells.length)\n\n\t\t\tvar pos=null\n\t\t\tcells.forEach(function(cell)\n\t\t\t\t{\n\t\t\t\tif (minOrMax === \"min\")\n\t\t\t\t\t{\n\t\t\t\t\tlet x=parseInt(cell.getAttribute(\"start\"))\n\t\t\t\t\tpos=( (pos === null) || (pos > x))?x:pos\n\t\t\t\t\tpos=(pos<border)?border:pos\n\t\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\tlet x=parseInt(cell.getAttribute(\"end\"))\n\t\t\t\t\tpos=( (pos === null) || (pos < x))?x:pos\n\t\t\t\t\tpos=(pos > border)?border:pos\n\t\t\t\t\t// //console.debug(\"proglistrenderx\", new Date(border*1000), new Date(pos*1000))\n\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\treturn Math.round(new Date(((pos === null)?border:pos)*1000).floorHours().getTime()/1000)\n\t\t\t}\n\n\t\t}\n\taddEmptyCellsOnStartAndEnd(row, start, end)\n\t\t{\n\t\tvar sCell=row.querySelector('tg-epg-progitem[usedfor=\"emptyStartCell\"]')\n\t\tif (! sCell)\n\t\t\t{\n\t\t\tsCell=this.htmlToElement\t(\n\t\t\t\t\t\t\t\t\t`\n\t\t\t\t\t\t\t\t\t<tg-epg-progitem usedfor=\"emptyStartCell\">\n\t\t\t\t\t\t\t\t\t</tg-epg-progitem>\n\t\t\t\t\t\t\t\t\t`\n\t\t\t\t\t\t\t\t\t)\n\t\t\trow.prepend(sCell)\n\t\t\t}\n\t\tvar eCell=row.querySelector('tg-epg-progitem[usedfor=\"emptyEndCell\"]')\n\t\tif (! eCell)\n\t\t\t{\n\t\t\teCell=this.htmlToElement\t(\n\t\t\t\t\t\t\t\t\t`\n\t\t\t\t\t\t\t\t\t<tg-epg-progitem usedfor=\"emptyEndCell\">\n\t\t\t\t\t\t\t\t\t</tg-epg-progitem>\n\t\t\t\t\t\t\t\t\t`\n\t\t\t\t\t\t\t\t\t)\n\t\t\trow.append(eCell)\n\t\t\t}\n\t\tvar brother =sCell.nextElementSibling\n\t\tif (brother)\n\t\t\t{\n\t\t\tlet nextStart=parseInt(brother.getAttribute(\"start\") || end)\n\t\t\tlet duration=nextStart-start\n\t\t\tsCell.setAttribute(\"duration\", duration)\n\t\t\tsCell.setAttribute(\"start\", start)\n\t\t\tsCell.setAttribute(\"end\", nextStart)\n\t\t\t}\n\t\t//console.debug(\"addEmptyCellsOnStartAndEnd\", start, end, row,\"\\n\", sCell,\"\\n\", brother)\n\n\t\tvar brother =eCell.previousElementSibling\n\t\tif (brother)\n\t\t\t{\n\t\t\tlet beforeEnd=parseInt(brother.getAttribute(\"end\") || end)\n\t\t\tlet duration=end - beforeEnd\n\t\t\teCell.setAttribute(\"duration\", duration)\n\t\t\teCell.setAttribute(\"start\", start)\n\t\t\teCell.setAttribute(\"end\", beforeEnd)\n\t\t\t}\n\t\t//console.debug(\"addEmptyCellsOnStartAndEnd\",\"\\n\", brother)\n\n\t\t// \tlet duration=parseInt(item.nextSibling.getAttribute(\"start\"))-start\n\n\n\n\t\t// var items=this.shadowRoot.querySelectorAll('tg-epg-progitem[usedfor=\"emptyStartCell\"]:not([duration])');\n\t\t// items.forEach((item) =>\n\t\t// \t{\n\t\t// \tlet duration=parseInt(item.nextSibling.getAttribute(\"start\"))-start\n\t\t// \titem.setAttribute(\"duration\", duration)\n\t\t//   \t});\n\t\t// items=this.shadowRoot.querySelectorAll('tg-epg-progitem');\n\t\t// items.forEach((item) =>\n\t\t// \t{\n\t\t// \titem.supermaster=this._supermaster\n\t\t// \t});\n\t\t// this.drawStart=start\n\t\t}\n\n\tinitTimemarker()\n\t\t{\n\t\tvar that=this\n\t\tif  ( ( ! this.timeMarker) || ( ! this.PROPS.run.scale) || ( ! this.PROPS.run.timeFrameStart) )\n\t\t\t{\n\t\t\treturn\n\t\t\t}\n\t\tvar now=new Date()\n\t\tnow=now.getTime()/1000;\n\t\tvar width=parseFloat(that.timeMarker.offsetWidth)\n\t\tvar halberTimeMarker =  width / 2;\n\t\tlet pos=(now - this.PROPS.run.timeFrameStart )*that.PROPS.run.scale -halberTimeMarker;\n\t\tthat.timeMarker.style.left=pos+\"px\";\n\t\tthat.timeMarker.style.width=width+\"px\";\n\t\tif ((! this.timeMarker.hasAttribute(\"hasTimer\")) || (parseInt(this.timeMarker.getAttribute(\"hasTimer\")) !== 1) )\n\t\t\t{\n\t\t\tthat.setAttribute(\"hasTimer\", \"1\");\n\t\t\tthat.PROPS.run[\"TimeMarkerHandler\"]=setInterval(function ()\n\t\t\t\t{\n\t\t\t\tthat.initTimemarker()\n\t\t\t\t}, 5000);\n\t\t\t}\n\t\tthis.addEventListener(\"scroll\", function(ev){this.timeMarker.style.top=this.scrollTop+\"px\"})\n\t\t}\n\t//#########################################################################################################\n\t//## refreshAppSizeAfterResizeOrInit()\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\tresize(scale)\n\t\t{\n\t\tvar oldScale=parseFloat(this.PROPS.run.scale)\n\t\tvar oldScroll=parseFloat(this.scrollLeft)\n\t\tvar timeOffset=oldScroll/oldScale\n\t\tthis.PROPS.run.scale=scale\n\t\tif \t(this.PROPS.run.scale !== oldScale)\n\t\t\t{\n\t\t\tvar progItems=this.shadowRoot.querySelectorAll(\"tg-epg-progitem\")\n\t\t\tprogItems.forEach(item =>\n\t\t\t\t{\n\t\t\t\titem.setAttribute(\"scale\", this.PROPS.run.scale)\n\t\t\t\t})\n\t\t\tthis.scrollLeft=timeOffset*scale\n\t\t\tthis.initTimemarker()\n\t\t\t}\n\t\t}\n\n\t//#########################################################################################################\n\t//##\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\n\t//############################################################################################################################################\n\t//############################################################################################################################################\n\t}\n\nwindow.customElements.define('tgepg-proglist', tgEpgProgList);\n","import { tgEpgDefaultsCommon }  from \"./defaults_Common.js\"\n\nexport class tgEpgProgListDefaults extends tgEpgDefaultsCommon\n\t{\n\tconstructor(that)\n\t\t{\n\t\tsuper(\"open\", that);\n\t\tthis[\"PROPS\"]=\n\t\t\t\t\t\t{\n\t\t\t\t\t\tdefault: \tthis._extender({}, this[\"PROPS\"].default||{},\n\t\t\t\t\t\t\t\t\t{\n\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t}\n\t\t}\n\tstatic get template()\n\t\t{\n\t\tvar styles=super.styles||\"\";\n\t\t\tstyles=styles+`\n\t\t\t<style>\n\t\t\t:host\n\t\t\t\t{\n\t\t\t\tdisplay:inline-block;\n\t\t\t\tfont-size:12px;\n\t\t\t\toverflow-x:auto;\n\t\t\t\toverflow-y:visible;\n\t\t\t\t/*\n\t\t\t\tposition:absolute;\n\t\t\t\t*/\n\t\t\t\tleft:0px;\n\t\t\t\ttop:0px;\n\t\t\t\tbox-sizing: border-box;\n\n\t\t\t\t}\n\t\t\t:host::-webkit-scrollbar\n\t\t\t\t{\n\t\t\t\tdisplay: none;\n\t\t\t\t-ms-overflow-style: none;\n\t\t\t\tscrollbar-width: none;\n\t\t\t\t}\n\t\t\t[name=\"app\"]\n\t\t\t\t{\n\t\t\t\tbackground-color: gray;\n\t\t\t\tdisplay:inline-block;\n\t\t\t\tposition:relative;\n\t\t\t\t}\n\t\t\t.TabCell > .Tab\n\t\t\t\t{\n\t\t\t\theight:100%;\n\t\t\t\t}\n\t\t\t.TabRow\n\t\t\t\t{\n\t\t\t\theight:100%;\n\t\t\t\t}\n\t\t\t[name=\"app\"] > .TabRow\n\t\t\t\t{\n\t\t\t\tborder-top: 3px solid black;\n\t\t\t\tborder-bottom: 3px solid black;\n\t\t\t\tmin-height: calc( var(--channelRowHeight) * 1 );\n\t\t\t\tmax-height: calc( var(--channelRowHeight) * 1 );\n\t\t\t\theight: calc( var(--channelRowHeight) * 1 );\n\n\t\t\t\t}\n\t\t\t[name=\"app\"] > .TabRow > .TabCell\n\t\t\t\t{\n\t\t\t\theight: 100%;\n\t\t\t\t}\n\t\t\t[name=\"app\"] > .TabRow:nth-child(even)\n\t\t\t\t{\n\t\t\t\tbackground-color: green;\n\t\t\t\tcolor: red;\n\t\t\t\t}\n\t\t\t[name=\"app\"] > .TabRow:nth-child(even) > .TabCell > .Tab > .TabRow > .TabCell:nth-child(even)\n\t\t\t\t{\n\t\t\t\tbackground-color: white;\n\t\t\t\tcolor: black;\n\t\t\t\t}\n\t\t\t[name=\"app\"] > .TabRow:nth-child(even) > .TabCell > .Tab > .TabRow > .TabCell:nth-child(odd)\n\t\t\t\t{\n\t\t\t\tbackground-color: black;\n\t\t\t\tcolor: white;\n\t\t\t\t}\n\t\t\t[name=\"app\"] > .TabRow:nth-child(odd)\n\t\t\t\t{\n\t\t\t\tbackground-color: brown;\n\t\t\t\tcolor: yellow;\n\t\t\t\t}\n\t\t\t[name=\"app\"] > .TabRow:nth-child(odd) > .TabCell > .Tab > .TabRow > .TabCell:nth-child(even)\n\t\t\t\t{\n\t\t\t\tbackground-color: darkgray;\n\t\t\t\tcolor: black;\n\t\t\t\t}\n\t\t\t[name=\"app\"] > .TabRow:nth-child(odd) > .TabCell > .Tab > .TabRow > .TabCell:nth-child(odd)\n\t\t\t\t{\n\t\t\t\tbackground-color: lightgray;\n\t\t\t\tcolor: black;\n\t\t\t\t}\n\n\t\t\t[name=\"timemarker\"]\n\t\t\t\t{\n\t\t\t\tposition:absolute;\n\t\t\t\twidth:2px;\n\t\t\t\tbackground-color: red;\n\t\t\t\tz-index: 2000;\n\t\t\t\ttop: 0px;\n\t\t\t\theight: 100%\n\t\t\t\t}\n\t\t\t[genre=\"10\"]\n\t\t\t\t{\n\t\t\t\tbackground-color:green !important;\n\t\t\t\t}\n\t\t\t[genre=\"11\"]\n\t\t\t\t{\n\t\t\t\tbackground-color:blue !important;\n\t\t\t\t}\n\t\t\t[genre=\"12\"]\n\t\t\t\t{\n\t\t\t\tbackground-color:red !important;\n\t\t\t\t}\n\t\t\t[genre=\"13\"]\n\t\t\t\t{\n\t\t\t\tbackground-color:yellow !important;\n\t\t\t\t}\n\t\t\t[genre=\"14\"]\n\t\t\t\t{\n\t\t\t\tbackground-color:brown !important;\n\t\t\t\t}\n\t\t\ttg-epg-progitem\n\t\t\t\t{\n\t\t\t\t--progItemScale: var(--channelLineScale):\n\t\t\t\t}\n\t\t\t.tgEpgTooltip\n\t\t\t\t{\n\t\t\t\tposition: absolute;\n\t\t\t\t}\n\n\n\t\t\t</style>\n\n\t\t\t`;\n\t\t\tvar tmp=styles+`\n\t\t\t<!-- App -->\n\t\t\t<div name=\"timemarker\" class=\"hide\"></div>\n\t\t\t<div class=\"tgEpgTooltip hide\" data-id=\"-\"></div>\n\t\t\t<div name=\"app\" class=\"Tab\">\n\n\t\t\t\t</div>\n\t\t\t<!-- App Ende-->\n\t\t\t\t`;\n\t\t\treturn\ttmp;\n\t\t}\n\tstatic get properties()\n\t\t{\n\t\tvar props=super.properties||{};\n\t\tprops[\"dataref\"]=null;\n\t\tprops[\"timerowheight\"]=\"50\";\n\t\tprops[\"channelrowheight\"]=\"50\";\n\t\tprops[\"channelcolumnwidth\"]=\"150\";\n\n\t\treturn props;\n\t\t}\n\n\t}\n","/*\n* tgEPG component\n*\n* Copyright (c) 2020-2021 Thomas Geißenhöner <quietcry@gmx.de>\n* Under MIT License (http://www.opensource.org/licenses/mit-license.php)\n*\n*\n*/\n\nimport { tgControls } from '../tgControls.js';\n\nexport class tgEpgTooltipp extends tgControls\n\t{\n\tconstructor(properties)\n\t\t{\n\t\tsuper(\"open\");\n\t\tvar that=this;\n\t\t// default Parameter nach Props einlesen\n\t\t//this.tgEpgDefaults=new tgEpgAppDefaults(this);\n\t\t// this[\"PROPS\"]=this._extender( (this[\"PROPS\"] || {}),\n\t\t// \t\t\t\t{\n\t\t// \t\t\t\tdefaults:this.tgEpgDefaults.loadDefaults(),\n\t\t// \t\t\t\trun:this.tgEpgDefaults.loadRun(),\n\t\t// \t\t\t\tset:this.tgEpgDefaults.loadSet()\n\t\t// \t\t\t\t});\n\t\t// Props durch hartcodierte Werte erweitern/anpassen\n\t\tthis[\"PROPS\"]=this._extender( (this[\"PROPS\"] || {}),\n\t\t\t\t\t\t{\n\t\t\t\t\t\trun:\t{\n\t\t\t\t\t\t\t\tmsg:\t{\n\t\t\t\t\t\t\t\t\t\tlog:true,\n\t\t\t\t\t\t\t\t\t\tdebug:true,\n\t\t\t\t\t\t\t\t\t\terror:true\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\tdefault:{connected:0},\n\t\t\t\t\t\tparas:this._extender({})\n\t\t\t\t\t\t});\n\t\t// Props durch im Storage gespeichertes erweitern/anpassen\n\t\t// this.PROPS.set = this._extender({}, (this.PROPS.defaults || {}), (this.PROPS.set || {}), (this._readOptions(this.PROPS.defaults._storageKey) || {}));\n\n\t\t//this._debug(\"constructor - Parameters\", \"props:\",this[\"PROPS\"]);\n\n\n\n\n\t\tthis._containerWidth=null;\n\t\tthis._supermaster=null;\n\t\tthis.supressScrollEvent=0;\n\t\tthis._scrollWidth=0;\n\t\tthis._direction=null;\n\t\tthis.container = this.shadowRoot.querySelector('[name=\"container\"]');\n\n\n\n/*\n\t\tlet body=document.querySelector(\"body\");\n\t\t\t\t\t\t\t\t\t\t\t\t\t`<div name=\"EpgInfoBox\" class=\"hide\"></div>`\n\t\tthis.EpgInfoBox = this.shadowRoot.querySelector('[name=\"EpgInfoBox\"]');\n\n */\n\n\n\t\t//this._writeOptions(this.PROPS.defaults._storageKey, this.PROPS.set);\n\t\t////this._debug(\"JSON\", this.readOptions(this.PROPS.defaults._storageKey))\n\t\t//this.PROPS.run.topElements = [this.app, this.icon];\n\n\t\t//this._log(\"construction ended\", \"props:\",this.PROPS, \"me:\", this);\n\t\t//this._debug(\"constructor - constructed\");\n\n\t\t}\n\n\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\ttemplate()\n\t\t{\n\t\tlet tmp = `\n\t\t\t<style>\n\t\t\t:host\n\t\t\t\t{\n\t\t\t\tposition:absolute;\n\t\t\t\tz-index:2001;\n\t\t\t\tbackground-color:white;\n\t\t\t\tmax-width:40%;\n\t\t\t\tmax-height:50%;\n\t\t\t\tpadding:4px;\n\t\t\t\t}\n\t\t\tdiv\n\t\t\t\t{\n\t\t\t\twhite-space: normal;\n\t\t\t\t}\n\t\t\t.hide\n\t\t\t\t{\n\t\t\t\tdisplay:none;\n\t\t\t\t}\n\t\t\t.nowrap\n\t\t\t\t{\n\t\t\t\tdisplay: inline-block;\n\t\t\t\twhite-space: nowrap;\n\t\t\t\t}\n\t\t\t</style>\n\t\t\t<div>\n\t\t\t\t<slot name=\"subtitleslot\"></slot>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<slot name=\"titleslot\"></slot>\n\t\t\t</div>\n\t\t\t<div class=\"nowrap\">\n\t\t\t\t<slot name=\"dateslot\"></slot><slot name=\"startslot\" class=\"nowrap\"></slot>-<slot name=\"endslot\" class=\"nowrap\"></slot> <slot name=\"durationslot\" class=\"nowrap\"></slot>\n\t\t\t</div>\n\t\t\t`\n\t\treturn tmp;\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t// properties()\n\t// collect name-value pairs to use as observed Atrributes and the corresponding this->PROPS->paras\n\t//\n\t//######################################################################################################################################\n\tstatic get properties()\n\t\t{\n\t\tlet props=\ttgEpgAppDefaults.properties || {};\n\t\tlet superProps=super.properties||{};\n\t\tprops=Object.assign(superProps,props);\n\t\treturn props;\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tstatic get observedAttributes()\n\t \t{\n\t\t// let props=super.observedAttributes||[];\n\t\t// props.push(\"direction\")\n\t\treturn [\"direction\"];\n  \t \t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tconnectedCallback ()\n\t\t{\n\t\tvar that=this;\n\t\tif (this.PROPS.run.connected == 0)\n\t\t \t{\n\t\t \tthis.init();\n\t\t\t// this.refreshAppSizeAfterResizeOrInit();\n\t\t \t// this.buildApp();\n\t\t \tthis.connected();\n\t\t \t}\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tattributeChangedCallback(attrName, oldVal, newVal)\n\t\t{\n\t\tif ( oldVal===newVal) return;\n\t\toldVal=oldVal || this.PROPS.paras[attrName];\n\t\tsuper.attributeChangedCallback(attrName, newVal, oldVal );\n\t\tthis.PROPS.paras[attrName]=newVal;\n\t\tswitch (attrName)\n\t\t\t{\n\t\t\tcase \"direction\":\n\t\t\t\tif ( (newVal == \"horizontal\") || (newVal == \"vertical\"))\n\t\t\t\t\t{\n\t\t\t\t\tthis._direction=newVal\n\t\t\t\t\tthis.init()\n\t\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t//######################################################################################################################################\n\t//init()\n\t//prüft die Umgebung und passt Parameter entsprechend an\n\t//\n\t//######################################################################################################################################\n\tinit()\n\t\t{\n\t\tvar that=this;\n\t\t//var direction=this.getAttribute(\"direction\");\n\t\tif ((this._containerWidth) && (this._direction == \"horizontal\"))\n\t\t\t{\n\t\t\tthis.container.style.width=this._containerWidth+\"px\"\n\t\t\t}\n\t\telse if ((this._containerWidth) && (this._direction == \"vertical\"))\n\t\t\t{\n\t\t\tthis.container.style.height=this._containerWidth+\"px\"\n\t\t\t}\n\t\telse\n\t\t\t{\n\t\t\treturn;\n\t\t\t}\n\t\t\tif ((! this.hasAttribute(\"hasScrollHandler\")) || (parseInt(this.getAttribute(\"hasScrollHandler\")) !== 1) )\n\t\t\t\t{\n\t\t\t\tthis.setAttribute(\"hasScrollHandler\", \"1\");\n\t\t\t\tthis.addEventListener(\"scroll\", function(ev)\n\t\t\t\t\t{\n\t\t\t\t\tif (that.supressScrollEvent !== 1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\tlet offset=(that._direction == \"horizontal\")?that.scrollLeft:that.scrollTop;\n\t\t\t\t\t\tvar ev = new CustomEvent('scrollbar',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdetail:\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t  \t\tdirection: that._direction,\n\t\t\t\t\t\t\t  \t\tscrollwidth: offset,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t  \t\t});\n\t\t\t\t\t\tthis.dispatchEvent(ev);\n\t\t\t\t\t\t}\n\t\t\t\t\tthat.supressScrollEvent = 0\n\n\t\t\t\t\t}, false);\n\t\t\t\t}\n\t\treturn\n\t\t}\n\t//######################################################################################################################################\n\t//scrollIt()\n\t//prüft die Umgebung und passt Parameter entsprechend an\n\t//\n\t//######################################################################################################################################\n\tscrollIt()\n\t\t{\n\t\tvar that=this;\n\t\tvar direction=this.getAttribute(\"direction\");\n\t\tif (this.supressScrollEvent == 1)\n\t\t\t{\n\t\t\tswitch (direction)\n\t\t\t\t{\n\t\t\t\tcase \"horizontal\":\n\t\t\t\t\tthis.scrollLeft =this._scrollWidth\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"vertical\":\n\t\t\t\t\tthis.scrollTop =this._scrollWidth\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\tthis.supressScrollEvent = 0\n\t\treturn\n\t\t}\n\n\t//#########################################################################################################\n\t//##\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\tget supermaster()\n\t\t{\n\t\treturn this._supermaster;\n\t\t}\n\tset supermaster(val)\n\t\t{\n\t\tthis[\"_supermaster\"]=val;\n\t\t}\n\n\tget containerWidth()\n\t\t{\n\t\treturn this._containerWidth;\n\t\t}\n\tset containerWidth(val)\n\t\t{\n\t\tthis._log(\"containerWidth\", val)\n\t\tif (parseFloat(val)\t!== this._containerWidth)\n\t\t\t{\n\t\t\tthis[\"_containerWidth\"]=parseFloat(val)\n\t\t\tthis.init()\n\t\t\t}\n\t\t}\n\tget scrollWidth()\n\t\t{\n\t\treturn this._scrollWidth;\n\t\t}\n\tset scrollWidth(val)\n\t\t{\n\t\tif (parseFloat(val)\t!== this._scrollWidth)\n\t\t\t{\n\t\t\tthis[\"_scrollWidth\"]=parseFloat(val)\n\t\t\tthis.supressScrollEvent=1\n\t\t\tthis.scrollIt()\n\t\t\t}\n\t\t}\n\n\n\t//############################################################################################################################################\n\t//############################################################################################################################################\n\t}\n\nwindow.customElements.define('tgepg-tooltipp', tgEpgTooltipp);\n","/*refr\n* tgEPG component\n*\n* Copyright (c) 2020-2021 Thomas Geißenhöner <quietcry@gmx.de>\n* Under MIT License (http://www.opensource.org/licenses/mit-license.php)\n*\n*\n*/\n\nimport { tgControls } from '../tgControls.js';\nimport { tgEpgProgItemDefaults } from '../../defaults_ProgItem.js';\n\nexport class tgEpgProgItem extends tgControls\n\t{\n\tconstructor(mode=\"open\", props={})\n\t\t{\n\t\tsuper(mode, new tgEpgProgItemDefaults());\n\t\tvar that=this;\n\t\tthis[\"PROPS\"]=this._extender\n\t\t\t(\n\t\t\t\t{paras:{}},\n\t\t\t\tthis[\"PROPS\"]||{},\n\t\t\t\t{\n\t\t\t\tdefault:\t{\n\t\t\t\t\t\t\tmsg:\t{\n\t\t\t\t\t\t\t\t\tlog:true,\n\t\t\t\t\t\t\t\t\tdebug:true,\n\t\t\t\t\t\t\t\t\terror:true\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tskale:0,\n\t\t\t\t\t\t\tfirstStart:0,\n\t\t\t\t\t\t\tlastEnd:0,\n\t\t\t\t\t\t\ttimePosition:0,\n\t\t\t\t\t\t\tepgEnd:100\n\t\t\t\t\t\t\t},\n\t\t\t\tattr:\t\tthis._extender({},tgEpgProgItem.properties)\n\t\t\t\t}\n\t\t\t)\n\t\tthis[\"PROPS\"][\"run\"]=this._extender\t(\tthis[\"PROPS\"][\"default\"]||{},\n\t\t\t\t\tthis[\"PROPS\"][\"run\"]||{},\n\t\t\t\t\tprops\n\t\t\t\t)\n\t\t// Props durch im Storage gespeichertes erweitern/anpassen\n\t\t//this.PROPS.set = this._extender({}, (this.PROPS.defaults || {}), (this.PROPS.set || {}), (this._readOptions(this.PROPS.defaults._storageKey) || {}));\n\n\t\t//this._debug(\"constructor - Parameters\", \"props:\",this[\"PROPS\"]);\n\n\t\t// data handler init\n\t\tthis.epgData={};\n\n\n\n\n\t\t//this.me=new tgEpgHelper(false);\n\n\t\t// this.app = this.shadowRoot.querySelector('[name=\"app\"]');\n\t\t// this.titleslot = this.shadowRoot.querySelector('[name=\"titleslot\"]');\n\t\t// this.revier={l:80,r:0,t:0,b:0}\n\t\t// this.buttonCell = this.shadowRoot.querySelector('[name=\"buttonCell\"]');\n\n\t\t// this.channelBox = this.shadowRoot.querySelector('[name=\"channelBox\"]');\n\t\t// this.programBox = this.shadowRoot.querySelector('[name=\"programBox\"]');\n\t\t// this.timeBar = this.shadowRoot.querySelector('[name=\"timeBar\"]');\n\t\t// this.timeRow = this.shadowRoot.querySelector('[name=\"timeRow\"]');\n\t\t// this.timeMarker = that.shadowRoot.querySelector('[name=\"timemarker\"]');\n\t\t// this.superButton = that.shadowRoot.querySelector('#superbutton');\n\t\t// this.floatingMenu = that.shadowRoot.querySelector('[name=\"app\"]>tg-floatingMenu');\n\n\n\n\n/*\n\t\tlet body=document.querySelector(\"body\");\n\t\t\t\t\t\t\t\t\t\t\t\t\t`<div name=\"EpgInfoBox\" class=\"hide\"></div>`\n\t\tthis.EpgInfoBox = this.shadowRoot.querySelector('[name=\"EpgInfoBox\"]');\n\n */\n\n\n\t\t// this._writeOptions(this.PROPS.defaults._storageKey, this.PROPS.set);\n\t\t////this._debug(\"JSON\", this.readOptions(this.PROPS.defaults._storageKey))\n\t\t//this.PROPS.run.topElements = [this.app, this.icon];\n\n\t\t//this._log(\"construction ended\", \"props:\",this.PROPS, \"me:\", this);\n\t\t//this._debug(\"constructor - constructed\");\n\n\t\t}\n\n\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\ttemplate()\n\t\t{\n\t\tlet tmp = tgEpgProgItemDefaults.template;\n\n\t\treturn tmp;\n\t\t}\n\t// //######################################################################################################################################\n\t// //\n\t// // properties()\n\t// // collect name-value pairs to use as observed Atrributes and the corresponding this->PROPS->attr\n\t// //\n\t// //######################################################################################################################################\n\tstatic get properties()\n\t\t{\n\t\tlet props=\ttgEpgProgItemDefaults.properties || {};\n\t\tlet superProps=super.properties||{};\n\t\tprops=Object.assign(superProps,props);\n\t\treturn props;\n\t\t}\n\t// //######################################################################################################################################\n\t// //\n\t// //\n\t// //\n\t// //######################################################################################################################################\n\tstatic get observedAttributes()\n\t \t{\n\t\tlet props=tgEpgProgItem.properties;\n\t\tprops=Object.keys(props);\n\t\tconsole.debug(\"observedAttributes tgEpgProgItem\", props)\n\t\treturn  props;\n  \t \t}\n\t// //######################################################################################################################################\n\t// //\n\t// //\n\t// //\n\t// //######################################################################################################################################\n\t// connectedCallback ()\n\t// \t{\n\t// \tvar that=this;\n\t// \tif (this.PROPS.run.connected === 0)\n\t// \t \t{\n\t// \t\tthis.activateToolTipp()\n\t// \t \tthis.connected();\n\t// \t \t}\n\t// \t}\n\t// //######################################################################################################################################\n\t// //\n\t// //\n\t// //\n\t// //######################################################################################################################################\n\tattributeChangedCallback(attrName, oldVal, newVal)\n\t\t{\n\t\tif (this.getAttribute(\"name\") && this.getAttribute(\"name\").includes(\"place\"))\n\t\t\t{\n\t\t\tconsole.debug(\"change Attribute \"+attrName, \"from\", oldVal, \"to\" , newVal, this.getAttribute(\"name\"), this)\n\t\t\tconsole.debug( (! newVal), (! this.PROPS.attr.hasOwnProperty(attrName)), (this.PROPS.attr[attrName]===newVal) );\n\t\t\tconsole.debug(this.PROPS.attr);\n\t\t\t}\t\n\t\tif ( (! newVal) || (! this.PROPS.attr.hasOwnProperty(attrName)) || (this.PROPS.attr[attrName]===newVal)) return;\n\t\toldVal=oldVal || this.PROPS.attr[attrName];\n\t\tif (typeof super.attributeChangedCallback == \"function\")\n\t\t\t{\n\t\t\tsuper.attributeChangedCallback(attrName, newVal, oldVal );\n\t\t\t}\n\t\tthis.PROPS.attr[attrName]=newVal;\n\t\tswitch (attrName)\n\t\t\t{\n\t\t\tcase \"span\":\n\t\t\t\t\tthis.style.setProperty('--progItemSpan', (parseInt(this.PROPS.attr.span))+\"px\");\n\t\t\t\tbreak;\n\t\t\t// case \"scale\":\n\t\t\t// \tif(this.PROPS.attr.duration)\n\t\t\t// \t\t{\n\t\t\t// \t\tthis.style.setProperty('--progItemWidth', (parseInt(this.PROPS.attr.duration)* parseFloat(this.PROPS.attr.scale))+\"px\");\n\t\t\t// \t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"timerowheight\":\n\t\t\t\t//this.timeRow.style.height=parseInt(newVal)+\"px\";\n\t\t\t\tbreak;\n\t\t\tcase \"data\":\n\t\t\t\tthis.PROPS.attr[\"dataref\"]=newVal;\n\t\t\t\tthis.dataHandler.getData(newVal);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t// //######################################################################################################################################\n\t// //\n\t// //\n\t// //\n\t// //######################################################################################################################################\n\n\t// activateToolTipp()\n\t// \t{\n\t// \tvar that=this;\n\n\t// \t//let elems=this.programBox.querySelectorAll('.Sendung');\n\t// \t// elems.forEach(function (elem)\n\t// \t// \t{\n\t// \t\tif (this.PROPS.run.device.type ==\"mobile\")\n\t// \t\t\t{\n\t// \t\t\tthis.addEventListener(\"touchmove\", function(ev){that.manageEvent.call(that,ev)}, false);\n\t// \t\t\tthis.addEventListener(\"touchend\", function(ev){that.manageEvent.call(that,ev)}, false);\n\t// \t\t\tthis.addEventListener(\"touchstart\", function(ev){that.manageEvent.call(that,ev)}, false);\n\t// \t\t\tthis.addEventListener(\"dblclick\", function(ev){that.manageEvent.call(that,ev)}, false);\n\t// \t\t\t}\n\t// \t\telse\n\t// \t\t\t{\n\n\t// \t\t\tthis.addEventListener(\"mouseover\", function(ev){that.manageEvent.call(that,ev)}, false);\n\t// \t\t\tthis.addEventListener(\"mouseleave\", function(ev){that.manageEvent.call(that,ev)}, false);\n\t// \t\t\tthis.addEventListener(\"click\", function(ev){that.manageEvent.call(that,ev)}, false);\n\t// \t\t\tthis.addEventListener(\"dblclick\", function(ev){that.manageEvent.call(that,ev)}, false);\n\t// \t\t\t}\n\t// \t\t// elem.addEventListener(\"long-press\", function(ev){ev.preventDefault();alert(\"long-press\");that.manageEpgInfo.call(that,ev)}, false);\n\t// \t\t// });\n\t// \t}\n\t// //######################################################################################################################################\n\t// //\n\t// //\n\t// //\n\t// //######################################################################################################################################\n\n\t// manageEvent(ev)\n\t// \t{\n\t// \tif (! this.supermaster) return;\n\t// \tvar elem=ev.target;\n\t// \tvar task=ev.type;\n\t// \tvar master=this.supermaster.shadowRoot.querySelector('[name=\"epgOutBox\"]');\n\t// \t//console.debug(\"master\")\n\n\t// \tif (! master) return\n\t// \tvar infobox=null\n\t// \tswitch (task)\n\t// \t\t{\n\t// \t\tcase \"mouseleave\":\n\t// \t\t\tinfobox = master.querySelector(\"tgepg-tooltipp\")\n\t// \t\t\tif (infobox) infobox.style.display=\"none\";\n\t// \t\t\treturn;\n\t// \t\t\tbreak;\n\t// \t\tcase \"mouseover\":\n\t// \t\t\tinfobox = master.querySelector(\"tgepg-tooltipp\")\n\t// \t\t\tif ( ! infobox )\n\t// \t\t\t\t{\n\t// \t\t\t\tinfobox=document.createElement(\"tgepg-tooltipp\");\n\t// \t\t\t\tmaster.appendChild(infobox)\n\t// \t\t\t\t}\n\t// \t\t\tinfobox.style.display=\"block\";\n\t// \t\t\tbreak;\n\t// \t\tcase \"click\":\n\t// \t\t\tinfobox = master.querySelector(\"tgepg-info\")\n\t// \t\t\tif ( ! infobox )\n\t// \t\t\t\t{\n\t// \t\t\t\tinfobox=document.createElement(\"tgepg-info\");\n\t// \t\t\t\tmaster.appendChild(infobox)\n\t// \t\t\t\t}\n\t// \t\t\tconsole.log(\"infobox\", infobox)\n\t// \t\t\tinfobox.style.display=\"block\";\n\t// \t\t\tbreak;\n\t// \t\t}\n\t// \tinfobox.innerHTML=\"\"\n\t// \tvar slots=this.querySelectorAll('[slot]')\n\t// \tslots.forEach((slot) =>\n\t// \t\t{\n\t// \t\tlet clone = slot.cloneNode(true);\n\t// \t\tinfobox.appendChild(clone)\n\t// \t\t});\n\t// \tinfobox.setAttribute(\"start\", this.getAttribute(\"start\")||\"-\")\n\t// \tinfobox.setAttribute(\"duration\", this.getAttribute(\"duration\")||\"-\")\n\t// \tinfobox.setAttribute(\"channelid\", this.getAttribute(\"channelid\")||\"-\")\n\t// \tinfobox.setAttribute(\"eventid\", this.getAttribute(\"eventid\")||\"-\")\n\n\t// \tvar visibleMaster=getVisible([master.getBoundingClientRect().y,master.getBoundingClientRect().height], [0, document.documentElement.clientHeight])\n\t// \tvisibleMaster=visibleMaster.concat(getVisible([master.getBoundingClientRect().x,master.getBoundingClientRect().width], [0,document.documentElement.clientWidth]));\n\t// \tvisibleMaster={y:(visibleMaster[0]+this.revier.t),h:(visibleMaster[1]-this.revier.t-this.revier.b),x:(visibleMaster[2]+this.revier.l),w:(visibleMaster[3]-this.revier.l-this.revier.r)};\n\t// \tvar maus={x:ev.clientX-visibleMaster.x, y:ev.clientY-visibleMaster.y}\n\n\t// \tvar visibleItem=getVisible([elem.getBoundingClientRect().y,elem.getBoundingClientRect().height], [visibleMaster.y, visibleMaster.h])\n\t// \tvisibleItem=visibleItem.concat(getVisible([elem.getBoundingClientRect().x,elem.getBoundingClientRect().width], [visibleMaster.x, visibleMaster.w]));\n\t// \tvisibleItem={y:visibleItem[0],h:visibleItem[1],x:visibleItem[2],w:visibleItem[3]};\n\n\t// \tvar mausquadrant=(maus.x < visibleMaster.w/2)?((maus.y < visibleMaster.h/2)?1:3):((maus.y < visibleMaster.h/2)?2:4)\n\n\t// \tlet offset=10\n\t// \tvar style={left:\"\",right:\"\",top:\"\",bottom:\"\",maxHeight:\"\",width:\"\"}\n\n\t// \tif (task == \"mouseover\")\n\t// \t\t{\n\t// \t\tif (visibleItem.y > (visibleMaster.h-visibleItem.y-visibleItem.h))\n\t// \t\t\t{\n\t// \t\t\tstyle['bottom']=visibleMaster.h-visibleItem.y+offset+'px'\n\t// \t\t\tstyle['maxHeight']=(visibleItem.y-offset)+'px'\n\t// \t\t\t}\n\t// \t\telse\n\t// \t\t\t{\n\t// \t\t\tstyle['top']=visibleItem.y+visibleItem.h+offset+'px'\n\t// \t\t\tstyle['maxHeight']=(visibleMaster.h-visibleItem.y-visibleItem.h-offset)+'px'\n\t// \t\t\t}\n\t// \t\t}\n\t// \telse\n\t// \t\t{\n\t// \t\tif (mausquadrant < 3)\n\t// \t\t\t{\n\t// \t\t\tstyle['bottom']=offset+'px'\n\t// \t\t\tstyle['maxHeight']=(visibleMaster.h-offset)+'px'\n\t// \t\t\t}\n\t// \t\telse\n\t// \t\t\t{\n\t// \t\t\tstyle['top']=offset+'px'\n\t// \t\t\tstyle['maxHeight']=(visibleMaster.h-offset)+'px'\n\t// \t\t\t}\n\t// \t\t}\n\t// \tsetStyle(infobox, style)\n\t// \tvar boxItem=infobox.getBoundingClientRect()\n\t// \tif (task == \"mouseover\")\n\t// \t\t{\n\t// \t\tlet left= (visibleItem.x+visibleItem.w/2)-boxItem.width/2\n\t// \t\tleft=(left<0)?0:left\n\t// \t\tlet right= visibleMaster.w-(visibleItem.x+visibleItem.w/2)-boxItem.width/2\n\t// \t\tright=(right<0)?0:right\n\t// \t\tif ((left > 0) && (right > 0))\n\t// \t\t\t{\n\t// \t\t\tstyle['left']=left+\"px\"\n\t// \t\t\t}\n\t// \t\telse if ((left == 0) && (right > 0))\n\t// \t\t\t{\n\t// \t\t\tstyle['left']=left+\"px\"\n\t// \t\t\tstyle['width']=(boxItem.width<visibleMaster.w)?boxItem.width:visibleMaster.w+\"px\"\n\t// \t\t\t}\n\t// \t\telse if ((left > 0) && (right == 0))\n\t// \t\t\t{\n\t// \t\t\tstyle['right']=right+\"px\"\n\t// \t\t\tstyle['width']=(boxItem.width<visibleMaster.w)?boxItem.width:visibleMaster.w+\"px\"\n\t// \t\t\t}\n\t// \t\telse\n\t// \t\t\t{\n\t// \t\t\tstyle['left']=\"0px\"\n\t// \t\t\tstyle['width']=visibleMaster.w+\"px\"\n\t// \t\t\t}\n\t// \t\t}\n\t// \telse\n\t// \t\t{\n\t// \t\tif ((mausquadrant == 2) || (mausquadrant == 4))\n\t// \t\t\t{\n\t// \t\t\tstyle['left']=offset+'px'\n\t// \t\t\t}\n\t// \t\telse\n\t// \t\t\t{\n\t// \t\t\tstyle['right']=offset+'px'\n\t// \t\t\t}\n\t// \t\t}\n\t// \tsetStyle(infobox, style)\n\t// \tfunction setStyle(elm, sty)\n\t// \t\t{\n\t// \t\tvar myKeys=Object.keys(sty)\n\t// \t\tfor (let i = 0; i < myKeys.length; i++)\n\t// \t\t\t{\n\t// \t\t\telm.style[myKeys[i]] = sty[myKeys[i]];\n\t// \t\t\t}\n\t// \t\t}\n\t// \tfunction getVisible(master, port)\n\t// \t\t{\n\t// \t\tvar result=[0,0]\n\t// \t\tresult[0]=master[0]-port[0]\n\n\t// \t\tresult[0]=(result[0] < 0)?0:result[0]\n\t// \t\tresult[1]=(master[0]-port[0] < 0)?master[1]+(master[0]-port[0]):master[1]\n\t// \t\tresult[1]=((master[0]+master[1]) > (port[0]+port[1]))?result[1]-((master[0]+master[1]) - (port[0]+port[1])):result[1]\n\t// \t\treturn result\n\t// \t\t}\n\t// \treturn\n\t// \t}\n\t// //######################################################################################################################################\n\t// //setter & getter\n\t// //\n\t// //\n\t// //######################################################################################################################################\n\t// get info()\n\t// \t{\n\t// \treturn this.PROPS.run.info;\n\t// \t}\n\t// set info(val)\n\t// \t{\n\t// \tthis.PROPS.run[\"info\"]=val\n\t// \tif ((this.titleslot) && (this.PROPS.run.info.title))\n\t// \t\t{\n\t// \t\tthis.titleslot.innerHTML=\"<span>\"+this.PROPS.run.info.title+\"</span>\"\n\t// \t\t}\n\t// \t}\n\n\t// get supermaster()\n\t// \t{\n\t// \treturn this.PROPS.run.supermaster;\n\t// \t}\n\t// set supermaster(val)\n\t// \t{\n\t// \tthis.PROPS.run[\"supermaster\"]=val;\n\t// \t}\n\n\n\t}\nwindow.customElements.define('tgepg-progitem', tgEpgProgItem);\n","import { tgEpgDefaultsCommon }  from \"./defaults_Common.js\"\n\nexport class tgEpgProgItemDefaults extends tgEpgDefaultsCommon\n\t{\n\tconstructor()\n\t\t{\n\t\tsuper(\"open\");\n\t\tthis[\"PROPS\"]=\n\t\t\t\t\t\t{\n\t\t\t\t\t\tdefault: \tthis._extender({}, this[\"PROPS\"].default||{},\n\t\t\t\t\t\t\t\t\t{\n\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t}\n\t\t}\n\tstatic get template()\n\t\t{\n\t\tvar styles=super.styles||\"\";\n\t\t\tstyles=styles+`\n\t\t\t<style>\n\t\t\t:host\n\t\t\t\t{\n\t\t\t\tdisplay:inline-block;\n\t\t\t\twidth:     calc( var(--progItemSpan) *  var(--scale-used) ) !important;\n\t\t\t\tmax-width: calc( var(--progItemSpan) *  var(--scale-used) ) !important;\n\t\t\t\tmin-width: calc( var(--progItemSpan) *  var(--scale-used) ) !important;\n\t\t\t\twhite-space: nowrap;\n\t\t\t\tmargin:0px;\n\t\t\t\tpadding:0px;\n\t\t\t\tbox-sizing: border-box;\n\n\t\t\t\toverflow: hidden;\n\t\t\t\twhite-space: nowrap;\n\t\t\t\ttext-overflow:clip;\n\t\t\t\ttext-align:center;\n\t\t\t\tvertical-align: middle;\n\t\t\t\ttext-align:center;\n\t\t\t\theight: 100%;\n\t\t\t\tmax-height: 100%;\n\t\t\t\t}\n\n\t\t\t[name=\"app\"]\n\t\t\t\t{\n\t\t\t\toverflow:hidden;\n\t\t\t\tdisplay:inline-box;\n\t\t\t\t/*width:100%;*/\n\t\t\t\theight:100%;\n\t\t\t\tborder-radius: 1;\n\t\t\t\tborder-right: 1px solid black;\n\t\t\t\tvertical-align: middle;\n\t\t\t\tpadding:2px;\n\t\t\t\t}\n\t\t\t[name=\"app\"]>slot\n\t\t\t\t{\n\t\t\t\twidth:100%;\n\t\t\t\theight:100%;\n\t\t\t\ttext-align: center;\n\t\t\t\tposition:relative;\n\t\t\t\tvertical-align: middle;\n\t\t\t\tdisplay:flex;\n\t\t\t\ttext-overflow:clip;\n\t\t\t\tjustify-content: center; align-items: center;\n\t\t\t\tmargin:0px;\n\t\t\t\tpadding:0px;\n\t\t\t\t}\n\t\t\t[name=\"app\"]>slot>span\n\t\t\t\t{\n\t\t\t\ttext-overflow:clip;\n\t\t\t\toverflow:hidden;\n\t\t\t\t}\n\t\t\t.Tab\n\t\t\t\t{\n\t\t\t\tdisplay:table;\n\t\t\t\tborder-collapse: collapse;\n\t\t\t\t}\n\t\t\t.TabRow\n\t\t\t\t{\n\t\t\t\tdisplay:table-row;\n\t\t\t\t}\n\t\t\t.TabCell\n\t\t\t\t{\n\t\t\t\tdisplay:table-cell;\n\t\t\t\tvertical-align: middle;\n\t\t\t\ttext-align:center;\n\n\t\t\t\t}\n\t\t\t</style>\n\n\t\t\t`;\n\t\t\tvar tmp=styles+`\n\t\t\t<!-- App -->\n\t\t\t\t<div name=\"app\">\n\t\t\t\t\t<slot name=\"titleslot\"></slot>\n\t\t\t\t</div>\n\t\t\t<!-- App Ende-->\n\t\t\t\t\t`;\n\t\t\treturn\ttmp;\n\t\t}\n\tstatic get properties()\n\t\t{\n\t\tvar props=super.properties||{};\n\t\tprops[\"span\"]=null;\n\t\tprops[\"channelrowheight\"]=\"50\";\n\n\t\treturn props;\n\t\t}\n\n\t}\n","/*\n* tgEPG component\n*\n* Copyright (c) 2020-2021 Thomas Geißenhöner <quietcry@gmx.de>\n* Under MIT License (http://www.opensource.org/licenses/mit-license.php)\n*\n*\n*/\n\nimport { tgControls } from \"./tgControls.js\";\nimport { tgDefaultsScrollbar } from '../defaults_Scrollbar.js';\n\n\nexport class tgControlScrollbar extends tgControls\n\t{\n\tconstructor(mode=\"open\", props={})\n\t\t{\n\t\tsuper(mode, new tgDefaultsScrollbar());\n\t\tvar that=this;\n\t\t// default Parameter nach Props einlesen\n\t\t//this.tgEpgDefaults=new tgDefaultsScrollbar(this);\n\t\t// default Parameter nach Props einlesen\n\t\t//this.tgEpgDefaults=new tgEpgAppDefaults(this);\n\t\t// this[\"PROPS\"]=this._extender( (this[\"PROPS\"] || {}),\n\t\t// \t\t\t\t{\n\t\t// \t\t\t\tdefaults:this.tgEpgDefaults.loadDefaults(),\n\t\t// \t\t\t\trun:this.tgEpgDefaults.loadRun(),\n\t\t// \t\t\t\tset:this.tgEpgDefaults.loadSet()\n\t\t// \t\t\t\t});\n\t\t// Props durch hartcodierte Werte erweitern/anpassen\n\t\tthis[\"PROPS\"]=this._extender( (this[\"PROPS\"] || {}),\n\t\t\t\t\t\t{\n\t\t\t\t\t\trun:\t{\n\t\t\t\t\t\t\t\tmsg:\t{\n\t\t\t\t\t\t\t\t\t\tlog:true,\n\t\t\t\t\t\t\t\t\t\tdebug:true,\n\t\t\t\t\t\t\t\t\t\terror:true\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\tdefault:{connected:0},\n\t\t\t\t\t\tparas:this._extender({})\n\t\t\t\t\t\t});\n\t\t// Props durch im Storage gespeichertes erweitern/anpassen\n\t\t// this.PROPS.set = this._extender({}, (this.PROPS.defaults || {}), (this.PROPS.set || {}), (this._readOptions(this.PROPS.defaults._storageKey) || {}));\n\n\t\t//this._debug(\"constructor - Parameters\", \"props:\",this[\"PROPS\"]);\n\n\n\n\n\t\tthis._containerWidth=null;\n\t\tthis._supermaster=null;\n\t\tthis.supressScrollEvent=false;\n\t\tthis._scrollWidth=0;\n\t\tthis._direction=null;\n\t\tthis._pos=\"bottom\";\n\t\tthis._reportto=null;\n\t\tthis._reporttoElement=null;\n\t\tthis._getSizeXFromElement=null;\n\t\tthis._getSizeYFromElement=null;\n\t\tthis.container = this._shadowRoot.querySelector('[name=\"container\"]');\n\t\tthis._parent=this.parentNode;\n\t\tthis._ChildVisibleRect={x:0,y:0,width:0,height:0};\n\t\tthis.myObserver = new ResizeObserver(entries =>\n\t\t\t{\n\t\t\tvar ev = new CustomEvent('resize');\n\t\t\tthis.dispatchEvent(ev);\n\t\t  \t});\n\n\t\t}\n\n\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\n\t\t\n\t//######################################################################################################################################\n\t//\n\t// properties()\n\t// collect name-value pairs to use as observed Atrributes and the corresponding this->PROPS->paras\n\t//\n\t//######################################################################################################################################\n\tstatic get properties()\n\t\t{\n\t\tlet props=\ttgEpgAppDefaults.properties || {};\n\t\tlet superProps=super.properties||{};\n\t\tprops=Object.assign(superProps,props);\n\t\treturn props;\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tstatic get observedAttributes()\n\t \t{\n\t\t// let props=super.observedAttributes||[];\n\t\t// props.push(\"direction\")\n\t\treturn [\"pos\",\"reportto\",\"getsizefrom\",\"getxsizefrom\",\"getysizefrom\"];\n  \t \t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tconnectedCallback ()\n\t\t{\n\t\tvar that=this;\n\t\tconsole.debug(\"connectedCallback\", \"start\");\n\t\tif (this.PROPS.run.connected == 0)\n\t\t \t{\n\t\t \tthis.init();\n\t\t\t// this.refreshAppSizeAfterResizeOrInit();\n\t\t \t// this.buildApp();\n\t\t \tthis.connected();\n\t\t \t}\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tattributeChangedCallback(attrName, oldVal, newVal)\n\t\t{\n\t\tif ( oldVal===newVal) return;\n\t\toldVal=oldVal || this.PROPS.paras[attrName];\n\t\tsuper.attributeChangedCallback(attrName, newVal, oldVal );\n\t\tthis.PROPS.paras[attrName]=newVal;\n\t\tswitch (attrName)\n\t\t\t{\n\t\t\tcase \"pos\":\n\t\t\t\tif ( (newVal == \"top\") || (newVal == \"bottom\") || (newVal == \"left\") || (newVal == \"right\"))\n\t\t\t\t\t{\n\t\t\t\t\tthis._pos=newVal\n\t\t\t\t\tthis._direction=( (newVal == \"top\") || (newVal == \"bottom\"))?\"horizontal\":((newVal == \"left\") || (newVal == \"right\"))?\"vertical\":this._direction;\n\t\t\t\t\tthis.init()\n\t\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"reportto\":\n\t\t\t\tthis._reporttoElement=getParent.call(this,newVal)\n\t\t\t\tbreak;\n\t\t\tcase \"getsizefrom\":\n\n\t\t\t\tif (newVal != \"\")\n\t\t\t\t\t{\n\t\t\t\t\tthis._getSizeXFromElement=getParent.call(this,newVal)\n\t\t\t\t\tthis._getSizeYFromElement=this._getSizeXFromElement;\n\t\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"getxsizefrom\":\n\t\t\t\tif (newVal != \"\")\n\t\t\t\t\t{\n\t\t\t\t\tthis._getSizeXFromElement=getParent.call(this,newVal)\n\t\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"getysizefrom\":\n\t\t\t\tif (newVal != \"\")\n\t\t\t\t\t{\n\t\t\t\t\tthis._getSizeYFromElement=getParent.call(this,newVal)\n\t\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t\t}\n\t\tfunction getParent(selector=\"body\")\n\t\t\t{\n\t\t\tvar root = this;\n\t\t\twhile (root.parentNode)\n\t\t\t\t{\n\t\t\t\tif (root.querySelector(selector))\n\t\t\t\t\t{\n\t\t\t\t\treturn root.querySelector(selector);\n\t\t\t\t\t}\n\t\t\t\troot = root.parentNode;\n\t\t\t\t}\n\t\t\treturn root.querySelector(selector)\n\t\t\t}\n\n\t\t}\n\t//######################################################################################################################################\n\tgetParent(selector=\"body\")\n\t\t{\n\t\tvar root = this;\n\t\twhile (root.parentNode)\n\t\t\t{\n\t\t\tif (root.querySelector(selector))\n\t\t\t\t{\n\t\t\t\treturn root.querySelector(selector);\n\t\t\t\t}\n\t\t\troot = root.parentNode;\n\t\t\t}\n\t\treturn root.querySelector(selector)\n\t\t}\n\trender()\n\t\t{\n\t\tthis.init()\n\t\t}\n\t//######################################################################################################################################\n\t//init()\n\t//prüft die Umgebung und passt Parameter entsprechend an\n\t//\n\t//######################################################################################################################################\n\tinit()\n\t\t{\n\t\tvar that=this;\n\t\tvar sbo=\"scrollbarobserver\"\n\t\tif (! this._parent.hasAttribute(sbo))\n\t\t\t{\n\t\t\tthis.myObserver.observe(this._parent);\n\t\t\tthis.addEventListener(\"resize\",\n\t\t\tfunction(ev)\n\t\t\t\t{\n\t\t\t\tthis.init();\n\t\t\t\t}, false);\n\n\t\t\tthis._parent.setAttribute(sbo,\"1\")\n\t\t\t}\n\t\tvar parent=this._parent.getBoundingClientRect()\n\t\t//this.getParent('[name=\"tgEpgProgList\"]')\n\t\tif (this.PROPS.paras[\"getsizefrom\"])\n\t\t\t{\n\t\t\tthis._getSizeXFromElement=this.getParent(this.PROPS.paras[\"getsizefrom\"])\n\t\t\tthis._getSizeYFromElement=this._getSizeXFromElement\n\t\t\t}\n\t\tif (this.PROPS.paras[\"getxsizefrom\"])\n\t\t\t{\n\t\t\tthis._getSizeXFromElement=this.getParent(this.PROPS.paras[\"getxsizefrom\"])\n\t\t\t}\n\t\tif (this.PROPS.paras[\"getysizefrom\"])\n\t\t\t{\n\t\t\tthis._getSizeYFromElement=this.getParent(this.PROPS.paras[\"getysizefrom\"])\n\t\t\t}\n\t\tif (( ! this._direction)\n\t\t\t|| ((this._direction==\"horizontal\") && ( ! this._getSizeXFromElement))\n\t\t\t|| ((this._direction==\"vertical\") && ( ! this._getSizeYFromElement)))\n\t\t\treturn;\n\n\t\tif (this._direction==\"horizontal\")\n\t\t\t{\n\t\t\tif (! this._getSizeXFromElement.hasAttribute(sbo))\n\t\t\t\t{\n\t\t\t\tthis.myObserver.observe(this._getSizeXFromElement);\n\t\t\t\tthis._getSizeXFromElement.setAttribute(sbo,\"1\")\n\t\t\t\t}\n\t\t\tthis.style.right=\"0px\";\n\t\t\tthis.style.width=(parent.width-((this._getSizeXFromElement.getBoundingClientRect().x+this._getSizeXFromElement.parentNode.scrollLeft)-parent.x))+\"px\"\n\t\t\tthis.container.style.width=this._getSizeXFromElement.getBoundingClientRect().width+\"px\"\n\t\t\tthis.style.display=(this.offsetWidth>this.container.offsetWidth)?\"none\":\"\"\n\t\t\tthis.supressScrollEvent=true\n\t\t\tthis.scrollLeft=this._getSizeXFromElement.parentNode.scrollLeft\n\t\t\t}\n\t\telse if (this._direction==\"vertical\")\n\t\t\t{\n\t\t\tif (! this._getSizeYFromElement.hasAttribute(sbo))\n\t\t\t\t{\n\t\t\t\tthis.myObserver.observe(this._getSizeYFromElement);\n\t\t\t\tthis._getSizeYFromElement.setAttribute(sbo,\"1\")\n\t\t\t\t}\n\n\t\t\tthis.style.bottom=\"0px\";\n\t\t\tthis.style.height=(parent.height-(this._getSizeXFromElement.getBoundingClientRect().y-parent.y))+\"px\"\n\t\t\tthis.container.style.height=this._getSizeXFromElement.getBoundingClientRect().height+\"px\"\n\t\t\tthis.style.display=(this.offsetHeight>this.container.offsetHeight)?\"none\":\"\"\n\t\t\tthis.scrollTop=this._getSizeXFromElement.scrollTop\n\t\t\t}\n\t\tif ((! this.hasAttribute(\"hasScrollHandler\")) || (parseInt(this.getAttribute(\"hasScrollHandler\")) !== 1) )\n\t\t\t{\n\t\t\tthis.setAttribute(\"hasScrollHandler\", \"1\");\n\t\t\tthis.addEventListener(\"scroll\", function(ev)\n\t\t\t\t{\n\t\t\t\tif ( ! that.supressScrollEvent )\n\t\t\t\t\t{\n\t\t\t\t\tlet offset=(that._direction == \"horizontal\")?that.scrollLeft:that.scrollTop;\n\t\t\t\t\tvar ev = new CustomEvent('scrolled',\n\t\t\t\t\t\t{\n\t\t\t\t\t\tdetail:\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdirection: that._direction,\n\t\t\t\t\t\t\tscrollwidth: offset,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t//console.log(\"scrollevent\",this, this._getSizeXFromElement.parentNode)\n\t\t\t\t\tif (this._reporttoElement)\n\t\t\t\t\t\t{\n\t\t\t\t\t\tthis._reporttoElement.dispatchEvent(ev);\n\t\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\tthis._getSizeXFromElement.parentNode.scrollLeft=offset;\n\t\t\t\t\t\tthis.dispatchEvent(ev);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\tthat.supressScrollEvent = false\n\n\t\t\t\t}, false);\n\t\t\t}\n\n\t\treturn;\n\t\t}\n\t//######################################################################################################################################\n\t//scrollIt()\n\t//prüft die Umgebung und passt Parameter entsprechend an\n\t//\n\t//######################################################################################################################################\n\tscrollIt()\n\t\t{\n\t\tvar that=this;\n\t\tvar direction=this.getAttribute(\"direction\");\n\t\t\tswitch (direction)\n\t\t\t\t{\n\t\t\t\tcase \"horizontal\":\n\t\t\t\t\tthis.scrollLeft =this._scrollWidth\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"vertical\":\n\t\t\t\t\tthis.scrollTop =this._scrollWidth\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t//this.supressScrollEvent = false\n\t\treturn\n\t\t}\n\n\t//#########################################################################################################\n\t//##\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\tget supermaster()\n\t\t{\n\t\treturn this._supermaster;\n\t\t}\n\tset supermaster(val)\n\t\t{\n\t\tthis[\"_supermaster\"]=val;\n\t\t}\n\tget scrollWidth()\n\t\t{\n\t\treturn this._scrollWidth;\n\t\t}\n\tset scrollWidth(val)\n\t\t{\n\t\tif (parseFloat(val)\t!== this._scrollWidth)\n\t\t\t{\n\t\t\tthis[\"_scrollWidth\"]=parseFloat(val)\n\t\t\tthis.supressScrollEvent=true\n\t\t\tthis.scrollIt()\n\t\t\t}\n\t\t}\n\n\n\t//############################################################################################################################################\n\t//############################################################################################################################################\n\t}\n\nwindow.customElements.define('tgcontrol-scrollbar', tgControlScrollbar);\n","import { tgEpgDefaultsCommon }  from \"./defaults_Common.js\"\n\nexport class tgDefaultsScrollbar extends tgEpgDefaultsCommon\n\t{\n\t\n\tconstructor(that)\n\t\t{\n\t\tsuper(\"open\", that);\n\t\tthis[\"PROPS\"]=\n\t\t\t\t\t\t{\n\t\t\t\t\t\tdefault: \tthis._extender({}, this[\"PROPS\"].default||{},\n\t\t\t\t\t\t\t\t\t{\n\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t}\n\t\t}\n\tstatic get template()\n\n\t\t\t{\n\t\t\tlet tmp = `\n\t\t\t\t<style>\n\t\t\t\t:host\n\t\t\t\t\t{\n\t\t\t\t\t--scrollbarBgColor: lightgray;\n\t\t\t\t\t--scrollbarColor: pink transparent;\n\t\t\t\t\t--scrollbarSleepingWidth: 6px;\n\t\t\t\t\t--scrollBarWidth:12px;\n\t\n\t\t\t\t\tposition:absolute;\n\t\t\t\t\tscrollbar-color: transparent transparent; /* thumb and track color */\n\t\t\t\t\tscrollbar-width: thin;\n\t\t\t\t\tz-index:100;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t}\n\t\t\t\t:host(:hover)\n\t\t\t\t\t{\n\t\t\t\t\tbackground-color: var(--scrollbarBgColor);\n\t\t\t\t\tscrollbar-color: var(--scrollbarColor);\n\t\t\t\t\tscrollbar-width: var(--scrollBarWidth);\n\t\t\t\t\t}\n\t\n\t\t\t\t:host([direction=\"vertical\"],[pos=\"left\"],[pos=\"right\"])\n\t\t\t\t\t{\n\t\t\t\t\ttop: 0px;\n\t\t\t\t\tbottom: 0px;\n\t\t\t\t\twidth:var(--scrollbarSleepingWidth);\n\t\t\t\t\t}\n\t\t\t\t:host([pos=\"left\"])\n\t\t\t\t\t{\n\t\t\t\t\tleft:0px;\n\t\t\t\t\t}\n\t\t\t\t:host([direction=\"vertical\"],[pos=\"right\"])\n\t\t\t\t\t{\n\t\t\t\t\tright: 0px;\n\t\t\t\t\t}\n\t\t\t\t:host([direction=\"vertical\"],[pos=\"left\"],[pos=\"right\"]) div\n\t\t\t\t\t{\n\t\t\t\t\twidth:1px;\n\t\t\t\t\t}\n\t\t\t\t:host([direction=\"vertical\"],[pos=\"left\"],[pos=\"right\"]:hover)\n\t\t\t\t\t{\n\t\t\t\t\twidth: var(--scrollBarWidth);\n\t\t\t\t\toverflow-y: auto;\n\t\t\t\t\t}\n\t\t\t\t:host([direction=\"horizontal\"]),\n\t\t\t\t:host([pos=\"top\"]),\n\t\t\t\t:host([pos=\"bottom\"])\n\t\t\t\t\t{\n\t\t\t\t\theight:var(--scrollbarSleepingWidth);\n\t\t\t\t\t}\n\t\t\t\t:host([direction=\"horizontal\"]),\n\t\t\t\t:host([pos=\"bottom\"])\n\t\t\t\t\t{\n\t\t\t\t\tbottom:0px;\n\t\t\t\t\t}\n\t\t\t\t:host([pos=\"top\"])\n\t\t\t\t\t{\n\t\t\t\t\ttop: 0px;\n\t\t\t\t\t}\n\t\t\t\t:host([direction=\"horizontal\"]) div,\n\t\t\t\t:host([pos=\"top\"]) div,\n\t\t\t\t:host([pos=\"bottom\"]) div\n\t\t\t\t\t{\n\t\t\t\t\theight: 1px;\n\t\t\t\t\t}\n\t\t\t\t:host([direction=\"horizontal\"]:hover),\n\t\t\t\t:host([pos=\"top\"]:hover),\n\t\t\t\t:host([pos=\"bottom\"]:hover)\n\t\t\t\t\t{\n\t\t\t\t\theight: var(--scrollBarWidth);\n\t\t\t\t\toverflow-x: auto;\n\t\t\t\t\t}\n\t\n\t\t\t\t</style>\n\t\t\t\t<div name=\"container\"></div>`;\n\t\t\treturn tmp;\n\t\t}\n\tstatic get properties()\n\t\t{\n\t\tvar props=super.properties||{};\n\t\tprops[\"dataref\"]=null;\n\t\tprops[\"timerowheight\"]=\"50\";\n\t\tprops[\"channelrowheight\"]=\"50\";\n\t\tprops[\"channelcolumnwidth\"]=\"150\";\n\n\t\treturn props;\n\t\t}\n\n\t}\n"],"names":[],"version":3,"file":"index.js.map","sourceRoot":"/__parcel_source_root/"}