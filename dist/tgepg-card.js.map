{"mappings":"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","sources":["node_modules/@parcel/runtime-browser-hmr/lib/runtime-cbc4d9576abcbb6c.js","src/tgepg-card.js","src/tgepg-card-class.js","src/lib/tgControls.js","src/lib/tgControls.helper_basic.js","node_modules/@parcel/transformer-js/src/esmodule-helpers.js","src/defaults_Card.js","src/defaults_Common.js","src/tgepg-dataWorker.js","src/lib/epgElements/tgEpg.timebar.js","src/defaults_Timebar.js","src/lib/epgElements/tgEpg.channelList.js","src/lib/epgElements/channelProgList.basis.js","src/defaults_Channellist.js","src/lib/epgElements/tgEpg.channelListItem.js","src/defaults_ChannellistItem.js","src/lib/epgElements/tgEpg.progList.js","src/defaults_Proglist.js","src/lib/epgElements/tgEpg.progItem.js","src/defaults_ProgItem.js","src/lib/tgControls.Scrollbar.js","src/defaults_Scrollbar.js","src/lib/epgElements/tgEpg.tooltipp.js","src/defaults_Tooltipp.js"],"sourcesContent":["var HMR_HOST = null;var HMR_PORT = null;var HMR_SECURE = false;var HMR_ENV_HASH = \"d6ea1d42532a7575\";var HMR_USE_SSE = false;module.bundle.HMR_BUNDLE_ID = \"835a2044d8e780af\";\"use strict\";\n\n/* global HMR_HOST, HMR_PORT, HMR_ENV_HASH, HMR_SECURE, HMR_USE_SSE, chrome, browser, __parcel__import__, __parcel__importScripts__, ServiceWorkerGlobalScope */\n/*::\nimport type {\n  HMRAsset,\n  HMRMessage,\n} from '@parcel/reporter-dev-server/src/HMRServer.js';\ninterface ParcelRequire {\n  (string): mixed;\n  cache: {|[string]: ParcelModule|};\n  hotData: {|[string]: mixed|};\n  Module: any;\n  parent: ?ParcelRequire;\n  isParcelRequire: true;\n  modules: {|[string]: [Function, {|[string]: string|}]|};\n  HMR_BUNDLE_ID: string;\n  root: ParcelRequire;\n}\ninterface ParcelModule {\n  hot: {|\n    data: mixed,\n    accept(cb: (Function) => void): void,\n    dispose(cb: (mixed) => void): void,\n    // accept(deps: Array<string> | string, cb: (Function) => void): void,\n    // decline(): void,\n    _acceptCallbacks: Array<(Function) => void>,\n    _disposeCallbacks: Array<(mixed) => void>,\n  |};\n}\ninterface ExtensionContext {\n  runtime: {|\n    reload(): void,\n    getURL(url: string): string;\n    getManifest(): {manifest_version: number, ...};\n  |};\n}\ndeclare var module: {bundle: ParcelRequire, ...};\ndeclare var HMR_HOST: string;\ndeclare var HMR_PORT: string;\ndeclare var HMR_ENV_HASH: string;\ndeclare var HMR_SECURE: boolean;\ndeclare var HMR_USE_SSE: boolean;\ndeclare var chrome: ExtensionContext;\ndeclare var browser: ExtensionContext;\ndeclare var __parcel__import__: (string) => Promise<void>;\ndeclare var __parcel__importScripts__: (string) => Promise<void>;\ndeclare var globalThis: typeof self;\ndeclare var ServiceWorkerGlobalScope: Object;\n*/\nvar OVERLAY_ID = '__parcel__error__overlay__';\nvar OldModule = module.bundle.Module;\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData[moduleName],\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n  module.bundle.hotData[moduleName] = undefined;\n}\nmodule.bundle.Module = Module;\nmodule.bundle.hotData = {};\nvar checkedAssets /*: {|[string]: boolean|} */, assetsToDispose /*: Array<[ParcelRequire, string]> */, assetsToAccept /*: Array<[ParcelRequire, string]> */;\n\nfunction getHostname() {\n  return HMR_HOST || (location.protocol.indexOf('http') === 0 ? location.hostname : 'localhost');\n}\nfunction getPort() {\n  return HMR_PORT || location.port;\n}\n\n// eslint-disable-next-line no-redeclare\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = getHostname();\n  var port = getPort();\n  var protocol = HMR_SECURE || location.protocol == 'https:' && !['localhost', '127.0.0.1', '0.0.0.0'].includes(hostname) ? 'wss' : 'ws';\n  var ws;\n  if (HMR_USE_SSE) {\n    ws = new EventSource('/__parcel_hmr');\n  } else {\n    try {\n      ws = new WebSocket(protocol + '://' + hostname + (port ? ':' + port : '') + '/');\n    } catch (err) {\n      if (err.message) {\n        console.error(err.message);\n      }\n      ws = {};\n    }\n  }\n\n  // Web extension context\n  var extCtx = typeof browser === 'undefined' ? typeof chrome === 'undefined' ? null : chrome : browser;\n\n  // Safari doesn't support sourceURL in error stacks.\n  // eval may also be disabled via CSP, so do a quick check.\n  var supportsSourceURL = false;\n  try {\n    (0, eval)('throw new Error(\"test\"); //# sourceURL=test.js');\n  } catch (err) {\n    supportsSourceURL = err.stack.includes('test.js');\n  }\n\n  // $FlowFixMe\n  ws.onmessage = async function (event /*: {data: string, ...} */) {\n    checkedAssets = {} /*: {|[string]: boolean|} */;\n    assetsToAccept = [];\n    assetsToDispose = [];\n    var data /*: HMRMessage */ = JSON.parse(event.data);\n    if (data.type === 'update') {\n      // Remove error overlay if there is one\n      if (typeof document !== 'undefined') {\n        removeErrorOverlay();\n      }\n      let assets = data.assets.filter(asset => asset.envHash === HMR_ENV_HASH);\n\n      // Handle HMR Update\n      let handled = assets.every(asset => {\n        return asset.type === 'css' || asset.type === 'js' && hmrAcceptCheck(module.bundle.root, asset.id, asset.depsByBundle);\n      });\n      if (handled) {\n        console.clear();\n\n        // Dispatch custom event so other runtimes (e.g React Refresh) are aware.\n        if (typeof window !== 'undefined' && typeof CustomEvent !== 'undefined') {\n          window.dispatchEvent(new CustomEvent('parcelhmraccept'));\n        }\n        await hmrApplyUpdates(assets);\n\n        // Dispose all old assets.\n        let processedAssets = {} /*: {|[string]: boolean|} */;\n        for (let i = 0; i < assetsToDispose.length; i++) {\n          let id = assetsToDispose[i][1];\n          if (!processedAssets[id]) {\n            hmrDispose(assetsToDispose[i][0], id);\n            processedAssets[id] = true;\n          }\n        }\n\n        // Run accept callbacks. This will also re-execute other disposed assets in topological order.\n        processedAssets = {};\n        for (let i = 0; i < assetsToAccept.length; i++) {\n          let id = assetsToAccept[i][1];\n          if (!processedAssets[id]) {\n            hmrAccept(assetsToAccept[i][0], id);\n            processedAssets[id] = true;\n          }\n        }\n      } else fullReload();\n    }\n    if (data.type === 'error') {\n      // Log parcel errors to console\n      for (let ansiDiagnostic of data.diagnostics.ansi) {\n        let stack = ansiDiagnostic.codeframe ? ansiDiagnostic.codeframe : ansiDiagnostic.stack;\n        console.error('🚨 [parcel]: ' + ansiDiagnostic.message + '\\n' + stack + '\\n\\n' + ansiDiagnostic.hints.join('\\n'));\n      }\n      if (typeof document !== 'undefined') {\n        // Render the fancy html overlay\n        removeErrorOverlay();\n        var overlay = createErrorOverlay(data.diagnostics.html);\n        // $FlowFixMe\n        document.body.appendChild(overlay);\n      }\n    }\n  };\n  if (ws instanceof WebSocket) {\n    ws.onerror = function (e) {\n      if (e.message) {\n        console.error(e.message);\n      }\n    };\n    ws.onclose = function () {\n      console.warn('[parcel] 🚨 Connection to the HMR server was lost');\n    };\n  }\n}\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n    console.log('[parcel] ✨ Error resolved');\n  }\n}\nfunction createErrorOverlay(diagnostics) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n  let errorHTML = '<div style=\"background: black; opacity: 0.85; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; font-family: Menlo, Consolas, monospace; z-index: 9999;\">';\n  for (let diagnostic of diagnostics) {\n    let stack = diagnostic.frames.length ? diagnostic.frames.reduce((p, frame) => {\n      return `${p}\n<a href=\"/__parcel_launch_editor?file=${encodeURIComponent(frame.location)}\" style=\"text-decoration: underline; color: #888\" onclick=\"fetch(this.href); return false\">${frame.location}</a>\n${frame.code}`;\n    }, '') : diagnostic.stack;\n    errorHTML += `\n      <div>\n        <div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">\n          🚨 ${diagnostic.message}\n        </div>\n        <pre>${stack}</pre>\n        <div>\n          ${diagnostic.hints.map(hint => '<div>💡 ' + hint + '</div>').join('')}\n        </div>\n        ${diagnostic.documentation ? `<div>📝 <a style=\"color: violet\" href=\"${diagnostic.documentation}\" target=\"_blank\">Learn more</a></div>` : ''}\n      </div>\n    `;\n  }\n  errorHTML += '</div>';\n  overlay.innerHTML = errorHTML;\n  return overlay;\n}\nfunction fullReload() {\n  if ('reload' in location) {\n    location.reload();\n  } else if (extCtx && extCtx.runtime && extCtx.runtime.reload) {\n    extCtx.runtime.reload();\n  }\n}\nfunction getParents(bundle, id) /*: Array<[ParcelRequire, string]> */{\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n  var parents = [];\n  var k, d, dep;\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || Array.isArray(dep) && dep[dep.length - 1] === id) {\n        parents.push([bundle, k]);\n      }\n    }\n  }\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n  return parents;\n}\nfunction updateLink(link) {\n  var href = link.getAttribute('href');\n  if (!href) {\n    return;\n  }\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    if (link.parentNode !== null) {\n      // $FlowFixMe\n      link.parentNode.removeChild(link);\n    }\n  };\n  newLink.setAttribute('href',\n  // $FlowFixMe\n  href.split('?')[0] + '?' + Date.now());\n  // $FlowFixMe\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      // $FlowFixMe[incompatible-type]\n      var href /*: string */ = links[i].getAttribute('href');\n      var hostname = getHostname();\n      var servedFromHMRServer = hostname === 'localhost' ? new RegExp('^(https?:\\\\/\\\\/(0.0.0.0|127.0.0.1)|localhost):' + getPort()).test(href) : href.indexOf(hostname + ':' + getPort());\n      var absolute = /^https?:\\/\\//i.test(href) && href.indexOf(location.origin) !== 0 && !servedFromHMRServer;\n      if (!absolute) {\n        updateLink(links[i]);\n      }\n    }\n    cssTimeout = null;\n  }, 50);\n}\nfunction hmrDownload(asset) {\n  if (asset.type === 'js') {\n    if (typeof document !== 'undefined') {\n      let script = document.createElement('script');\n      script.src = asset.url + '?t=' + Date.now();\n      if (asset.outputFormat === 'esmodule') {\n        script.type = 'module';\n      }\n      return new Promise((resolve, reject) => {\n        var _document$head;\n        script.onload = () => resolve(script);\n        script.onerror = reject;\n        (_document$head = document.head) === null || _document$head === void 0 || _document$head.appendChild(script);\n      });\n    } else if (typeof importScripts === 'function') {\n      // Worker scripts\n      if (asset.outputFormat === 'esmodule') {\n        return __parcel__import__(asset.url + '?t=' + Date.now());\n      } else {\n        return new Promise((resolve, reject) => {\n          try {\n            __parcel__importScripts__(asset.url + '?t=' + Date.now());\n            resolve();\n          } catch (err) {\n            reject(err);\n          }\n        });\n      }\n    }\n  }\n}\nasync function hmrApplyUpdates(assets) {\n  global.parcelHotUpdate = Object.create(null);\n  let scriptsToRemove;\n  try {\n    // If sourceURL comments aren't supported in eval, we need to load\n    // the update from the dev server over HTTP so that stack traces\n    // are correct in errors/logs. This is much slower than eval, so\n    // we only do it if needed (currently just Safari).\n    // https://bugs.webkit.org/show_bug.cgi?id=137297\n    // This path is also taken if a CSP disallows eval.\n    if (!supportsSourceURL) {\n      let promises = assets.map(asset => {\n        var _hmrDownload;\n        return (_hmrDownload = hmrDownload(asset)) === null || _hmrDownload === void 0 ? void 0 : _hmrDownload.catch(err => {\n          // Web extension fix\n          if (extCtx && extCtx.runtime && extCtx.runtime.getManifest().manifest_version == 3 && typeof ServiceWorkerGlobalScope != 'undefined' && global instanceof ServiceWorkerGlobalScope) {\n            extCtx.runtime.reload();\n            return;\n          }\n          throw err;\n        });\n      });\n      scriptsToRemove = await Promise.all(promises);\n    }\n    assets.forEach(function (asset) {\n      hmrApply(module.bundle.root, asset);\n    });\n  } finally {\n    delete global.parcelHotUpdate;\n    if (scriptsToRemove) {\n      scriptsToRemove.forEach(script => {\n        if (script) {\n          var _document$head2;\n          (_document$head2 = document.head) === null || _document$head2 === void 0 || _document$head2.removeChild(script);\n        }\n      });\n    }\n  }\n}\nfunction hmrApply(bundle /*: ParcelRequire */, asset /*:  HMRAsset */) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (asset.type === 'css') {\n    reloadCSS();\n  } else if (asset.type === 'js') {\n    let deps = asset.depsByBundle[bundle.HMR_BUNDLE_ID];\n    if (deps) {\n      if (modules[asset.id]) {\n        // Remove dependencies that are removed and will become orphaned.\n        // This is necessary so that if the asset is added back again, the cache is gone, and we prevent a full page reload.\n        let oldDeps = modules[asset.id][1];\n        for (let dep in oldDeps) {\n          if (!deps[dep] || deps[dep] !== oldDeps[dep]) {\n            let id = oldDeps[dep];\n            let parents = getParents(module.bundle.root, id);\n            if (parents.length === 1) {\n              hmrDelete(module.bundle.root, id);\n            }\n          }\n        }\n      }\n      if (supportsSourceURL) {\n        // Global eval. We would use `new Function` here but browser\n        // support for source maps is better with eval.\n        (0, eval)(asset.output);\n      }\n\n      // $FlowFixMe\n      let fn = global.parcelHotUpdate[asset.id];\n      modules[asset.id] = [fn, deps];\n    } else if (bundle.parent) {\n      hmrApply(bundle.parent, asset);\n    }\n  }\n}\nfunction hmrDelete(bundle, id) {\n  let modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (modules[id]) {\n    // Collect dependencies that will become orphaned when this module is deleted.\n    let deps = modules[id][1];\n    let orphans = [];\n    for (let dep in deps) {\n      let parents = getParents(module.bundle.root, deps[dep]);\n      if (parents.length === 1) {\n        orphans.push(deps[dep]);\n      }\n    }\n\n    // Delete the module. This must be done before deleting dependencies in case of circular dependencies.\n    delete modules[id];\n    delete bundle.cache[id];\n\n    // Now delete the orphans.\n    orphans.forEach(id => {\n      hmrDelete(module.bundle.root, id);\n    });\n  } else if (bundle.parent) {\n    hmrDelete(bundle.parent, id);\n  }\n}\nfunction hmrAcceptCheck(bundle /*: ParcelRequire */, id /*: string */, depsByBundle /*: ?{ [string]: { [string]: string } }*/) {\n  if (hmrAcceptCheckOne(bundle, id, depsByBundle)) {\n    return true;\n  }\n\n  // Traverse parents breadth first. All possible ancestries must accept the HMR update, or we'll reload.\n  let parents = getParents(module.bundle.root, id);\n  let accepted = false;\n  while (parents.length > 0) {\n    let v = parents.shift();\n    let a = hmrAcceptCheckOne(v[0], v[1], null);\n    if (a) {\n      // If this parent accepts, stop traversing upward, but still consider siblings.\n      accepted = true;\n    } else {\n      // Otherwise, queue the parents in the next level upward.\n      let p = getParents(module.bundle.root, v[1]);\n      if (p.length === 0) {\n        // If there are no parents, then we've reached an entry without accepting. Reload.\n        accepted = false;\n        break;\n      }\n      parents.push(...p);\n    }\n  }\n  return accepted;\n}\nfunction hmrAcceptCheckOne(bundle /*: ParcelRequire */, id /*: string */, depsByBundle /*: ?{ [string]: { [string]: string } }*/) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (depsByBundle && !depsByBundle[bundle.HMR_BUNDLE_ID]) {\n    // If we reached the root bundle without finding where the asset should go,\n    // there's nothing to do. Mark as \"accepted\" so we don't reload the page.\n    if (!bundle.parent) {\n      return true;\n    }\n    return hmrAcceptCheck(bundle.parent, id, depsByBundle);\n  }\n  if (checkedAssets[id]) {\n    return true;\n  }\n  checkedAssets[id] = true;\n  var cached = bundle.cache[id];\n  assetsToDispose.push([bundle, id]);\n  if (!cached || cached.hot && cached.hot._acceptCallbacks.length) {\n    assetsToAccept.push([bundle, id]);\n    return true;\n  }\n}\nfunction hmrDispose(bundle /*: ParcelRequire */, id /*: string */) {\n  var cached = bundle.cache[id];\n  bundle.hotData[id] = {};\n  if (cached && cached.hot) {\n    cached.hot.data = bundle.hotData[id];\n  }\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData[id]);\n    });\n  }\n  delete bundle.cache[id];\n}\nfunction hmrAccept(bundle /*: ParcelRequire */, id /*: string */) {\n  // Execute the module.\n  bundle(id);\n\n  // Run the accept callbacks in the new version of the module.\n  var cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      var assetsToAlsoAccept = cb(function () {\n        return getParents(module.bundle.root, id);\n      });\n      if (assetsToAlsoAccept && assetsToAccept.length) {\n        assetsToAlsoAccept.forEach(function (a) {\n          hmrDispose(a[0], a[1]);\n        });\n\n        // $FlowFixMe[method-unbinding]\n        assetsToAccept.push.apply(assetsToAccept, assetsToAlsoAccept);\n      }\n    });\n  }\n}","/*\n* tgEPG web component\n*\n* Copyright (c) 2020-2021 Thomas Geißenhöner <quietcry@gmx.de>\n* Under MIT License (http://www.opensource.org/licenses/mit-license.php)\n*\n*\n*/\n\nimport { tgEpgCard } from \"./tgepg-card-class.js\";\n\n\ncustomElements.define('tgepg-card', tgEpgCard);\nwindow.customCards = window.customCards || [];\nwindow.customCards.push({\ntype: \"tgepg-card\",\nname: \"tgepg-card\",\ndescription: \"epg card\"\n});","\nimport { tgControls } from \"./lib/tgControls.js\";\nimport { tgEpgCardDefaults } from \"./defaults_Card.js\"\nimport { tgEpgDataService } from \"./tgepg-dataWorker.js\"\n//import { tgControlsHelperBasic } from \"./lib/tgControls.helper_basic.js\";\n\nimport './lib/epgElements/tgEpg.timebar.js';\nimport './lib/epgElements/tgEpg.channelList.js';\nimport './lib/epgElements/tgEpg.channelListItem.js';\nimport './lib/epgElements/tgEpg.progList.js';\nimport './lib/epgElements/tgEpg.progItem.js';\n//import './lib/tgControls.FloatingMenu.js';\nimport './lib/tgControls.Scrollbar.js';\nimport './lib/epgElements/tgEpg.tooltipp.js';\n\n\nexport class tgEpgCard extends tgControls\n\t{\n\tthisIsClass=true\t\t\n\t// private properties\n\t_config;\n\t_hass;\n\t_elements = {};\n\t_lastUpdateHass=0;\n\t_EPG=null;\n\t_isConstructed=false;\n\t_entities={}\n\t_profile={}\n\t_configProfile={}\n\t_user={name:null, id:null}\n\t_enable_FloatingMnu=false\n\t_enable_TimeBar=true\n\t_enable_Scrollbar=true\n\t_enable_DataWorker=true\n\t_enable_DataService=false\n\t_enable_channelList=true\n\t_enable_progList=true\n\t_enable_timemarker=true\n\t_enable_tooltipp=true\n\t_enable_epgInfo=true\n\t_dataLoopsAllowed=-1\n\t// lifecycle\n\tconstructor(mode=\"open\")\n\t\t{\n\t\tsuper(mode, new tgEpgCardDefaults());\n\t\tvar now= new Date()\n\t\tthis._info(\"under construction ;-)\", now)\n\t\tvar that=this\n\t\tthis.detectENV()\n\n\t\tif (this._enable_DataWorker)\n\t\t\t{\n\t\t\tfunction startworker () \n\t\t\t\t{\n\t\t\t\tvar workerstringified=\"\"\n\t\t\t\tworkerstringified=workerstringified+\"; \"+ tgEpgDataService.toString()\n\t\t\t\tworkerstringified=workerstringified+\"; \"+workerRunnerAsString() \n\t\t\t\tvar workerBlob = new Blob( [workerstringified], { type:'text/javascript' } );\n\t\t\t\tvar workerBlobUrl = URL.createObjectURL(workerBlob);\n\t\t\t\tthat.dataWorker = new Worker(workerBlobUrl);\n\t\t\t\tthat.dataWorker.onmessage = function(event) \n\t\t\t\t\t{\n\t\t\t\t\tthat.renderChannels(event.data)\n\t\t\t\t\t};\n\t\t\t\tfunction workerRunnerAsString()\n\t\t\t\t\t{\n\t\t\t\t\tvar workerrunner=`\t\n\t\t\t\t\tconst workerclass= new tgEpgDataService(this) \t\n\t\t\t\t\tself.onmessage = function(event) \n\t\t\t\t\t\t{\n\t\t\t\t\t\tworkerclass.addRequest(event.data)\n\t\t\t\t\t\t}\n\t\t\t\t\t`\n\t\t\t\t\treturn workerrunner\t\n\t\t\t\t\t};\n\t\t\t\t};\t\n\t\t\tstartworker()\n\t\t\t}\t\t\t\n\t\telse if (this._enable_DataService)\n\t\t\t{\n\t\t\tthis.dataWorker = new tgEpgDataService (this)\n\t\t\tvar runloop=0\n\t\t\tthis.addEventListener(\"fetchWorkerData\", function(event)\n\t\t\t\t{\n\t\t\t\trunloop++\n\t\t\t\tlet ev = event.detail\n\t\t\t\tconsole.log(\"proglist - todo\", (this._dataLoopsAllowed != -1 && runloop > this._dataLoopsAllowed && !ev?.todolist?.manage))\n\t\t\t\tif (this._dataLoopsAllowed != -1 && runloop > this._dataLoopsAllowed && !ev?.todolist?.manage) return\n\t\t\t\tconsole.log(\"data\", ev)\t\n\t\t\t\tthat.renderChannels(ev)\n\t\t\t\t})\n\t\t\t}\t\n\t\tthis.addEventListener(\"connected\", refreshMe)\n\t\tthis.addEventListener(\"profiled\", refreshMe)\n\t\tthis.addEventListener(\"resize\", refreshMe)\n\t\tthis.addEventListener(\"refresh\", refreshMe)\n\t\tthis.addEventListener(\"rotate\", refreshMe)\n\t\tthis.dependedApps=[]\n\t\tthis.doQueryElements()\n\n\t\tfunction refreshMe(event)\n\t\t\t{\n\t\t\tthat.refresh(event.type)\t\n\t\t\t}\n\t\tthis.connected()\n\t\t}\n\n\trefresh(event=\"\")\n\t\t{\n\t\tvar that=this\n\n\t\tthis._debug(\"event\", event)\t\n\t\tlet connected=this.PROPS.run?.states?.connected||false\n\t\tlet constructed=this.PROPS.run?.states?.constructed||false\n\t\tlet profiled=this.PROPS.run?.states?.profiled||false\n\t\tif (!profiled || !connected || !this.app) return\n\t\tthis.PROPS.run[\"currentProfile\"]=this._extender({}, this.setCurrentProfile(this.PROPS.run))\n\n\t\tif (!constructed)\n\t\t\t{\n\t\t\tthis.init()\t\t\n\t\t\t}\n\n\t\tif (event==\"resize\")\n\t\t\t{\n\t\t\tlet viewport=document.documentElement;\n\t\t\tif (viewport)\n\t\t\t\t{\n//\t\t\t\tthis._info(\"event resize detected\", this.app.offsetHeight || null, viewport.getBoundingClientRect(), this.getBoundingClientRect())\t\n\t\t\t\tthis.PROPS.run[\"appHeight\"]=viewport.getBoundingClientRect().height-this.getBoundingClientRect().top\t-5\t\n\t\t\t\t}\t\n\t\t\t}\t\n\t\tthis.calculate()\n\t\tthis.refreshAppSizeAfterResizeOrInit()\n\t\tthis.updateScrollbars(\"horizontal\" );\n\n\t\t\t\n\t\n\t\t}\n\tcalculate()\n\t\t{\n\t\tlet run=this.PROPS.run\t\n\t\tlet width=parseInt(this.app.clientWidth)-parseInt(run.currentProfile.design.channelRowWidth)\n\t\trun.currentProfile.design[\"scale\"]=width/parseInt(run.currentProfile.design.previewSpan)\n\t\tlet height=parseInt(run.appHeight)||null\n\t\tif (height && height > 0 )\n\t\t\t{\n\t\t\tthis.style.setProperty('--appHeight', `${height}px`);\n\t\t\t}\n\t\trun[\"now\"]= Math.floor(new Date() / 1000);\n\t\tif ( run.min && run.max)\n\t\t\t{\n\t\t\trun[\"scrollOffset\"]=(run.scrollOffsetAbsolute && run.scrollOffsetAbsolute < run.now-run.currentProfile.design.setOfSpan)?\n\t\t\trun.scrollOffsetAbsolute-run.min:run.now-run.min-run.currentProfile.design.setOfSpan\t\n\t\t\trun[\"scrollOffsetAbsolute\"]=run.min+run[\"scrollOffset\"]\n\t\t\t//let min= new Date(run.min*1000).toLocaleDateString(\"de-DE\")\t+ new Date(run.min*1000).toLocaleTimeString(\"de-DE\")\n\t\t\t//let max= new Date(run.max*1000).toLocaleDateString(\"de-DE\")\t+ new Date(run.max*1000).toLocaleTimeString(\"de-DE\")\n\t\t\t//console.log(\"run\", min, max, run.currentProfile.design.setOfSpan)\n\t\t\t}\n\n\t\t}\n\tsetCurrentProfile(run)\n\t\t{\n\t\tvar that=this\t\n\t\tlet userprofile=(run.username && run.profiles?.users )? run.profiles.users[run.username]||{}:{}\n\t\tlet profile=this._extender({},run.profiles, userprofile)\n\t\tdelete profile.users\n\t\tlet options=profile.options||{}\n\t\tlet design=this._extender({}, profile.design.default)\n\t\t//that._debug(\"setCurrentProfile profile\", profile, design)\n\t\tif (options.useOrientationDetection)\n\t\t\t{\n\t\t\tdesign=this._extender({}, design, getwidthProfile(options.useWidthDetection||false, profile.design[run.orientationObserver.orientation]))\t\n\t\t\t}\n\t\telse\n\t\t\t{\n\t\t\tdesign=this._extender({}, design, getwidthProfile(options.useWidthDetection||false, profile.design))\n\t\t\t}\n\t\tprofile[\"design\"]=design\n\t\tlet keys=Object.keys(profile)\n\t\tfor (let key of keys)\n\t\t\t{\n\t\t\tif \t(![\"design\", \"dataWorker\", \"options\"].includes(key))\n\t\t\t\t{\n\t\t\t\tdelete profile[key]\t\n\t\t\t\t}\n\t\t\t}\n\t\tkeys=Object.keys(profile.design)\n\t\tfor (let key of keys)\n\t\t\t{\n\t\t\tif \t(key.startsWith(\"dw_\"))\n\t\t\t\t{\n\t\t\t\tlet newKey=\tkey.slice(3)\n\t\t\t\tif (! profile.dataWorker) profile[\"dataWorker\"]={}\n\t\t\t\tprofile.dataWorker[newKey]=profile.design[key]\n\t\t\t\tdelete profile.design[key]\n\t\t\t\tthat._debug(\"setCurrentProfile key\", newKey)\n\t\t\t\t}\n\t\t\tif \t(key.startsWith(\"op_\"))\n\t\t\t\t{\n\t\t\t\tlet newKey=\tkey.slice(3)\n\t\t\t\tif (! profile.options) profile[\"options\"]={}\n\t\t\t\tprofile.options[newKey]=profile.design[key]\n\t\t\t\tdelete profile.design[key]\n\t\t\t\tthat._debug(\"setCurrentProfile key\", newKey)\n\t\t\t\t}\n\t\t\t}\n\n\t\tthat._debug(\"setCurrentProfile profile2\", profile)\n\t\treturn profile\n\n\t\tfunction getwidthProfile(yesNo, profile)\n\t\t\t{\n\t\t\tlet p=that._extender({}, profile.default)\n\t\t\tlet sizes=[]\n\t\t\tlet noSize={}\n\t\t\tlet width=that.app.clientWidth;\n\t\t\tlet keys=Object.keys(profile)\n\t\t\tfor ( let key of keys)\n\t\t\t\t{\n\t\t\t\tif (key.match(/^_\\d.*$/))\n\t\t\t\t\t{\n\t\t\t\t\tsizes.push(parseInt(key.slice(1)))\t\n\t\t\t\t\t}\n\t\t\t\tif ( key !== \"default\" && key !== \"portait\" && key !== \"landscape\")\t\n\t\t\t\t\t{\n\t\t\t\t\tnoSize[key]=profile[key]\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\tsizes.sort()\n\t\t\tlet detectedSize=null\t\n\t\t\tif (yesNo)\n\t\t\t\t{\n\t\t\t\tfor (let size of sizes)\n\t\t\t\t\t{\n\t\t\t\t\tif (size<width) detectedSize=size\n\t\t\t\t\t}\n\t\t\t\tif (detectedSize) \n\t\t\t\t\t{\n\t\t\t\t\tp=that._extender(p, profile[`_${detectedSize}`])\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\tif (!detectedSize) p=that._extender(p, noSize)\n\t\t\treturn p\n\t\t\t}\n\t\t}\n\t//#########################################################################################################\n\t//## updateScrollbars()\n\t//## richtet die Scrollbars ein und hält sie aktuell\n\t//##\n\t//##\n\t//#########################################################################################################\n\tupdateScrollbars(direction=\"\", scrollwidth=null, initiator=\"scrollbar\")\n\t\t{\n\t\tif (! this._enable_Scrollbar)\treturn\n\t\tvar that=this;\n\t\tswitch (direction)\n\t\t\t{\n\t\t\tcase \"horizontal\":\n\t\t\t\tif (scrollwidth === null)\n\t\t\t\t\t{\n\t\t\t\t\tif ( !that.PROPS.run.scrollOffset) return\t\n\t\t\t\t\t//console.debug(\"scroller\", this.PROPS.run)\t\n\t\t\t\t\t//that.PROPS.run.previewOffset=(that.PROPS.run.previewOffset)?that.PROPS.run.previewOffset:that.PROPS.run.now-that.PROPS.run._design.design_timeFrameStart\n\t\t\t\t\tscrollwidth=that.PROPS.run.scrollOffset*that.PROPS.run.currentProfile.design.scale\n\t\t\t\t\t//console.log(\"scroller\",scrollwidth, that.PROPS.run.scrollOffset, that.PROPS.run.currentProfile.design.scale)\n\t\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\tthat.PROPS.run.scrollOffset=(scrollwidth/that.PROPS.run.currentProfile.design.scale)\n\t\t\t\t\tthat.PROPS.run.scrollOffsetAbsolute=that.PROPS.run.min+that.PROPS.run.scrollOffset\n\t\t\t\t\t}\n\t\t\t\tif (initiator !== \"app\") this.programBox.scrollLeft =scrollwidth\n\t\t\t\tthis.timeBar.scrollLeft =scrollwidth\n\t\t\t\tbreak;\n\t\t\tcase \"vertical\":\n\t\t\t\tif (initiator !== \"app\") this.progListApp.scrollTop =scrollwidth\n\t\t\t\tthis.channelBox.scrollTop =scrollwidth\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\t\t\t\t\n\t//#########################################################################################################\n\t//## renderChannels()\n\t//## richtet die channelList und die ProgList ein und stößt die Aktualisierung an\n\t//##\n\t//##\n\t//#########################################################################################################\n\trenderChannels(data)\n\t\t{\n\t\tvar that = this\n\t\tif (!this.app) return\n\t\t//console.info(\"rendering\", this.channelListApp, this.progListApp)\n\t\tif (data.todolist)\n\t\t\t{\n\t\t\tlet keys=Object.keys(data.todolist).filter((key) => key.startsWith(\"d\")).sort()\n\t\t\tfor (let key of keys)\n\t\t\t\t{\n\t\t\t\tfor ( let index of data.todolist[key])\n\t\t\t\t\t{\n\t\t\t\t\tif (this.channelListApp) this.channelListApp.deleteChannel=index\n\t\t\t\t\tif (this.progListApp)    this.progListApp.deleteChannel=index\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\tlet keys=Object.keys(data.data)\n\n\t\tfor (let key of keys)\n\t\t\t{\n\t\t\tif (data.data[key].data )\n\t\t\t\t{\t\t\n\t\t\t\tif (this.channelListApp) this.channelListApp.setChannel=data.data[key]\n\t\t\t\tif (this.progListApp) this.progListApp.setChannel=data.data[key]\n\t\t\t\t}\n\t\t\t}\n\t\tif (data.todolist)\n\t\t\t{\n\t\t\tlet keys=Object.keys(data.todolist).filter((key) => key.startsWith(\"m\")).sort()\n\t\t\tlet refresh=false\n\t\t\tfor (let key of keys)\n\t\t\t\t{\n\t\t\t\tlet indexes=Object.keys(data.data)\t\n\t\t\t\tfor ( let index of data.todolist[key])\n\t\t\t\t\t{\n\t\t\t\t\tif (this.progListApp)    this.progListApp.setChannel=data.data[index]\n\t\t\t\t\t}\t\t\t\t\t\n\t\t\t\t}\n\t\t\tkeys=Object.keys(data.todolist).filter((key) => key.startsWith(\"c\")).sort()\n\n\t\t\tfor (let key of keys)\n\t\t\t\t{\n\t\t\t\tlet config=\tdata.todolist[key][0]||false\n\t\t\t\tif (this._getType(config, \"hash\"))\n\t\t\t\t\t{\n\t\t\t\t\trefresh=true\n\t\t\t\t\tthis.PROPS.run=this._extender(this.PROPS.run, config)\n\t\t\t\t\t}\t\n\t\t\t\t}\n\t\t\tif (refresh)\n\t\t\t\t{\n\t\t\t\tvar ev = new CustomEvent('refresh');\n\t\t\t\tthis.dispatchEvent(ev);\n\t\t\t\t\t\t\t\n\t\t\t\t}\t\n\t\t\t}\n\n\t\treturn;\n\n\t\t}\n\n\tdoQueryElements()\n\t\t{\n\t\n\t\tthis.card\t\t\t= this._shadowRoot.querySelector(\"ha-card\") || this._shadowRoot\n\t\tthis.app \t\t\t= this.card.querySelector('[name=\"app\"]');\n\t\tif (this.app)\n\t\t\t{\n\t\t\tthis.timeBar \t\t= this.app.querySelector('[name=\"timeBar\"]');\n\t\t\tthis.timeBarApp \t= null;\n\t\t\tthis.superButton \t= this.app.querySelector('[name=\"superbutton\"]');\n\t\t\tthis.channelBox \t= this.app.querySelector('[name=\"channelBox\"]');\n\t\t\tthis.programBox \t= this.app.querySelector('[name=\"programBox\"]');\n\t\t\tthis.epgOuterBox \t= this.app.querySelector('[name=\"epgOutBox\"]');\n\t\t\tthis.scrollbarX\t\t= this._shadowRoot.querySelector('.tgcontrolscrollbarx');;\n\t\t\tthis.scrollbarY \t= null;\n\t\t\tthis.floatingMenu \t= this._shadowRoot.querySelector('tg-floatingMenu');\n\t\t\tthis.workerSource \t= this._shadowRoot.querySelector('[name=\"worker\"]');\n\t\t\tthis.epgTooltipp\t= null\n\t\t\t}\n\t\t//console.debug(\"query\", this.channelBox || \"none\")\n\t\t// this.buttonCell = this.shadowRoot.querySelector('[name=\"buttonCell\"]');\n\n\t\t// this.epgBox = this.shadowRoot.querySelector('[name=\"epgBox\"]');\n\t\t// this.channelBox = this.shadowRoot.querySelector('[name=\"channelBox\"]');\n\t\t// this.programBox = this.shadowRoot.querySelector('[name=\"programBox\"]');\n\t\t// this.channelListApp = null;\n\t\t// this.progListApp = null;\n\t\t// this.optionBox = this.shadowRoot.querySelector('[name=\"optionBox\"]');\n\t\t// this.scrollbarX = this.shadowRoot.querySelector('.tgcontrolscrollbarx');;\n\t\t// this.timeRow = this.shadowRoot.querySelector('[name=\"timeRow\"]');\n\t\t// this.timeMarker = that.shadowRoot.querySelector('[name=\"timemarker\"]');\n\t\t// this.timebar = card.querySelector(\".error\")\n\t\t// this._elements.dl = card.querySelector(\".dl\")\n\t\t// this._elements.topic = card.querySelector(\".dt\")\n\t\t// this._elements.toggle = card.querySelector(\".toggle\")\n\t\t// this._elements.value = card.querySelector(\".value\")\n\t\t}\n\t\t\t\n\tdetectENV()\n\t\t{\n\t\tthis.PROPS.run[\"ENV\"]={context:\"panel\", mobile:false}\n\t\t\t\n\t\t\n\t\t}\t\n\tmanageEPGInfoEvent(event)\n\t\t{\n\t\tlet details=event.detail\n\t\tif (this.epgTooltipp && this._enable_tooltipp)\n\t\t\t{\n\t\t\tthis.epgTooltipp.data=event.detail\t\n\t\t\t}\n\t\t}\t\t\n\t//######################################################################################################################################\n\t//init()\n\t//prüft die Umgebung und passt Parameter entsprechend an\n\t//\n\t//######################################################################################################################################\n\tinit()\n\t\t{\n\t\tlet that=this;\n\t\tlet test;\n\t\tif (this._enable_TimeBar) \t\tactivateTimeBar.call(this);\n\t\tif (this._enable_FloatingMnu) \tactivateFloatingMenu.call(this);\n\t\tif (this._enable_Scrollbar) \tactivateScrollbars.call(this)\n\t\tif (this._enable_channelList)\tactivateChannellist.call(this)\n\t\tif (this._enable_progList)\t\tactivateProglist.call(this)\n\t\tif (this._enable_timemarker)    activateTimemarker.call(this)\n\t\tif (this._enable_tooltipp || this._enable_epgInfo)    \tactivateToolTipp.call(this)\n\n\n\t\tlet viewport=document.documentElement;\n\t\tif (viewport) this._resizeObserver.observe(viewport)\n\n\n\t\tthis.PROPS.run[\"states\"][\"constructed\"]=true\n\t\treturn;\n\t\t\t\t\n\t\tfunction activateToolTipp()\n\t\t\t{\n\t\t\tthis.progListApp.enableToolTipp = this._enable_tooltipp\n\t\t\tthis.epgTooltipp=this.epgOuterBox.querySelector('tgepg-tooltipp');\n\t\t\tif (! this.epgTooltipp)\n\t\t\t\t{\n\t\t\t\tthis.epgTooltipp=document.createElement(\"tgepg-tooltipp\");\n\t\t\t\tthis.epgTooltipp.classList.add(\"hide\");\n\t\t\t\tthis.epgTooltipp.setAttribute(\"name\",\"tgEpgTooltipp\");\n\t\t\t\tthis.epgOuterBox.appendChild(this.epgTooltipp);\n\t\t\t\tthis.epgTooltipp.master=this.epgOuterBox\n\t\t\t\tthis.epgTooltipp.restrictions={left:this.channelBox.getBoundingClientRect().width}\n\t\t\t\t}\n\t\n\t\t\tif (this._enable_tooltipp || this._enable_epgInfo)\n\t\t\t\t{\n\t\t\t\tthis.epgOuterBox.addEventListener(\"userInteraction\", function(ev){that.manageEPGInfoEvent.call(that,ev)}, false);\t\n\t\t\t\t}\n\t\t\t}\n\t\tfunction activateTimemarker()\n\t\t\t{\n\t\t\tthis.progListApp.enableTimemarker = this._enable_timemarker\n\t\t\t}\n\t\tfunction activateChannellist()\n\t\t\t{\n\t\t\tthis.channelListApp=this.channelBox.querySelector('tgepg-channellist');\n\t\t\tif (! this.channelListApp)\n\t\t\t\t{\n\t\t\t\tthis.channelListApp=document.createElement(\"tgepg-channellist\");\n\t\t\t\tthis.channelBox.appendChild(this.channelListApp);\n\t\t\t\tthis.dependedApps.push({app:this.channelListApp});\n\t\t\t\t}\n\t\t\t}\n\t\tfunction activateProglist()\n\t\t\t{\n\t\t\tthis.progListApp=this.programBox.querySelector('tgepg-proglist');\n\t\t\tif (! this.progListApp)\n\t\t\t\t{\n\t\t\t\tthis.progListApp=document.createElement(\"tgepg-proglist\");\n\t\t\t\tthis.progListApp.classList.add(\"tgEpgProgList\", \"greedyH\");\n\t\t\t\tthis.progListApp.setAttribute(\"name\",\"tgEpgProgList\");\n\t\t\t\t//console.debug(\"renderer\", this.PROPS.run)\n\t\t\t\t//this.progListApp.scale=this.PROPS.run.currentProfile.scale||1;\n\t\t\t\tthis.progListApp.supermaster=this\n\t\t\t\tthis.programBox.appendChild(this.progListApp);\n\t\t\t\tthis.dependedApps.push({app:this.progListApp});\n\t\t\t\t}\n\t\t\t}\n\t\tfunction activateTimeBar()\n\t\t\t{\n\t\t\tvar that=this;\n\t\t\tlet tb=that.timeBar.querySelector('tgepg-timebar')\n\t\t\tif (! tb)\n\t\t\t\t{\n\t\t\t\ttb=document.createElement(\"tgepg-timebar\")\n\t\t\t\tthat.timeBar.appendChild(tb)\n\t\t\t\ttb.classList.add(\"greedy\")\n\t\t\t\tthat.dependedApps.push(tb)\n\t\t\t\t}\n\t\t\tthat.timeBarApp\t= tb\n\t\t\t}\n\n\t\tfunction activateFloatingMenu()\n\t\t\t{\n\t\t\tvar that=this;\n\t\t\t//console.log(\"floatingMenu\",this.floatingMenu)\n\t\t\tthis.floatingMenu.classList.remove(\"hide\")\n\t\t\tif ( (this.floatingMenu) && (! this.floatingMenu.hasAttribute(\"hasConnectedHandler\")))\n\t\t\t\t{\n\t\t\t\t//console.log(\"floatingMenu2\",this.floatingMenu)\n\t\t\t\tthis.floatingMenu.setAttribute(\"stylesrc\", \"lib/tgControls.component.css;lib/tgFloatingMenu/tgFloatingMenu.component.css\");\n\t\t\t\tthis.floatingMenu.setAttribute(\"hasConnectedHandler\", \"1\");\n\t\t\t\tif (this.floatingMenu.connect)\n\t\t\t\t\t{\n\t\t\t\t\tthat.manageFloatingMenu(\"connected\");\n\t\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\tthis.floatingMenu.addEventListener(\"connected\", function(event)\n\t\t\t\t\t\t{\n\t\t\t\t\t\tthat.manageFloatingMenu(\"connected\");\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\tfunction activateScrollbars()\n\t\t\t{\n\t\t\tvar that=this\n\t\t\tthis.scrollbarX.classList.remove(\"hide\")\n\t\t\tthis.scrollbarX.addEventListener(\"scrolled\",\n\t\t\t\tfunction(event)\n\t\t\t\t\t{\n\t\t\t\t\tthat.updateScrollbars(\"horizontal\", this.scrollLeft, \"app\");\n\t\t\t\t\t});\n\t\t\tthis.dependedApps.push({app:this.scrollbarX});\n\t\t\t}\n\n\t\t}\n\trefreshAppSizeAfterResizeOrInit()\n\t\t{\n\t\tthis.setCssProps(this.PROPS.run.currentProfile.design)\n\t\tif (this.progListApp && this.PROPS.run.min)\n\t\t\t{\n\t\t\tthis.progListApp.timelinestart= parseInt(this.PROPS.run.min)\n\t\t\t//this.progListApp.scale= parseFloat(profile.scale);\n\t\t\t//console.log(\"progListApp attributeChangedCallback\", this.progListApp)\t\n\t\t\t}\n\t\tif (this.timeBarApp && this.PROPS.run.min)\n\t\t\t{\n\t\t\t//console.log(\"profile\", this.PROPS.run)\t\n\t\t\tthis.timeBarApp.timelinestart= parseInt(this.PROPS.run.min)\n\t\t\tthis.timeBarApp.timelineend= parseInt(this.PROPS.run.max)\n\t\t\t//this.progListApp.scale= parseFloat(profile.scale);\n\t\t\t//console.log(\"progListApp attributeChangedCallback\", this.progListApp)\t\n\t\t\t}\n\t\t//this.renderSubApp()\n\t\t//this._debug(\"refreshAppSizeAfterResizeOrInit\")\n\t\t// this.style.setProperty('--first-row-height', parseInt(this.PROPS.run.firstRowHeight)+\"px\");\n\t\t// this.style.setProperty('--first-col-width', parseInt(this.PROPS.run.firstColWidth)+\"px\");\n\t\t// this.style.setProperty('--channelRowHeight', parseInt(this.PROPS.run.channelRowHeight)+\"px\");\n\t\t// this.style.setProperty('--scale', parseFloat(this.PROPS.run._design.design_scale));\n\n\t\t// // gib Attribute weiter\n\t\t// \tvar keys=Object.keys(this.PROPS.run);\n\t\t// \tfor (var k in childElements)\n\t\t// \t\t{\n\t\t// \t\tfor (var i in keys)\n\t\t// \t\t\t{\n\t\t// \t\t\tif (Object.getPrototypeOf(childElements[k]).hasOwnProperty(keys[i]) )\n\t\t// \t\t\t\t{\n\t\t// \t\t\t\tthis._debug(\"set in\", childElements[k], keys[i], \"to\", this.PROPS.run[keys[i]])\n\t\t// \t\t\t\tchildElements[k][keys[i]]=this.PROPS.run[keys[i]]\n\t\t// \t\t\t\t}\n\t\t// \t\t\t}\n\t\t// \t\t}\n\t\treturn\n\t\t}\n\t//#########################################################################################################\n\t//## setCssProps()\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\tsetCssProps(profile)\n\t\t{\n\t\t//console.warn(profile)\t\n\t\tthis.style.setProperty('--topBarHeight', parseInt(profile.topBarHeight)+\"px\");\n\t\tthis.style.setProperty('--channelRowWidth', parseInt(profile.channelRowWidth)+\"px\");\n\t\tthis.style.setProperty('--channelRowHeight', parseInt(profile.channelRowHeight)+\"px\");\n\t\tthis.style.setProperty('--scale', parseFloat(profile.scale));\n\t\t}\n\t//#########################################################################################################\n\t//## renderSubApp()\n\t//##\n\t//##\n\t//##\n\trenderSubApp(subApp=null)\n\t\t{\n\t\tvar status=\"ok\"\n\t\tvar teststatus=status\n\t\tvar that=this\n\t\tif (this.getType(subApp, \"nodeElement\"))\n\t\t\t{\n\t\t\tteststatus=\"+\"\n\t\t\trender (subApp)\n\t\t\treturn\n\t\t\t}\n\t\telse if(this.getType(subApp, \"string\"))\n\t\t\t{\n\t\t\tteststatus=subApp\n\t\t\t}\n\n\t\tfor (var x in this.dependedApps)\n\t\t\t{\n\t\t\trender (this.dependedApps[x])\n\t\t\t}\n\n\n\t\tfunction render(app)\n\t\t\t{\n\n\t\t\tif (typeof app.render === \"function\")\n\t\t\t\t{\n\t\t\t\trenderme(app)\n\t\t\t\t}\n\t\t\telse if\t(typeof app.app.render === \"function\")\n\t\t\t\t{\n\t\t\t\trenderme(app[\"app\"])\n\t\t\t\tapp[\"status\"]=status\n\t\t\t\t}\n\n\n\t\t\tfunction renderme(me, status=\"ok\")\n\t\t\t\t{\n\n\t\t\t\tif (teststatus !== \"!\")\n\t\t\t\t\t{\n\t\t\t\t\tstatus=that.transferPROPS(that, me)\n\t\t\t\t\t}\n\t\t\t\tif ((teststatus === \"!\") || (teststatus === \"+\" ) || (status !== \"ok\" ))\n\t\t\t\t\t{\n\t\t\t\t\tme.render()\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\tgetEntityID()\n\t\t{\n\t\tent=this._config.entities || []\n\t\treturn this._config.entity;\n\t\t}\n\n\tgetState(ent)\n\t\t{\n\t\treturn this._hass.states[ent]||null;\n\t\t}\n\tgetLastChanged(ent)\n\t\t{\n\t\tent=getState(ent)\t\n\t\treturn ent.last_changed||null;\n\t\t}\n\tgetEntityID(ent)\n\t\t{\n\t\tent=getState(ent)\t\n\t\treturn ent.entity_id||null;\n\t\t}\n\tgetAttributes()\n\t\t{\n\t\t\treturn this.getState().attributes\n\t\t}\n\tsetConfig(config)\n\t\t{\n\t\tthis._info(\"setConfig\")\n\t\tthis._config = config;\n\t\tthis.doCheckConfig();\n\t\tthis.doUpdateConfig();\n\t\t}\n\n\tset hass(hass)\n\t\t{\n\t\tthis._info(\"set hass\", hass)\n\t\tthis.doUpdateHass(hass)\n\t\t}\n\t// jobs\n\tdoCheckConfig()\n\t\t{\n\t\tthis._info(\"doCheckConfig\")\n\t\tsetEntity.apply(this, [this._config.entity, this._config.entities])\n\t\tfunction setEntity()\n\t\t\t{\t\n\t\t\tfor (let i = 0; i < arguments.length; i++) \n\t\t\t\t{\n\t\t\t\tlet arr=(this._getType(arguments[i], \"string\"))?[arguments[i]]:(this._getType(arguments[i], \"array\"))?arguments[i]:[]\n\t\t\t\tfor (let ent of arr)\n\t\t\t\t\t{\n\t\t\t\t\tif (!this._entities[ent])\t\n\t\t\t\t\tthis._entities[ent]={name:ent, state:null, id:null, attributes:{}, last_changed:null}\t\n\t\t\t\t\t}\t\n\t\t\t\t}\n\t\t\t}\n\t\tif (Object.keys(this._entities).length === 0)\n\t\t\t{\n\t\t\tthrow new Error('Please define an entity!');\n\t\t\t}\n\t\telse\n\t\t\tthis._debug(\"ents\", this._entities)\n\t\t}\n\n\tdoUpdateConfig()\n\t\t{\n\t\t// for (let attr in this.getAttributes())\n\t\t// \t{}\n\t\tthis._info(\"doUpdateConfig\")\n\n\t\t}\n\n\tdoUpdateHass(hass)\n\t\t{\n\t\tthis._hass = hass;\n\t\tthis.PROPS.run[\"doUpdateEnts\"]=[]\n\t\tthis._info(\"doUpdateHasss\", hass)\n\t\tvar that=this\n\t\tif (that._hass.user.id !== that.PROPS.run.userid)\n\t\t\t{\n\t\t\tthat.PROPS.run.userid=that._hass.user.id\t\n\t\t\tthat.PROPS.run.username=that._hass.user.name\n\t\t\tthat.setProfile()\t\n\t\t\t}\t\t\n\t\tfor (let ent of Object.keys(this._entities))\n\t\t\t{\n\t\t\tlet state=this.getState(ent)\n\t\t\tthis._debug(\"state:\", state)\n\t\t\tif (!state)\n\t\t\t\t{\n\t\t\t\t// this._elements.error.textContent = `${ent} is unavailable.`;\n\t\t\t\t// this._elements.error.classList.remove(\"hidden\");\n\t\t\t\t// this._elements.dl.classList.add(\"hidden\");\n\t\t\t\t}\n\t\t\telse if (!this.PROPS.run.currentProfile)\n\t\t\t\t{\n\t\t\t\treturn\n\t\t\t\t}\t\n\t\t\telse if (state.last_changed !== that._entities[ent].last_changed)\n\t\t\t\t{\n\t\t\t\tthis._debug(\"doUpdateHass update detected\", that._entities[ent].last_changed, state.last_changed)\t\n\t\t\t\tthat._entities[ent].last_changed=state.last_changed\n\t\t\t\tthat._entities[ent].id=state.entity_id\n\t\t\t\tthat._entities[ent].attributes=that._extender({},state.attributes||{})\n\t\t\t\tif ( !this.PROPS.run.doUpdateEnts.includes(ent))\n\t\t\t\t\t{\n\t\t\t\t\tthis.PROPS.run.doUpdateEnts.push(ent)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\tthis.sendDataToWorker()\t\n\t\tthis._debug(\"doUpdateHass profile\", this.PROPS.run.currentProfile)\t\n\t\t}\n\n\t//######################################################################################################################################\n\t//sendDataToWorker()\n\t//\n\t//\n\t//######################################################################################################################################\n\n\n\tsendDataToWorker(now=new Date())\n\t\t{\n\t\tif ( !this.dataWorker || ( !this._enable_DataWorker && !this._enable_DataService))\treturn;\n\t\tlet interval=100\n\t\tlet maxTimespan=60*1000\n\t\tlet _now=new Date()\n\t\t//console.info(\"sendDataToWorker\", \"prepair\")\t\n\t\tif \t((!this.PROPS.run?.states?.constructed) && (_now-now < maxTimespan))\n\t\t\t{\n\t\t\t//console.info(\"sendDataToWorker\", \"start interval\")\t\n\t\t\tsetInterval(this.sendDataToWorker, interval, now)\n\t\t\treturn\t\n\t\t\t}\n\t\t// else \n\t\t// if ( !this.PROPS.run.doUpdateEnts || this.PROPS.run.doUpdateEnts.length == 0)\n\t\t// \t{\n\t\t// \tconsole.info(\"sendDataToWorker\", \"no updates\")\t\n\t\t// \treturn\t\n\t\t// \t}\n\t\tlet master=(this.epgOuterBox)?`[name=\\\"${this.epgOuterBox.getAttribute(\"name\")}\\\"]`:false\n\t\tlet configs=this._extender({},this.PROPS.run.currentProfile.dataWorker||{}, {adds:this._extender({enableToolTipp:this._enable_tooltipp, master: master}, this.PROPS.run.ENV)})\n\t\tlet ents=[...this.PROPS.run.doUpdateEnts||[]]\n\t\tfor (let ent of ents)\n\t\t\t{\n\t\t\tthis.PROPS.run.doUpdateEnts = this.PROPS.run.doUpdateEnts.filter(function(e) { return e !== ent })\t\t\t\n\t\t\tconfigs=this._extender(configs,{source:ent, state:this.getState(ent)})\n\t\t\tlet workerdata=this._extender(this._entities[ent].attributes, {config:configs})\n\t\t\tthis._info(\"sendDataToWorker doUpdateHass run update\", ent, `${Object.keys(workerdata).length-1} channels`, workerdata)\t\n\t\t\tif (this._enable_DataWorker)\n\t\t\t\t{\n\t\t\t\tconsole.debug(this.dataWorker)\t\n\t\t\t\tthis.dataWorker.postMessage(workerdata)\n\t\t\t\t}\n\t\t\telse if (this._enable_DataService)\n\t\t\t\t{\n\t\t\t\tthis.dataWorker.addRequest(workerdata)\n\t\t\t\t}\n\t\t\t}\n\t\n\n\t\t}\t\n\tsetProfile()\n\t\t{\n\t\tlet width=window.screen.width\n\t\tlet height=window.screen.height\n\t\tvar defaultProfil=this.PROPS.defaults.profiles.default\n\t\tlet design=this._extender({default:defaultProfil.design})\n\t\tfor ( let ori of defaultProfil.designOrientations)\n\t\t\t{\n\t\t\tdesign[ori]=this._extender({default:defaultProfil.design})\n\t\t\t}\n\t\tdesign=this._extender(design, this._config?.profile?.design||{})\n\t\tthis.PROPS.run.profiles=this._extender({},defaultProfil,this._config?.profile||{})\n\t\tthis.PROPS.run.profiles[\"design\"]=design\n\t\tthis.PROPS.run[\"states\"][\"profiled\"] =true;\n\t\tvar ev = new CustomEvent('profiled');\n\t\tthis.dispatchEvent(ev);\n\n\t\t}\n\n\n\n\n\nonClicked() {\n\tthis.doToggle();\n}\n\n// accessors\nisOff() {\n\treturn this.getState().state === 'off';\n}\n\nisOn() {\n\treturn this.getState().state === 'on';\n}\n\ngetHeader() {\n\treturn this._config.header;\n}\n\ngetEntityID() {\n\treturn this._config.entity;\n}\n\n\tgetState(ent) {\n\t//console.debug(\"staa\", ent, this.getEntityID())\n\treturn this._hass.states[this.getEntityID()];\n}\n\n\n\ngetName(ent) {\n\tconst friendlyName = this.getAttributes(ent).friendly_name;\n\treturn friendlyName ? friendlyName : this.getEntityID();\n}\n\n\n\n\n// doListen() {\n// \tthis._elements.dl.addEventListener(\"click\", this.onClicked.bind(this), false);\n// }\n\n\n\ndoToggle() {\n\tthis._hass.callService('input_boolean', 'toggle', {\n\t\tentity_id: this.getEntityID()\n\t});\n}\n\n// configuration defaults\nstatic getStubConfig() {\n\treturn { entity: \"input_boolean.tcwsd\" }\n}\n\t}\n","import { tgControlsHelperBasic } from './tgControls.helper_basic.js';\n\nexport class tgControls extends HTMLElement\n\t{\n\tconstructor(mode=\"open\", defaultClass=null)\n\t\t{\n\t\tsuper(mode);\n\t\tthis.helper = new tgControlsHelperBasic();\n\t\tthis.YES=this.helper.YES; this.NO=this.helper.NO\n\t\t//if (!defaultClass) this._warn(\"defaultClass\", mode, defaultClass)\n\n\t\tthis.defaultClass=(this._getType(defaultClass,'class' )==1)?defaultClass:null;\n\t\t//this._observedAttributes = this.getAttributeNames()\n\t\tvar attr=(this.defaultClass)?this.defaultClass?.properties||{_default:\"wrong\"}:{_default:false}\n\t\tthis._observedAttributes = Object.keys(attr).filter((item) => !item.startsWith('_'))\n\t\tthis._shadowRoot = createShadow.call(this, ((mode) ? mode : \"closed\"));\n\n\t\tthis.PROPS \t=this._extender(\n\t\t\t\t\t{\n\t\t\t\t\tdefaults:\t{msg:{log:false, warn:false, error:false, debug:false, showid:false}\t},\n\t\t\t\t\trun:\t\tthis._extender({},{states:{}, orientationObserver:{orientation:screen.orientation.type.replace(/-.+$/g, \"\"), angle:0, orientationExact:\"\"}, sizeObserver:{dir:\"xy\", width:0,height:0,orientation:\"\" }},tgControls.properties)\n\t\t\t\t\t},\n\t\t\t\t\t(this.defaultClass)?this.defaultClass?.getPROPS||{}:{},\n\t\t\t\t\t{attr:attr}\n\t\t\t\t\t);\n\t\t//console.log(\"PROPS\", this.PROPS)\t\t\t\n\t\tthis.PROPS.run=this._extender(\tthis.PROPS.run,\n\t\t\t\t\t\t\t\t\t\t\tthis.PROPS.defaults,\n\t\t\t\t\t\t\t\t\t\t\t((! mode) || (mode != \"closed\"))?{msg:{debug:true,log:true,error:true,warn:true,showid:true}}:{})\n\n\t\tthis._resizeObserver = new ResizeObserver(changes =>\n\t\t\t{\n\t\t\tfor(const change of changes)\n\t\t\t\t{\n\t\t\t\tswitch (this.PROPS.run.sizeObserver.dir)\n\t\t\t\t\t{\n\t\t\t\t\tcase \"x\":\n\t\t\t\t\t\tif (change.contentRect.width === this.PROPS.run.sizeObserver.width) return;\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase \"y\":\n\t\t\t\t\t\tif (change.contentRect.height === this.PROPS.run.sizeObserver.height) return;\n\t\t\t\t\t\tbreak\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif ((change.contentRect.width === this.PROPS.run.sizeObserver.width) && (change.contentRect.height === this.PROPS.run.sizeObserver.height) )return\n\t\t\t\t\t}\n\t\t\t\tthis.PROPS.run.sizeObserver.width = change.contentRect.width\n\t\t\t\tthis.PROPS.run.sizeObserver.height = change.contentRect.height\n\t\t\t\tthis.PROPS.run.sizeObserver.orientation=(this.PROPS.run.sizeObserver.height < this.PROPS.run.sizeObserver.width)?\"landscape\":\"portait\"\n\t\t\t\tvar ev = new CustomEvent('resize');\n\t\t\t\tthis.dispatchEvent(ev);\n\t\t\t\t}\n\t\t\t})\n\t\t\tscreen.orientation.addEventListener(\"change\", (event) => {\n\t\t\t\tconst type = event.target.type;\n\t\t\t\tconst angle = event.target.angle;\n\t\t\t\tconst orient= type.replace(/-.+$/g, \"\");\n\t\t\t\tthis.PROPS.run.orientationObserver.orientationExact=type\n\t\t\t\tthis.PROPS.run.orientationObserver.angle=angle\n\t\t\t\tif (this.PROPS.run.orientationObserver.orientation !== orient)\n\t\t\t\t\t{\n\t\t\t\t\tvar ev = new CustomEvent('rotate');\n\t\t\t\t\tthat.dispatchEvent(ev);\t\t\n\t\t\t\t\t}\n\t\t\t  });\n\t\t\t\t\t  \n\t\t\tfunction createShadow()\n\t\t\t\t{\n\t\t\t\tlet shadow = this.attachShadow({ mode: mode });\n\t\t\t\tlet template=null\n\n\t\t\t\tif (typeof this.template === 'function')\n\t\t\t\t\t{\n\t\t\t\t\ttemplate = this.template();\n\t\t\t\t\t}\n\t\t\t\telse if (this.defaultClass)\n\t\t\t\t\t{\n\t\t\t\t\ttemplate = ((typeof this.defaultClass.template === \"function\")?this.defaultClass.template():null)||this.defaultClass.constructor.template||null;\n\t\t\t\t\t}\n\t\t\t\tlet tmp = document.createElement(\"div\");\n\t\t\t\ttemplate = (!template) ? null : (Array.isArray(template)) ? template : (typeof template === \"string\") ? [template] : null\n\t\t\t\tif (template)\n\t\t\t\t\t{\n\t\t\t\t\tfor (let elem of template)\n\t\t\t\t\t\t{\n\t\t\t\t\t\tif (typeof elem === \"string\")\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttmp.innerHTML = elem;\n\t\t\t\t\t\t\twhile(tmp.firstChild)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tshadow.appendChild(tmp.removeChild(tmp.lastChild));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttmp.innerHTML=\"\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (typeof elem == \"undefined\")\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tshadow.appendChild(elem);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\treturn shadow;\n\t\t\t\t}\n\n\t\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tstatic get properties()\n\t\t{\n\t\treturn {};\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t// static get observedAttributes() \n\t// \t{\n\t// \tconsole.log(\"this._observedAttributes\", this)\t\n    //     return this._observedAttributes;\n\t// \t}\n\t// static get observedAttributes()\n\t//  \t{\n\t\t\t\n\t// \tlet props=properties;\n\t// \tprops=Object.keys(props);\n\t// \treturn  props;\n  \t//  \t}\n\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tattributeChangedCallback(attrName, oldVal, newVal)\n\t\t{\n\t\tif ( (oldVal === newVal) || (! newVal) || (! this.PROPS.run.hasOwnProperty(attrName)) || (this.PROPS.run[attrName]===newVal)) return false;\n\t\tthis.PROPS.run[attrName]=newVal;\n\n\t\tswitch (attrName)\n\t\t\t{\n\t\t\tcase \"log\":\n\t\t\t\tthis.PROPS.run.msg.log=this.getBoolean(newVal);\n\t\t\t\tbreak;\n\t\t\tcase \"info\":\n\t\t\t\tthis.PROPS.run.msg.info=this.getBoolean(newVal);\n\t\t\t\tbreak;\n\t\t\tcase \"debug\":\n\t\t\t\tthis.PROPS.run.msg.debug=this.getBoolean(newVal);\n\t\t\t\tbreak;\n\t\t\tcase \"error\":\n\t\t\t\tthis.PROPS.run.msg.error=this.getBoolean(newVal);\n\t\t\t\tbreak;\n\t\t\tcase \"warn\":\n\t\t\t\tthis.PROPS.run.msg.warn=this.getBoolean(newVal);\n\t\t\t\tbreak;\n\t\t\tcase \"showid\":\n\t\t\t\tthis.PROPS.run.msg.showid=this.getBoolean(newVal);\n\t\t\t\tbreak;\n\t\t\tcase \"stylesrc\":\n\t\t\t\tif (this._shadowRoot)\n\t\t\t\t\t{\n\t\t\t\t\twhile (this._shadowRoot.querySelector(\"[css_import]\"))\n\t\t\t\t\t\t{\n\t\t\t\t\t\tthis._shadowRoot.querySelector(\"[css_import]\").remove()\n\t\t\t\t\t\t}\n\t\t\t\t\tlet tmp=document.createElement(\"div\");\n\t\t\t\t\tvar styles=newVal.split(\";\")\n\t\t\t\t\tvar innerHTML=\"\"\n\t\t\t\t\tvar that=this\n\t\t\t\t\tstyles.forEach(function(val)\n\t\t\t\t\t\t{\n\t\t\t\t\t\tlet name=that.tagName.toLowerCase().replace(/[-\\.]/g,'');\n\t\t\t\t\t\tlet srcname = val.substring(val.lastIndexOf('/')+1).toLowerCase().replace(/[-\\.]/g,'');\n\t\t\t\t\t\tif ((srcname.startsWith(name)) || (srcname.startsWith(\"common\")) || (srcname.includes(\"tgcontrol\")) )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tinnerHTML+='<style> @import \"'+val+'\"; </style>'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\ttmp.innerHTML=innerHTML;\n\t\t\t\t\twhile(tmp.firstChild)\n\t\t\t\t\t\t{\n\t\t\t\t\t\tlet lastChild=tmp.lastChild\n\t\t\t\t\t\tlastChild.setAttribute(\"css_import\",\"true\")\n\t\t\t\t\t\tthis._shadowRoot.insertBefore(tmp.removeChild(lastChild), this._shadowRoot.firstChild)\n\t\t\t\t\t\t}\n\t\t\t\t\ttmp.remove();\n\t\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"left\":\n\t\t\tcase \"right\":\n\t\t\tcase \"top\":\n\t\t\tcase \"bottom\":\n\t\t\tcase \"width\":\n\t\t\tcase \"height\":\n\t\t\t\tbreak;\n\t\t\t}\n\t\treturn true\n\t\t}\n\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tconnected()\n\t\t{\n\t\t//console.debug(\"is connected - now fire connected event\", this)\n\t\tthis._debug(\"is connected - now fire connected event\")\n\t\tthis.PROPS.run[\"states\"][\"connected\"] =true;\n\t\tvar ev = new CustomEvent('connected');\n\t\tthis.dispatchEvent(ev);\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t// Weiterleitungen an die helper Klasse\n\t//\n\t//######################################################################################################################################\n\n\n\n\t//######################################################################################################################################\n\t_extender() \t\t\t\t{ return this.helper._extender.apply(this.helper, arguments);};\n\t//######################################################################################################################################\n\t_debug()\t\t\t\t\t{ var args = Array.from(arguments); args.unshift(\"debug\"); \tthis.helper._message.apply(this, args);}\n\t//######################################################################################################################################\n\t_info()\t\t\t\t\t\t{ var args = Array.from(arguments); args.unshift(\"info\"); \tthis.helper._message.apply(this, args);}\n\t//######################################################################################################################################\n\t_log()\t\t\t\t\t\t{ var args = Array.from(arguments); args.unshift(\"log\"); \tthis.helper._message.apply(this, args);}\n\t//######################################################################################################################################\n\t_warn()\t\t\t\t\t\t{ var args = Array.from(arguments); args.unshift(\"warn\"); \tthis.helper._message.apply(this, args);}\n\t//######################################################################################################################################\n\t_error()\t\t\t\t\t{ var args = Array.from(arguments); args.unshift(\"error\"); \tthis.helper._message.apply(this, args);}\n\t//######################################################################################################################################\n\t_htmlToElements()\t\t\t{ return this.helper._htmlToElements.apply(this.helper, arguments);}\n\t//######################################################################################################################################\n\t_htmlToElement()\t\t\t\t{ return this.helper._htmlToElement.apply(this.helper, arguments);}\n\t//######################################################################################################################################\n\t_getType()\t\t\t\t\t{ return this.helper._getType.apply(this.helper, arguments);}\n\t//######################################################################################################################################\n\t_get2digit()\t\t\t\t{ return this.helper._get2digit.apply(this.helper, arguments);}\n\t//######################################################################################################################################\n\t_getBoolean()\t\t\t\t{ return this.helper._getBoolean.apply(this.helper, arguments);}\n\t//######################################################################################################################################\n\t_getMasterElement()\t\t\t\t{ return this.helper._getMasterElement.apply(this.helper, arguments);}\n\t//######################################################################################################################################\n\n\n\t}\n","export class tgControlsHelperBasic\n\t{\n\tconstructor(props={})\n\t\t{\n\t\tthis.extendDateObject()\n\t\tthis.YES\t\t\t= [true, \"true\", 1, \"1\"];\n\t\tthis.NO\t\t\t\t= [false, \"false\", 0, \"0\", null];\n\t\tthis.PROPS=this._extender(\n\t\t\t{\n\t\t\trun:{\n\t\t\t\tmsg:\n\t\t\t\t\t{\n\t\t\t\t\terror:true,\n\t\t\t\t\twarn:true,\n\t\t\t\t\tinfo:true,\n\t\t\t\t\tdebug:true,\n\t\t\t\t\tlog:true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, props)\n\t\t}\n\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_fetch(opt)\n\t\t{\n\t\tif ( ! this._getType(opt, \"hash\")) {console.error(\"format for _fetch was no hash\"); return;}\n\t\tvar that=this;\n\t\tvar callback=opt.callback\n\t\tconsole.debug(\"fetcherzx\", opt)\n\t\topt=this._extender(\n\t\t\t{},\n\t\t\t{\n\t\t\tstartdelay:0,\n\t\t\toutputdelay:0,\n\t\t\turl:null,\n\t\t\tmethod:\"get\",\n\t\t\tdata:null,\n\t\t\tcallback:null,\n\t\t\ttimeout:5000,\n\t\t\tid:this._createID(),\n\t\t\theaders:{},\n\t\t\tfetchopt:{},\n\t\t\tinterpretAs:null\n\t\t\t},\n\t\t\topt,\n\t\t\t{\n\t\t\ttimestamp:null,\n\t\t\tduration:null,\n\t\t\tresult:null,\n\t\t\tstatus: \"init\",\n\t\t\terrortext:null\n\t\t\t}\n\t\t\t)\n\t\topt.callback=callback\n\t\tconsole.debug(\"fetcherx\", opt)\n\t\topt.fetchopt=this._extender(opt.fetchopt,{method:opt.method, headers:opt.headers})\n\t\tif ((opt.data) && (opt.data !== null))\n\t\t\t{\n\t\t\topt.fetchopt.method=\"post\"\n\t\t\tswitch (this._getType(opt.data))\n\t\t\t\t{\n\t\t\t\tcase \"string\":\n\t\t\t\t\topt.fetchopt.headers=this._extender(opt.fetchopt.headers, {'Content-Type' : 'application/text'})\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"jsonstring\":\n\t\t\t\t\topt.fetchopt.headers=this._extender(opt.fetchopt.headers, {'Content-Type' : 'application/json'})\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"formdata\":\n\t\t\t\t\t//opt.fetchopt.headers=this._extender(opt.fetchopt.headers, {'Content-Type' : 'application/json'})\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\topt.fetchopt.body= JSON.stringify(opt.data)\n\t\t\t\t\topt.fetchopt.headers=this._extender(opt.fetchopt.headers, {'Content-Type' : 'application/json'})\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\topt.timestamp=Date.now()\n\n\t\t//this.fetchDataStack[opt.id]=opt\n\t\t//#################################################################################################\n\t\tfunction runCallback(opt)\n\t\t\t{\n\t\t\tif (typeof opt.callback === \"function\")\n\t\t\t\t{\n\t\t\t\topt.callback(opt)\n\t\t\t\t}\n\t\t\t}\n\n\t\t//#################################################################################################\n\t\tconst delay = mseconds =>\n\t\t\t\t{\n\t\t\t\treturn new Promise \t(\n\t\t\t\t\t\t\t\t\tresolve => setTimeout (resolve, mseconds )\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t};\n\t\t//#################################################################################################\n\t\tconst fetcher = async () =>\n\t\t\t\t{\n\t\t\t\tthat._debug(\"fetcher start inside\", opt)\n\t\t\t\tawait delay (opt.startdelay);\n\t\t\t\tfetch( opt.url, opt.fetchopt)\n\t\t\t\t.then((response) => {\n\t\t\t\t\t\t\t\t\tif (response.ok)\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tif ((opt.interpretAs) && (opt.interpretAs !== null))\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\topt.fetchopt[\"interpretAs\"]=opt.interpretAs\n\t\t\t\t\t\t\t\t\t\t\treturn response[opt.interpretAs]()\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\treturn response.text()\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\treturn Promise.reject('error: ' + response.status)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t.then(function(response)\n\t\t\t\t\t{\n\t\t\t\t\topt[\"result\"]=response\n\t\t\t\t\topt[\"duration\"]=Date.now()-opt.timestamp\n\t\t\t\t\topt[\"status\"]=\"done\"\n\t\t\t\t\tif (! opt.fetchopt.interpretAs)\n\t\t\t\t\t\t{\n\t\t\t\t\t\tif (that._getType(response, \"jsonstring\"))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\topt.fetchopt[\"interpretAs\"]=\"json\"\n\t\t\t\t\t\t\topt[\"result\"]=JSON.parse(response) || response;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\topt.fetchopt[\"interpretAs\"]=\"text\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\trunCallback(opt)\n\t\t\t\t\t})\n\t\t\t\t.catch(function(error)\n\t\t\t\t\t{\n\t\t\t\t\topt[\"status\"]=\"error\"\n\t\t\t\t\topt[\"errortext\"]=error\n\t\t\t\t\tthat._error(\"method _fetch:\",error,\"\\nurl=\"+(opt.url));\n\t\t\t\t\trunCallback(opt)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t//#################################################################################################\n\t\tfetcher()\n\t\treturn;\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_message()\n\t\t{\n\t\tvar args = Array.from(arguments);\n\t\tvar type=args.shift().toLowerCase()\n\t\tif (! [\"debug\",\"info\",\"warn\",\"log\",\"error\"].includes(type)) return;\n\t\tif (typeof this.hasAttribute === 'function')\n\t\t\t{\n\t\t\targs.unshift(this.nodeName+((this.hasAttribute(\"id\"))?\"(\"+this.getAttribute(\"id\")+\")\":\"\")+\":\");\n\t\t\t}\n\t\tif (this.PROPS.run.msg[type.toLowerCase()] !== false) console[type.toLowerCase()].apply(this,args);\n\t\t}\n\t//######################################################################################################################################\n\t_debug()\n\t\t{\n\t\tvar args = Array.from(arguments); args.unshift(\"debug\"); this._message.apply(this, args)\n\t\t}\n\t//######################################################################################################################################\n\t_info()\n\t\t{\n\t\tvar args = Array.from(arguments); args.unshift(\"info\"); this._message.apply(this, args)\n\t\t}\n\t//######################################################################################################################################\n\t_log()\n\t\t{\n\t\tvar args = Array.from(arguments); args.unshift(\"log\"); this._message.apply(this, args)\n\t\t}\n\t//######################################################################################################################################\n\t_warn()\n\t\t{\n\t\tvar args = Array.from(arguments); args.unshift(\"warn\"); this._message.apply(this, args)\n\t\t}\n\t//######################################################################################################################################\n\t_error()\n\t\t{\n\t\tvar args = Array.from(arguments); args.unshift(\"error\"); this._message.apply(this, args)\n\t\t}\n\t//######################################################################################################################################\n\t//######################################################################################################################################\n\t_getMasterElement(node, query)\n\t\t{\n\t\treturn master(node, query)\t\n\t\tfunction master(node, query)\n\t\t\t{\n\t\t\tlet target=node.querySelector(query) \n\t\t\tif (target) return target\n\t\t\tnode=node.parentElement||node.getRootNode().host\n\t\t\treturn (node)? master(node, query):false\n\t\t\t}\t\n\t\t}\n\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_getBoolean(val)\n\t\t{\n\t\tval=(this._getType(val, \"string\"))?val.toLowerCase():val;\n\t\treturn this.YES.includes(val);\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_extender () //clone an Object\n\t\t{\n\t\tfor(var i=1; i<arguments.length; i++)\n\t\t\t{\n\t\t\tfor(var key in arguments[i])\n\t\t\t\t{\n\t\t\t\t//var isitArray=false;\n\t\t\t\targuments[0][key]=arguments[0][key]||{};\n\t\t\t\tif (typeof arguments[i][key] === \"function\")\n\t\t\t\t\t{\n\t\t\t\t\targuments[0][key] = arguments[i][key];\n\t\t\t\t\t}\n\t\t\t\telse if ( isObject(arguments[i][key]) )\n\t\t\t\t\t{\n\t\t\t\t\targuments[0][key]=(Array.isArray(arguments[i][key]))? [...arguments[i][key]]:this._extender(arguments[0][key],arguments[i][key]);\n\t\t\t\t\t}\n\t\t\t\telse if (Object.prototype.hasOwnProperty.call(arguments[i], key))\n\t\t\t\t\t{\n\t\t\t\t\targuments[0][key] = arguments[i][key];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\treturn arguments[0];\n\t\tfunction isObject(obj)\n\t\t\t{\n\t\t\treturn obj === Object(obj);\n\t\t  \t}\n\t\t};\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_show(elem)\n\t\t{\n\t\tlet myElem\t=  (elem)?(this._getType(elem, \"nodeElement\"))?elem:null:( (this) && (this._getType(this, \"nodeElement\")) )?this:null;\n\t\tif (myElem)\n\t\t\t{\n\t\t\t//this._debug(\"show \"+ myElem.tagName, myElem);\n\t\t\tmyElem.classList.remove(\"hide\");\n\t\t\tmyElem.classList.add(\"show\");\n\t\t\t}\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_hide(elem)\n\t\t{\n\t\tlet myElem\t=  (elem)?(this._getType(elem, \"nodeElement\"))?elem:null:( (this) && (this._getType(this, \"nodeElement\")) )?this:null;\n\t\tif (myElem)\n\t\t\t{\n\t\t\t//this._debug(\"hide \"+ myElem.tagName, myElem);\n\t\t\tmyElem.classList.remove(\"show\");\n\t\t\tmyElem.classList.add(\"hide\");\n\t\t\t}\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_htmlToElements(html)\n\t\t{\n\t\tvar template = document.createElement('template');\n\t\ttemplate.innerHTML = html;\n\t\treturn template.content.childNodes;\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_htmlToElement(html)\n\t\t{\n\t\tvar template = document.createElement('template');\n\t\thtml = html.trim(); // Never return a text node of whitespace as the result\n\t\ttemplate.innerHTML = html;\n\t\treturn template.content.firstChild;\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_createID(node=null)\n\t\t{\n\t\tlet id = Date.now().toString(36) + Math.random().toString(36).substr(2);\n\t\tif (this._getType(node, \"nodeElement\")) node.setAttribute(\"id\", id);\n\t\treturn id;\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_getType(obj, types=null)\n\t\t{\n\t\tlet reg=/\\s*([|,;\\s])\\s*/g;\n\t\ttypes= (!types)?null:( (Array.isArray(types))?types: ((!(typeof(types) == \"string\"))?null:(types == \"\")?null:types.split(reg)) );\n\n\t\tvar t=typeof(obj);\n\t\tif (t==\"string\")\n\t\t\t{\n\t\t\ttry\n\t\t\t\t{\n\t\t\t\tt=\"jsonstring\"\n\t\t\t\tJSON.parse(obj);\n\t\t\t\t}\n\t\t\tcatch (e)\n\t\t\t\t{\n\t\t\t\tt=\"string\"\n\t\t\t\t}\n\t\t\t}\n\t\telse if (t==\"object\")\n\t\t\t{\n\t\t\tif (Array.isArray(obj))\n\t\t\t\t{\n\t\t\t\tt=\"array\";\n\t\t\t\t}\n\t\t\telse if (obj===null)\n\t\t\t\t{\n\t\t\t\tt=\"null\";\n\t\t\t\t}\n\t\t\telse if (obj.nodeType !== undefined)\n\t\t\t\t{\n\t\t\t\tswitch\t(obj.nodeType)\n\t\t\t\t\t{\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tt=\"nodeElement\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\tt=\"nodeText\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tt=\"node\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\telse if (obj instanceof FormData)\n\t\t\t\t{\n\t\t\t\tt=\"formdata\"\n\t\t\t\t}\n\t\t\telse if ( (Object.getPrototypeOf(obj)) && (obj.length))\n\t\t\t\t{\n\t\t\t\tlet x=Object.getPrototypeOf(obj);\n\t\t\t\tx=x.toString();\n\t\t\t\tlet y=x.match(/\\s(.+?)\\]$/);\n\t\t\t\tif (y) t=\"array\"+y[1];\n\t\t\t\t}\n\t\t\telse if (Object.hasOwn(obj,\"thisIsClass\"))\n\t\t\t\t{\n\t\t\t\tt=\"class\";\n\t\t\t\t}\t\n\t\t\telse\n\t\t\t\t{\n\t\t\t\tt=\"hash\";\n\t\t\t\t}\n\t\t\t}\n\t\tif ( (types) && (Array.isArray(types)) )\n\t\t\t{\n\t\t\tlet q = types.includes(t);\n\t\t\ttypes.forEach(type =>\n\t\t\t\t{\n\t\t\t\tif (q === true) return;\n\t\t\t\tif ( (type.endsWith(\".\")) && (type.substr(-1)==t) ) q=true;\n\t\t\t\t});\n\t\t\treturn (q|t);\n\t\t\t}\n\t\treturn t;\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_JSONcorrector(val=\"[]\", splitter=null)\n\t\t{\n\t\tlet org=val;\n\t\tif (this._getType(val, \"string,jsonstring\"))\n\t\t\t{\n\t\t\ttry\n\t\t\t\t{\n\t\t\t\tval=JSON.parse(val);\n\t\t\t\t}\n\t\t\tcatch\n\t\t\t\t{\n\t\t\t\tif (org == \"\")\n\t\t\t\t\t{\n\t\t\t\t\tconsole.debug('%cJSONcorrector: your JSON-Code was empty ', 'background: #222; color: #bada55');\n\t\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\tconsole.debug('%cToolBar: there was an Error in your JSON Code ', 'background: #222; color: #bada55');\n\t\t\t\t\tconsole.debug('JSON-code: %c'+org, 'background: #222; color: #bada55');\n\t\t\t\t\t}\n\t\t\t\tif (splitter)\n\t\t\t\t\t{\n\t\t\t\t\tval=val.split(splitter);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\treturn ( (this._getType(val,\"array hash\"))?val:[val] );\n\t\t}\n\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_get2digit(dig, len=2)\n\t\t{\n\t\tdig=dig+\"\"\n\t\twhile (dig.length<len){dig=\"0\"+dig}\n\t\treturn dig\n\t\t}\n\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\textendDateObject()\n\t\t{\n\t\tif( typeof Date.prototype.addHours === 'undefined' )\n\t\t\t{\n\t\t\tDate.prototype.addHours = function(h)\n\t\t\t\t{\n\t\t\t\tthis.setTime(this.getTime() + (h*60*60*1000));\n\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t}\n\t\tif( typeof Date.prototype.addMinutes === 'undefined' )\n\t\t\t{\n\t\t\tDate.prototype.addMinutes = function(m)\n\t\t\t\t{\n\t\t\t\tthis.setTime(this.getTime() + (m*60*1000));\n\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t}\n\t\tif( typeof Date.prototype.addSeconds === 'undefined' )\n\t\t\t{\n\t\t\tDate.prototype.addSeconds = function(m)\n\t\t\t\t{\n\t\t\t\tthis.setTime(this.getTime() + (m*1000));\n\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t}\n\t\tif( typeof Date.prototype.floorHours === 'undefined' )\n\t\t\t{\n\t\t\tDate.prototype.floorHours = function()\n\t\t\t\t{\n\t\t\t\tlet month=(this.getMonth()+1)+\"\"; while (month.length<2){month=\"0\"+month}\n\t\t\t\tlet day=(this.getDate())+\"\"; while (day.length<2){day=\"0\"+day}\n\t\t\t\tlet hour=(this.getHours())+\"\"; while (hour.length<2){hour=\"0\"+hour}\n\t\t\t\tthis.setTime(Date.parse(`${this.getFullYear()}-${month}-${day}T${hour}:00:00.000`))\n\n\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t}\n\t\tif( typeof Date.prototype.ceilHours === 'undefined' )\n\t\t\t{\n\t\t\tDate.prototype.ceilHours = function()\n\t\t\t\t{\n\t\t\t\tlet month=(this.getMonth()+1)+\"\"; while (month.length<2){month=\"0\"+month}\n\t\t\t\tlet day=(this.getDate())+\"\"; while (day.length<2){day=\"0\"+day}\n\t\t\t\tlet hour=(this.getHours())+\"\"; while (hour.length<2){hour=\"0\"+hour}\n\t\t\t\tthis.setTime(Date.parse(`${this.getFullYear()}-${month}-${day}T${hour}:00:00.000`)+3600000)\n\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_readFromStorage(app=null)\n\t\t{\n\t\tlet opt=localStorage.getItem(app) || \"{}\";\n\t\treturn JSON.parse(opt) || opt;\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_clearStorage(app=null)\n\t\t{\n\t\tlocalStorage.removeItem(app);\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_writeToStorage(app, opt={})\n\t\t{\n\t\t//opt=this._extender({}, opt);\n\t\tfor (let prop in opt)\n\t\t\t{\n\t\t\tif (prop.startsWith(\"_\")) delete opt[prop];\n\t\t\t}\n\t\tvar org=this._readOptionsFromStorage(app)\n\t\tvar keys=Object.keys(opt);\n\t\tkeys.forEach(function(key, index)\n\t\t\t{\n\t\t\torg[key]=opt[key]\n\t\t\t})\n\t\topt=JSON.stringify(org);\n\t\tlocalStorage.setItem(app, opt);\n\t\t}\n\n\t}","exports.interopDefault = function (a) {\n  return a && a.__esModule ? a : {default: a};\n};\n\nexports.defineInteropFlag = function (a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n};\n\nexports.exportAll = function (source, dest) {\n  Object.keys(source).forEach(function (key) {\n    if (\n      key === 'default' ||\n      key === '__esModule' ||\n      Object.prototype.hasOwnProperty.call(dest, key)\n    ) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function () {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n};\n\nexports.export = function (dest, destName, get) {\n  Object.defineProperty(dest, destName, {\n    enumerable: true,\n    get: get,\n  });\n};\n","import { tgEpgDefaultsCommon }  from \"./defaults_Common.js\"\n\nexport class tgEpgCardDefaults extends tgEpgDefaultsCommon\n\t{\n\tconstructor()\n\t\t{\n\t\tsuper(\"open\");\n\t\tthis[\"PROPS\"]=\n\t\t\t\t\t\t{\n\t\t\t\t\t\tdefaults: \tthis._extender({}, this[\"PROPS\"].defaults||{},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tprofiles:\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\toptions:\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tuseOrientationDetection:false,\t\n\t\t\t\t\t\t\t\t\t\tuseWidthDetection:false,\t\n\t\t\t\t\t\t\t\t\t\t},\t\n\t\t\t\t\t\t\t\t\tdataWorker:\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tpastTimeSec: (1*60*60),\n\t\t\t\t\t\t\t\t\t\tpreviewAll: (0.5*24*60*60),\n\t\t\t\t\t\t\t\t\t\tviewAllowedOversize: (0.5*60*60)\t\n\t\t\t\t\t\t\t\t\t\t},\t\t\t\n\t\t\t\t\t\t\t\t\tdesignOrientations:[\"portait\", \"landscape\"],\t\n\t\t\t\t\t\t\t\t\tdesign:\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tpreviewSpan:14400,  //tatsächlich angezeigten Minuten im Fenster\n\t\t\t\t\t\t\t\t\t\tsetOfSpan:1800, //Versatz der Ansicht nach rechts damit der Zeitzeiger nicht am Fensterand steht\n\n\t\t\t\t\t\t\t\t\t\tchannelRowWidth:120,\n\t\t\t\t\t\t\t\t\t\tchannelRowHeight:35,\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tchannelStyle:\"icon|text\",\n\n\t\t\t\t\t\t\t\t\t\ttopBarHeight:50,\n\n\t\t\t\t\t\t\t\t\t\tloadReview: 7200,\n\t\t\t\t\t\t\t\t\t\tloadPreview: 604800,\n\t\t\t\t\t\t\t\t\t\tdw_loadPreviewUnits: [\"last\", \"now\", \"next\", \"hour\", \"today\", \"tomorow\", \"hourly\"],\n\t\t\t\t\t\t\t\t\t\tdw_useLoadUnits: true\n\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t}\n\t\t}\n\tget properties()\n\t\t{\n\t\tvar props=super.properties||{_common:false};\n\t\tprops[\"default\"]=true;\n\t\treturn props;\n\t\t}\t\t\n\n\tstatic get template()\n\t\t{\n\t\t\tvar styles=super.styles||\"\";\n\t\t\tstyles=styles+`\n\t\t\t<style>\n\t\t\t:host\n\t\t\t\t{\n\t\t\t\tposition:relative;\t\n\t\t\t\tpadding:0px;\n\t\t\t\tmargin:0px;\n\t\t\t\twidth:100%;\n\t\t\t\tbottom:50px;\n\t\t\t\ttop:0px;\n\t\t\t\t/*height:100%;*/\n\t\t\t\tdisplay:block;\n\t\t\t\t--topBarHeight-used: calc( var(--topBarHeight,45px) * 1);\n\t\t\t\t--channelRowWidth-used: calc( var(--channelRowWidth,100px) *1);\n\t\t\t\t--channelRowHeight-used: calc( var(--channelRowHeight,40px) * 1);\n\t\t\t\t--scale-used: calc( var(--scale, 1) * 1);\n\t\t\t\t--appHeight-used: calc( var(--appHeight, 100%) * 1);\n\n\t\t\t\t}\n\t\t\tdiv\n\t\t\t\t{\n\t\t\t\tpadding: 0px;\n\t\t\t\tmargin: 0px;\n\t\t\t\tbox-sizing: border-box;\n\t\t\t\tdisplay:inline-block;\n\t\t\t\t}\n\t\t\tha-card\n\t\t\t\t{\n\t\t\t\tdisplay:block;\n\t\t\t\theight:100%;\t\n\t\t\t\t}\t\n\t\t\t.gridcontainer\n\t\t\t\t{\n\t\t\t\tdisplay: grid;\n\t\t\t\tgrid-auto-rows: 1fr;\n\t\t\t\tgrid-template-columns: var(--channelRowWidth-used) 1fr;\n\t\t\t\tgrid-template-rows: var(--topBarHeight-used) calc(100% - var(--topBarHeight-used));\n\t\t\t\tgap: 0px 0px;\n\t\t\t\tgrid-template-areas:\n\t\t\t\t\t\"superbutton timeBar\"\n\t\t\t\t\t\"epgOutBox epgOutBox\";\n\t\t\t\twidth: 100%;\n\t\t\t\theight: var(--appHeight-used);\n\n\t\t\t\t}\n\t\t\t.superbutton { grid-area: superbutton; }\n\t\t\t.timeBar { grid-area: timeBar; }\n\t\t\t.epgOutBox { grid-area: epgOutBox; }\n\n\n\t\t\t/* [name=\"app\"]\n\t\t\t\t{\n\t\t\t\ttop:0px;\n\t\t\t\tleft:0px;\n\t\t\t\toverflow: hidden;\n\t\t\t\t}\n\t\t\t*/\n\t\t\t[name=\"timeBar\"]\n\t\t\t\t{\n\t\t\t\tbackground-color: lightgray;\n\t\t\t\twhite-space: nowrap;\n\t\t\t\toverflow: hidden;\n\t\t\t\theight: var( --topBarHeight )\n\t\t\t\t}\n\t\t\t[name=\"superbutton\"]\n\t\t\t\t{\n\t\t\t\tbackground-color: yellow;\n\t\t\t\t}\n\t\t\t[name=\"epgOutBox\"]\n\t\t\t\t{\n\t\t\t\tposition:relative;\t\n\t\t\t\tbackground-color: pink;\n\t\t\t\twidth:100%;\n\t\t\t\theight:100%;\n\t\t\t\t/*overflow-y: hidden;*/\n\t\t\t\toverflow-x: hidden;\n\t\t\t\t}\n\n\t\t\t[name=\"epgBox\"]\n\t\t\t\t{\n\t\t\t\tdisplay: grid;\n\t\t\t\tgrid-auto-rows: 1fr;\n\t\t\t\tgrid-template-columns: var(--channelRowWidth, 99px) 1fr;\n\t\t\t\tgrid-template-rows: minmax(min-content, max-content) ;\n\t\t\t\tgap: 0px 0px;\n\t\t\t\tgrid-template-areas:\n\t\t\t\t\t\"channelBox programBox\";\n\t\t\t\twidth:100%;\n\t\t\t\t/*position: absolute;*/\n\t\t\t\theight:100%;\n\t\t\t\tgrid-auto-flow: dense;*/\n\t\t\t\t}\n\t\t\t[name=\"channelBox\"]\n\t\t\t\t{\n\t\t\t\t/*position: absolute;*/\n\t\t\t\tbackground-color: lightblue;\n\t\t\t\tposition:relative;\n\t\t\t\t/*\n\t\t\t\toverflow-x:hidden;\n\t\t\t\toverflow-y:visible !important;*/\n\t\t\t\t}\n\t\t\t[name=\"programBox\"]\n\t\t\t\t{\n\t\t\t\ttop:0px;\n\t\t\t\tbackground-color: darkred;\n\t\t\t\tposition:relative;\n\t\t\t\toverflow-x: auto;\n\t\t\t\toverflow-y: visible;\n\n\t\t\t\t}\n\t\t\t/*hide scrollbar*/\n\t\t\t[name=\"programBox\"]\n\t\t\t\t{\n\t\t\t\t-ms-overflow-style: none;\n\t\t\t\tscrollbar-width: none;\n\t\t\t\t}\n\t\t\t[name=\"programBox\"]::-webkit-scrollbar\n\t\t\t\t{\n\t\t\t\tdisplay: none;\n\t\t\t\t  }\n\t\t\t.Tab\n\t\t\t\t{\n\t\t\t\tdisplay:table;\n\t\t\t\tborder-collapse: collapse;\n\t\t\t\t}\n\t\t\t.TabRow\n\t\t\t\t{\n\t\t\t\tdisplay:table-row;\n\t\t\t\t}\n\t\t\t.TabCell\n\t\t\t\t{\n\t\t\t\tdisplay:table-cell;\n\t\t\t\tvertical-align:top;\n\t\t\t\t}\n\t\t\t.optionBox\n\t\t\t\t{\n\t\t\t\tposition:absolute;\n\t\t\t\tleft:0px;\n\t\t\t\ttop:0px;\n\t\t\t\theight:100%;\n\t\t\t\twidth:100%;\n\t\t\t\tbackground-color:gray;\n\t\t\t\tz-Index:3000;\n\t\t\t\t}\n\t\t\ttg-epg-timebar\n\t\t\t\t{\n\t\t\t\t--timeBarBorder: 1px solid black;\n\t\t\t\t--timeBarHeight: var(--topBarHeight, 50px);\n\t\t\t\t--timeBarScale:  var(--scale, 0.1);\n\t\t\t\t}\n\t\t\ttg-epg-proglist, tg-epg-channellist\n\t\t\t\t{\n\t\t\t\t--channelLineHeight: var(--channelRowHeight, 50px);\n\t\t\t\t--channelLineScale:  var(--scale, 0.1);\n\t\t\t\t}\n\n\t\t\t</style>\n\t\t\t`;\n\t\t\tvar tmp=styles+`\n\t\t\t<!-- App -->\n\t\t\t<ha-card>\n\t\t\t<div name=\"app\" class=\"card-content gridcontainer\">\n\t\t\t\t<div name=\"superbutton\" class=\"superbutton\"></div>\n\t\t\t\t<div name=\"timeBar\" class=\"timeBar\"></div>\n\t\t\t\t<div name=\"epgOutBox\" class=\"epgOutBox\">\n\t\t\t\t\t<tgcontrol-scrollbar class=\"tgcontrolscrollbarx hide\" pos=\"bottom\" getsizefrom='.tgEpgProgList' getxsizefrom=\"\" getysizefrom=\"\"></tgcontrol-scrollbar>\n\t\t\t\t\t<div name=\"epgBox\" class=\"epgBox\">\n\t\t\t\t\t\t<div name=\"channelBox\" class=\"\"></div>\n\t\t\t\t\t\t<div name=\"programBox\" class=\"programBox\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<!-- App Ende-->\n\t\t\t<tg-epg-options name=\"optionBox\" class=\"optionBox hide\" ></tg-epg-options>\n\t\t\t<tg-floatingMenu pos=\"brv\" folded=\"folded\"  class=\"hide\">\n\t\t\t\t<button class=\"tground  black\" name=\"blupd\" id=\"floatingMenuTimer\">T</button>\n\t\t\t\t<button class=\"tground  black\" name=\"blupd\" id=\"floatingMenuGroups\">G</button>\n\t\t\t\t<button class=\"tground  black\" name=\"blupd\" id=\"floatingMenuFilter\">F</button>\n\t\t\t\t<button class=\"tground  black\" name=\"ButtoSave\" id=\"floatingMenuOptions\">O</button>\n\t\t\t</tg-floatingMenu>\n\t\t\t</ha-card>\n\t\t\t`;\n\n\t\t\treturn\ttmp;\n\n\t\t}\n\t}\n","import { tgControlsHelperBasic } from './lib/tgControls.helper_basic.js';\n\nexport class tgEpgDefaultsCommon\n\t{\n\tthisIsClass=true\t\n\tconstructor()\n\t\t{\n\t\tthis.helper = new tgControlsHelperBasic();\n\n\t\tthis[\"PROPS\"]=\n\t\t\t{\n\n\t\t\t}\n\t\t}\n\tget getPROPS()\n\t\t{\n\t\treturn this._extender({}, this.PROPS||{false:\"\"});\n\t\t}\n\n\tget properties()\n\t\t{\n\t\treturn {_common:true};\n\t\t}\n\n\tstatic get styles()\n\t\t{\n\t\treturn \t`\n\t\t\t\t<style>\n\t\t\t\t:host\n\t\t\t\t\t{\n\t\t\t\t\t}\n\t\t\t\t:host .greedy\n\t\t\t\t\t{\n\t\t\t\t\theight: 100%;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\t}\n\t\t\t\t:host .greedyW\n\t\t\t\t\t{\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\t}\n\t\t\t\t:host .greedyH\n\t\t\t\t\t{\n\t\t\t\t\theight: 100%;\n\t\t\t\t\t}\n\t\t\t\t.Tab\n\t\t\t\t\t{\n\t\t\t\t\tdisplay:table;\n\t\t\t\t\tborder-collapse: collapse;\n\t\t\t\t\t}\n\t\t\t\t.TabRow\n\t\t\t\t\t{\n\t\t\t\t\tdisplay:table-row;\n\t\t\t\t\t}\n\t\t\t\t.TabCell\n\t\t\t\t\t{\n\t\t\t\t\tdisplay:table-cell;\n\t\t\t\t\t}\n\t\t\t\t.hide\n\t\t\t\t\t{\n\t\t\t\t\tdisplay:none;\n\t\t\t\t\t}\n\t\n\t\t\t\ttg-epg-proglist, tg-epg-channellist\n\t\t\t\t\t{\n\t\t\t\t\t--channelLineScale:  var(--scale, 0.1);\n\t\t\t\t\t}\t\t\n\t\t\t\t</style>\n\t\t\t\t`\t\n\t\t}\t\n\t//######################################################################################################################################\n\t//\n\t// Weiterleitungen an die helper Klasse\n\t//\n\t//######################################################################################################################################\n\t//######################################################################################################################################\n\t_extender() \t\t\t\t{ return this.helper._extender.apply(this.helper, arguments);};\n\t//######################################################################################################################################\n\n\t}\n","\n//import { tgControlsHelperBasic } from \"./lib/tgControls.helper_basic.js\";\n// Struktur:\n\t// \t\t\tthis.channels=\t{\n\t// \t\t\t\t\t\t\ttodolist:\t{\n\t//\t\t\t\t\t\t\t\t\t\tdelete:[]\n\t//\t\t\t\t\t\t\t\t\t\t},\n\t//\t\t\t\t\t\t\tdata\t\t{\n\t//\t\t\t\t\t\t\t\t\t\t<channelid>:\t{\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\tsourceID:\t\t\"\",\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\tchannelID:\t\t\"\",\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\tname:\t\t\t\"\",\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\tfriendlyName:\t\"\",\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\tpreSpan:\t\t0,\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\tpostSpan:\t\t0,\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\tepg:\t\t\t{},\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata:\t\t\t{\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<key>:\t{\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstart:123,\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tend:123;\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tduration:123,\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey:\"\",\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thtml:\"\",\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tepg:{}\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\ttodolist:\t\t{},\n\t//\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t//\t\t\t\t\t\t\t\t\t\t}\n\t//\t\t\t\t\t\t\t}\n\nexport class tgEpgDataService\n    {\n    constructor(me=null)\n        {\n        //super();\n\t\tthis.YES\t\t\t= [true, \"true\", 1, \"1\"];\n\t\tthis.NO\t\t\t\t= [false, \"false\", 0, \"0\", null];\n\t\tthis.PROPS=this._extender(\n\t\t\t{\n\t\t\trun:{\n\t\t\t\tmsg:\n\t\t\t\t\t{\n\t\t\t\t\terror:true,\n\t\t\t\t\twarn:true,\n\t\t\t\t\tinfo:true,\n\t\t\t\t\tdebug:true,\n\t\t\t\t\tlog:true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\n\n        this.basicConfig =\n            {\n\t\t\tpastTimeSec: (1*60*60),\n\t\t\tpreviewAll: (1*24*60*60),\n            map:\n                {\n\t\t\t\tduration: [\"DURATION\", \"_duration\", \"duration\", \"DURATION\"],\n                start: [\"START\", \"_start\", \"start\", \"START\"],\n                end: [\"END\", \"_end\", \"end\", \"END\"],\n                CHANNELID: [\"CHANNELID\", \"channelID\", \"CHANNELID\"],\n\t\t\t\tID:[\"ID\", \"id\", \"ID\"],\n                TITLE: [\"TITLE\", \"TITLE\"],\n\t\t\t\tDESCRIPTION:[\"DESCRIPTION\", \"DESCRIPTION\"],\n\t\t\t\tadds:[\"ADDS\", \"adds\", \"ADDS\"],\n                },\n            showTemplate: `<tgepg-progitem class=\"TabCell\" span=\"<!DURATION!>\" <!ADDS!> start=\"<!START!>\" end=\"<!END!>\" channelid=\"<!CHANNELID!>\" id=\"<!ID!>\" style=\"--progItemSpan: <!DURATION!>px;\">\n\t\t\t\t\t\t\t<div slot=\"titleslot\"><!TITLE!></div>\n\t\t\t\t\t\t\t<div slot=\"descriptionslot\"><!DESCRIPTION!></div>\n\t\t\t\t\t\t\t</tgepg-progitem>`,\n            channelTemplate: `<tgepg-progline class=\"TabCell\" <!ADDS!> channelid=\"<!CHANNELID!>\" id=\"<!ID!>\"><!SHOWTEMPLATE!></tgepg-progline>`,\n            };\n\t\tthis.me = (me)? me :null\t;\n        this.channelsHtml = {};\n        this.channelsTmpl \t= \t{\n\t\t\t\t\t\t\t\tdata:{}\n\t\t\t\t\t\t\t\t};\n\t\tthis.channelTmpl\t= \t{\n\t\t\t\t\t\t\t\tsourceID: null,\n\t\t\t\t\t\t\t\tchannelID: null,\n\t\t\t\t\t\t\t\tname: null,\n\t\t\t\t\t\t\t\tid: null,\n\t\t\t\t\t\t\t\tpreSpan:null,\n\t\t\t\t\t\t\t\tpostSpan:null,\n\t\t\t\t\t\t\t\tstock:{},\n\t\t\t\t\t\t\t\tusedItems:[],\n\t\t\t\t\t\t\t\tdata:{},\n\t\t\t\t\t\t\t\tepg: {},\n\t\t\t\t\t\t\t\t}\n\t\tthis.channels \t= \t\tthis._extender({}, this.channelsTmpl)\n\n\n\t\t//console.debug(this.me)\n        }\n\tsendDataBack(data)\n\t\t{\n\t//console.log(\"dataa\", data)\n\t\tif (this.me instanceof DedicatedWorkerGlobalScope)\n\t\t\t{\n\n\t\t\tthis.me.postMessage(data) \n\t\t\t}\n\t\telse\n\t\t\t{\n\t\t\tvar ev = new CustomEvent('fetchWorkerData', {detail:data});\n\t\t\tthis.me.dispatchEvent(ev);\t\n\t\t\t}\n\t\t}\n\taddRequest(data)\n        {\n        var that = this;\n\t\tthat.channels[\"todolist\"]={}\n\t\tvar now = Math.floor(new Date() / 1000);\n\n        if (data.config && this._getType(data.config, \"hash\"))\n\t\t\t{\n        \tthis.basicConfig = this._extender(this.basicConfig, data.config);\n        \t}\n\t\tthis._debug(\"data: basicConfig\", this.basicConfig)\n\t\tlet dp=new Date((now - parseInt(that.basicConfig.pastTimeSec))*1000)\n\t\tdp.setMinutes(0,0,0)\n\t\tlet df=new Date((now + parseInt(that.basicConfig.previewAll))*1000)\n\t\tdf.setMinutes(60,0,0)\n\n\t\tvar filter=\t{\n\t\t\t\t\tnow: now,\n\t\t\t\t\tpast: dp.getTime()/1000,\n\t\t\t\t\tfuture: df.getTime()/1000\n\t\t\t\t\t}\n\t\tthat.basicConfig.addString=_createAddStringFromConfigAdds(that.basicConfig.adds||{})\n\n\t\tthat.basicConfig.showTemplate=(that.basicConfig.showTemplate||\"\").replace(/\\t|\\n/g, \"\")\t\t\t\n\t\tthat.basicConfig.showTemplate=(that.basicConfig.showTemplate||\"\").replace(/\\s+/g, \" \")\n\t\t//console.log(that.basicConfig.showTemplate)\t\t\t\n\t\t// vorhandene Daten aufbereiten\t\t\t\t\n\t\t_cleanAllChannels(that.channels, filter)\n\t\t//this._log(\"old channels cleaned\")\n\t\t// neue Daten einfügen\n\t\tif (this._getType(data, \"hash\") && that.basicConfig.source)\n\t\t\t{\n\t\t\tvar keys = Object.keys(data);\n\t\t\tkeys.forEach(function (k, i) // alle neuen channels\n\t\t\t\t{\n\t\t\t\tvar channel=_isValidChannel(that.channels, data[k], that.basicConfig.source, that.channelTmpl , filter)\n\t\t\t\tif (!channel)\n\t\t\t\t\t{\n\t\t\t\t\treturn;\t\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t//this._log(\"channel stores updated\")\n\n\t\tvar result={todolist:that.channels.todolist||{}, data:{}}\n\t\tlet channels=Object.keys(that.channels.data)\n\t\tlet min, max=null\n\t\tchannels.forEach(function (key, i)\n\t\t\t{\n\t\t\tlet isError=null\n\t\t\tif (Object.keys(that.channels.data[key].stock).length == 0)\n\t\t\t\t{\n\t\t\t\tdelete that.channels.data[key]\n\t\t\t\treturn\t\n\t\t\t\t} \t\n\t\t\t//console.log(\">>\", that.channels.data[key])\n\t\n\t\t\twhile(isError!=0)\n\t\t\t\t{\n\t\t\t\t_prepareShows(that.channels.data[key], filter)\n\n\t\t\t\t//that._log(`shows prepaired for ${key} `, that.channels.data[key])\n\t\t\t\tthat.channels.data[key][\"adds\"]=that.basicConfig.addString\n\t\t\t\tlet res=_prepareResult(that.channels.data[key], filter, that.basicConfig.showTemplate, that.basicConfig.map )\n\t\t\t\tisError=(isError)?0:(!res)?1:0\n\t\t\t\tif (!res)\n\t\t\t\t\t{\n\t\t\t\t\tthat.channels.data[key].usedItems=[]\t\n\t\t\t\t\tcontinue\n\t\t\t\t\t}\n\t\t\t\tthat.channels.data[key].epg={}\n\t\t\t\tmin=(!min)?res.min:(min>res.min)?res.min:min\n\t\t\t\tmax=(!max)?res.max:(max<res.max)?res.max:max\n\t\t\t\tthat.channels.data[key][\"min\"]=res.min\t\n\t\t\t\tthat.channels.data[key][\"max\"]=res.max\t\n\t\t\t\tresult.data[key] =\tres\n\t\t\t\t//console.log(\"result:\", res.min, min, res.max,  max, res)\t\n\t\t\t\tif (that.me)\n\t\t\t\t\t{\n\t\t\t\t \tthat.sendDataBack(that._extender({}, result))\n\t\t\t\t\tresult.data={}\t\n\t\t\t\t\t}\t\t\t\t\t\t\t\t\n\t\t\t\t//console.log(\"resault\", result)\t\n\t\t\t\t}\n\t\t\t})\n\t\tchannels=Object.keys(that.channels.data)\n\t\tchannels.forEach(function (key, i)\n\t\t\t{\n\t\t\tif (!result.data[key])\tresult.data[key]={id:key, data:{}}\n\t\t\tresult.data[key][\"preSpan\"]=that.channels.data[key].min-min\n\t\t\tresult.data[key][\"postSpan\"]=max-that.channels.data[key].max\n\t\t\t_addTodolist(result, \"manage\", key)\t\n\t\t\t})\n\t\t_addTodolist(result, \"config\", {min:min, max:max, now: filter.now})\t\n\n\t\tif (that.me)\n\t\t\t{\n\t\t\tthat._debug(\"dataworker send WorkerData\", result)\n\t\t\tthat.sendDataBack(result)\t\n\t\t\t}\n\t\telse\n\t\t\t{\n\t\t\t//that._debug(\"send WorkerData manager\", result)\t\t\n\t\t\treturn result\t\n\t\t\t}\t\t\n\t\treturn;\n\n\t\t//###############################\n\t\tfunction _createAddStringFromConfigAdds(adds={})\n\t\t\t{\n\t\t\tvar str=\"\"\n\t\t\tlet keys=Object.keys(adds)\n\t\t\tfor (let key of keys)\n\t\t\t\t{\n\t\t\t\tstr+=` ${key}='${adds[key]}'`\t\n\t\t\t\t}\n\t\t\treturn str\n\t\t\t}\n        //###############################\n        //###############################\n\t\tfunction _prepareResult(channel, filter, templ, map)\n\t\t\t{\n\t\t\tlet stock=channel.stock\n\t\t\t//that._log(\"chan:\", channel)\t\n\t\t\tlet result=\t{\n\t\t\t\t\t\ttodolist:channel.todolist, \n\t\t\t\t\t\tdata:{},\n\t\t\t\t\t\tid:channel.id,\n\t\t\t\t\t\tname:channel.name,\n\t\t\t\t\t\tsourceID:channel.sourceID,\n\t\t\t\t\t\tchannelID:channel.channelID,\n\t\t\t\t\t\thtml:\"\"\n\t\t\t\t\t\t}\n\t\t\tlet data=result.data\t\t\t\t\n\t\t\tlet shows=channel.usedItems.sort()\n\t\t\tvar lastShow=null\n\t\t\tlet min, max=null\n\t\t\tshows.forEach(function (key, index)\n\t\t\t\t{\n\t\t\t\t//that._log(key, channel)\t\n\t\t\t\tlet show=stock[key]\n\t\t\t\tshow[\"html\"]=\"\"\n\t\t\t\tshow[\"_start\"]=show.start\n\t\t\t\tshow[\"_duration\"]=show.duration\n\t\t\t\tshow[\"_end\"]=show.end\n\t\t\t\tshow[\"adds\"]=channel.adds\n\n\n\t\t\t\tif (show.end > filter.past && show.start < filter.past)\n\t\t\t\t\t{\n\t\t\t\t\tshow._start=(filter.past)\t\n\t\t\t\t\tshow._duration=show._end-show._start\n\t\t\t\t\t}\n\t\t\t\tif (show.start < filter.future && show.end > filter.future )\n\t\t\t\t\t{\n\t\t\t\t\tshow._end=(filter.future)\t\n\t\t\t\t\tshow._duration=show._end-show._start\n\t\t\t\t\t}\n\t\t\t\tlet diff= (lastShow)?show._start-lastShow._end:0\t\n\t\t\t\tif (diff > 0)\n\t\t\t\t\t{\n\t\t\t\t\tlet newItem=\t\n\t\t\t\t\t\t{\n\t\t\t\t\t\tkey:\t\tlastShow._end.toString(),\n\t\t\t\t\t\t_start:\t\tlastShow._end,\n\t\t\t\t\t\t_duration:\tdiff,\n\t\t\t\t\t\t_end:\t\tshow._start,\n\t\t\t\t\t\t_type: \t\t\"spacer\"\n\t\t\t\t\t\t}\n\t\t\t\t\tnewItem[\"html\"]=_template_mapper(templ, map, newItem)\n\t\t\t\t\tdata[lastShow._end.toString()]=newItem\t\n\t\t\t\t\t_addTodolist(result, \"addSpacer\", newItem.key )\t\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\telse if (diff < 0)\n\t\t\t\t\t{\n\t\t\t\t\tdiff=diff * -1\t\n\t\t\t\t\t//shorten items\n\t\t\t\t\tif (diff < lastShow._duration)\n\t\t\t\t\t\t{\n\t\t\t\t\t\tlastShow._end=show._start\t\n\t\t\t\t\t\tlastShow._duration=lastShow._end-lastShow._start\t\n\t\t\t\t\t\tlastShow.html=_template_mapper(templ, map, lastShow)\n\t\t\t\t\t\t_addTodolist(result, \"replace\", lastShow.key )\n\t\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\tlastShow.type=\"epgerror\"\n\t\t\t\t\t\tlastShow._duration=0\t\t\n\t\t\t\t\t\tlastShow.html=_template_mapper(templ, map, lastShow)\n\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\t\t\t\t\t\t\n\t\t\t\t\t}\t\t\t\t\t\t\n\t\t\t\tshow.html=_template_mapper(templ, map, show)\n\t\t\t\tdata[key]=show\t\t\t\t\n\t\t\t\tlastShow=show\n\t\t\t\tmin=(!min)?show._start:(min>show._start)?show._start:min\n\t\t\t\tmax=(!max)?show._end:(max<show._end)?show._end:max\n\t\t\t\t})\n\t\t\tresult[\"min\"]=min\t\n\t\t\tresult[\"max\"]=max\t\n\t\t\t//console.log(\"result::\", result)\n\t\t\tlet keys=Object.keys(data).sort()\n\t\t\tfor ( let key of keys)\n\t\t\t\t{\n\t\t\t\tresult.html+=data[key].html\t|| \"\"\n\t\t\t\t}\t\n\t\t\treturn result\n\t\t\t}\n        //###############################\n        //###############################\n\t\tfunction _prepareShows(channel, filter)\n\t\t\t{\n\t\t\t//that._log(\"prepair\", that.channels)\t\n\t\t\tlet shows=Object.keys(channel.stock).sort()\n\t\t\tshows.forEach(function (show, i)\n\t\t\t\t{\n\t\t\t\t//if ((channel.stock[show].end >= filter.past || channel.stock[show].start <= filter.future) && ( !channel.usedItems.includes(show)))\n\t\t\t\tif (\n\t\t\t\t\t(channel.stock[show].end >= filter.past  && channel.stock[show].start <= filter.future) && ( !channel.usedItems.includes(show)))\n\t\t\t\t\t{\n\t\t\t\t\tchannel.usedItems.push(show)\n\t\t\t\t\t_addTodolist(channel, \"add\", show)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t//console.log(\"toodo _prepareShows\", channel)\t\n\t\t\t}\n        //###############################\n        //###############################\n\t\tfunction _isValidChannel(channels, newChannel, source, tmpl, filter)\n\t\t\t{\n\t\t\tlet srcData = that._getType(newChannel, \"jsonstring\") ? that._JSONcorrector(newChannel) : \"\";\n\t\t\tif ( that._getType(srcData, \"hash\") && srcData.channeldata && srcData.epg ) // valid channel\n\t\t\t\t{\n\t\t\t\treturn _createChannelItem(channels, srcData, source, tmpl , filter )\n\t\t\t\t}\n\t\t\t}\n        //###############################\n        //###############################\n\t\tfunction _cleanChannel(channel, filter, what=[])\n\t\t\t{\n\t\t\t// veraltete Stock-Items aus dem Stock werfen\n\t\t\tif (what.length == 0 || what.includes(\"stock\"))\n\t\t\t\t{\n\t\t\t\tvar keys = Object.keys(channel.stock||{});\n\t\t\t\tfor (let key of keys)\n\t\t\t\t\t{\n\t\t\t\t\tlet item=channel.stock[key]\t\n\t\t\t\t\tif (item.end <= filter.past)\n\t\t\t\t\t\t{\n\t\t\t\t\t\tdelete channel.stock[key];\n\t\t\t\t\t\tif (channel.usedItems.includes(key) )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tchannel.usedItems.splice(channel.usedItems.indexOf(key),1)\n\t\t\t\t\t\t\t_addTodolist(channel,\"delete\",key)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t// veraltete EPG.Items entfernen, den Rest zum Stock hinzu\n\t\t\tif (what.length == 0 || what.includes(\"epg\"))\n\t\t\t\t{\n\t\t\t\tvar keys = Object.keys(channel.epg||{});\n\t\t\t\tfor (let key of keys)\n\t\t\t\t\t{\n\t\t\t\t\tlet reg=new RegExp(/^[0-9]+$/)\t\n\t\t\t\t\tif (reg.test(key))\n\t\t\t\t\t\t{\n\t\t\t\t\t\tlet item=_createShowItem(key, channel.epg[key], channel.id)\n\t\t\t\t\t\tif (item.end > filter.past)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tchannel.stock[key]=item\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\t\n\t\t\t\t\t}\n\t\t\t\t}\t\t\t\n\t\t\t//channel.epg={}\n\t\t\t}\n        //###############################\n        //###############################\n\t\tfunction _cleanAllChannels(cs, filter)\n\t\t\t{\n\t\t\tlet channels=cs.data||{}\n\t\t\tvar keys = Object.keys(channels);\n\t\t\tkeys.forEach(function (key, i)\n\t\t\t\t{\n\t\t\t\tlet channel=channels[key]\t\n\t\t\t\tif (_isBlacklisted([channel.name, channel.channelID, channel.sourceID ]))\n\t\t\t\t\t{\n\t\t\t\t\t_addTodolist(cs, \"delete_blacklist\", channel.id )\n\t\t\t\t\tdelete cs.data[key]\n\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\tchannel[\"todolist\"]={}\n\t\t\t\t_cleanChannel(channel, filter)\t\t\t\t\n\t\t\t\t})\n\t\t\t}\n        //###############################\n        //###############################\n\t\tfunction _template_mapper(templ, map, source)\n\t\t\t{\n\t\t\tvar mapkeys = Object.keys(map);\n\t\t\tvar sourcekeys = Object.keys(source);\n\t\t\tfor (let index of mapkeys)\n\t\t\t\t{\n\t\t\t\tconst needle = new RegExp(`<!${map[index][0]}!>`, \"gi\");\n\t\t\t\tif (needle.test(templ))\n\t\t\t\t\t{\n\t\t\t\t\tfor (let p=1; p<map[index].length;\tp++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\tif ( ! (map[index][p] in source) ) continue\n\t\t\t\t\t\tlet txt=source[map[index][p]]\n\n\t\t\t\t\t\tlet tpl=templ.replaceAll(needle, txt)\n\t\t\t\t\t\tif (tpl != templ)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttempl=tpl\n\t\t\t\t\t\t\tbreak\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\treturn templ\n\t\t\t}\n        //###############################\n        //###############################\n        function _createShowItem(index, epg, channelID)\n            {\t\t\n\t\t\tlet item=that._extender({},epg)\n\t\t\tlet start = (index.match(/^[0-9]+$/g)) ? parseInt(index) : false;\n\t\t\tlet duration = epg[that.basicConfig.map.duration[0]] || false\n\t\t\tduration=(duration && duration.match(/^[0-9]+$/g))? parseInt(duration) : false;\n            item= that._extender({},item,\n\t\t\t\t\t{\n\t\t\t\t\tstart: \t\tstart,\n\t\t\t\t\tduration: \tduration,\n\t\t\t\t\tend: \t\t(!start || !duration)?false:start+duration,\n\t\t\t\t\tkey:\t\t(start)?start.toString():false,\n                    epg:    \tthat._extender({}, epg),\n                    html:  \t\t\"\",\n\t\t\t\t\tid:\t\t\t`${channelID}_${start}`\n\t\t\t\t\t})\n\t\t\titem.html=_template_mapper(that.basicConfig.showTemplate, that.basicConfig.map, item)\n            return item\n            }\n        //###############################\n        //###############################\n\t\tfunction _addTodolist(obj=null, key=null, val=null)\n\t\t\t{\n\t\t\tif ( ! obj.todolist) obj[\"todolist\"]={}\n\t\t\tif ( ! obj.todolist[key]) obj[\"todolist\"][key]=[]\n\t\t\tobj.todolist[key].push(val)\n\t\t\treturn obj\n\t\t\t}\n        //###############################\n        //###############################\n\t\tfunction _createChannelItem(channels, srcData, source, tmpl, filter)\n\t\t\t{\n\t\t\tlet id = srcData.channeldata.channelid\n\t\t\tlet channelkey = `${source}_${id}`;\n\t\t\tif (!channels.data[channelkey]) \n\t\t\t\t{\n\t\t\t\tchannels.data[channelkey] = that._extender({}, tmpl)\n\t\t\t\t}\n\t\t\tlet channel=channels.data[channelkey]\n\t\t\tchannel[\"sourceID\"] = source;\n\t\t\tchannel[\"channelID\"] = srcData.channeldata.channelid\n\t\t\tchannel[\"name\"] = srcData.channeldata.name\n\t\t\tchannel[\"id\"] = channelkey;\n\t\t\tchannel[\"epg\"] = srcData.epg||{};\n\t\t\tchannel[\"preSpan\"]=0\n\t\t\tchannel[\"postSpan\"]=0\n\t\t\tchannel[\"stock\"]=channel.stock||{}\n\t\t\tchannel[\"usedItems\"]=[]\n\t\t\t_cleanChannel(channel, filter, [\"epg\"])\n\t\t\tlet lastUpdate=Math.floor(Date.parse(srcData.channeldata.lastUpdate||0)/1000)\n\t\t\tif (((lastUpdate||0) <= (channel.lastUpdate||0)) || _isBlacklisted([channel[\"name\"], channel[\"channelID\"], channel[\"sourceID\"] ]))\n\t\t\t\t{\n\t\t\t\treturn false;\t\n\t\t\t\t}\n\t\t\tchannel[\"lastUpdate\"]=lastUpdate\n\t\t\treturn channel\n\t\t\t}\t\t\n        // ###############################\t\n        // ###############################\n\t\tfunction _isBlacklisted(stack)\n\t\t\t{\n\t\t\tlet blacklist=that._getType(that.basicConfig.blacklist, \"array\")?that.basicConfig.blacklist:[]\n\t\t\tlet bool=null\t\n\t\t\tfor ( let item of blacklist)\n\t\t\t\t{\n\t\t\t\tlet myitem=(item.startsWith(\"<!not>\"))?item.slice(6):item\n\t\t\t\tlet re = new RegExp(myitem, \"g\")\n\t\t\t\tlet str=\"\"\n\t\t\t\tfor ( let hay of stack)\n\t\t\t\t\t{\n\t\t\t\t\tlet _bool=re.test(hay)\n\t\t\t\t\tif \t(item==myitem) \n\t\t\t\t\t\t{\t\n\t\t\t\t\t\tif (_bool === true) \n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\treturn true\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\tbool=_bool\t\n\t\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\t{\t\n\t\t\t\t\t\tbool=(bool==null)?_bool:(bool === true)?true:_bool\n\t\t\t\t\t\t}\t\n\t\t\t\t\t}\n\t\t\t\tbool=(item==myitem)?bool:(bool)?false:true\n\t\t\t\tif (bool) return bool\t\n\t\t\t\t}\t\n\t\t\treturn bool\n\t\t\t}\n        // ###############################\n        // ###############################\n\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_message()\n\t\t{\n\t\tvar args = Array.from(arguments);\n\t\tvar type=args.shift().toLowerCase()\n\t\tif (! [\"debug\",\"info\",\"warn\",\"log\",\"error\"].includes(type)) return;\n\t\tif (typeof this.hasAttribute === 'function')\n\t\t\t{\n\t\t\targs.unshift(this.nodeName+((this.hasAttribute(\"id\"))?\"(\"+this.getAttribute(\"id\")+\")\":\"\")+\":\");\n\t\t\t}\n\t\tif (this.PROPS.run.msg[type.toLowerCase()] !== false) console[type.toLowerCase()].apply(this,args);\n\t\t}\n\t//######################################################################################################################################\n\t_debug()\n\t\t{\n\t\tvar args = Array.from(arguments); args.unshift(\"debug\"); this._message.apply(this, args)\n\t\t}\n\t//######################################################################################################################################\n\t_info()\n\t\t{\n\t\tvar args = Array.from(arguments); args.unshift(\"info\"); this._message.apply(this, args)\n\t\t}\n\t//######################################################################################################################################\n\t_log()\n\t\t{\n\t\tvar args = Array.from(arguments); args.unshift(\"log\"); this._message.apply(this, args)\n\t\t}\n\t//######################################################################################################################################\n\t_warn()\n\t\t{\n\t\tvar args = Array.from(arguments); args.unshift(\"warn\"); this._message.apply(this, args)\n\t\t}\n\t//######################################################################################################################################\n\t_error()\n\t\t{\n\t\tvar args = Array.from(arguments); args.unshift(\"error\"); this._message.apply(this, args)\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_extender () //clone an Object\n\t\t{\n\t\tfor(var i=1; i<arguments.length; i++)\n\t\t\t{\n\t\t\tfor(var key in arguments[i])\n\t\t\t\t{\n\t\t\t\tvar isitArray=false;\n\t\t\t\targuments[0][key]=arguments[0][key]||{};\n\t\t\t\tif (typeof arguments[i][key] === \"function\")\n\t\t\t\t\t{\n\t\t\t\t\targuments[0][key] = arguments[i][key];\n\t\t\t\t\t}\n\t\t\t\telse if ( isObject(arguments[i][key]) )\n\t\t\t\t\t{\n\t\t\t\t\targuments[0][key]=(Array.isArray(arguments[i][key]))? arguments[i][key]:this._extender(arguments[0][key],arguments[i][key]);\n\t\t\t\t\t}\n\t\t\t\telse if (Object.prototype.hasOwnProperty.call(arguments[i], key))\n\t\t\t\t\t{\n\t\t\t\t\targuments[0][key] = arguments[i][key];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\treturn arguments[0];\n\t\tfunction isObject(obj)\n\t\t\t{\n\t\t\treturn obj === Object(obj);\n\t\t  \t}\n\t\t};\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_getType(obj, types=null)\n\t\t{\n\t\tlet reg=/\\s*([|,;\\s])\\s*/g;\n\t\ttypes= (!types)?null:( (Array.isArray(types))?types: ((!(typeof(types) == \"string\"))?null:(types == \"\")?null:types.split(reg)) );\n\n\t\tvar t=typeof(obj);\n\t\tif (t==\"string\")\n\t\t\t{\n\t\t\ttry\n\t\t\t\t{\n\t\t\t\tt=\"jsonstring\"\n\t\t\t\tJSON.parse(obj);\n\t\t\t\t}\n\t\t\tcatch (e)\n\t\t\t\t{\n\t\t\t\tt=\"string\"\n\t\t\t\t}\n\t\t\t}\n\t\telse if (t==\"object\")\n\t\t\t{\n\t\t\tif (Array.isArray(obj))\n\t\t\t\t{\n\t\t\t\tt=\"array\";\n\t\t\t\t}\n\t\t\telse if (obj===null)\n\t\t\t\t{\n\t\t\t\tt=\"null\";\n\t\t\t\t}\n\t\t\telse if (obj.nodeType !== undefined)\n\t\t\t\t{\n\t\t\t\tswitch\t(obj.nodeType)\n\t\t\t\t\t{\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tt=\"nodeElement\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\tt=\"nodeText\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tt=\"node\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\telse if (obj instanceof FormData)\n\t\t\t\t{\n\t\t\t\tt=\"formdata\"\n\t\t\t\t}\n\t\t\telse if ( (Object.getPrototypeOf(obj)) && (obj.length))\n\t\t\t\t{\n\t\t\t\tlet x=Object.getPrototypeOf(obj);\n\t\t\t\tx=x.toString();\n\t\t\t\tlet y=x.match(/\\s(.+?)\\]$/);\n\t\t\t\tif (y) t=\"array\"+y[1];\n\t\t\t\t}\n\t\t\telse if (Object.hasOwn(obj,\"thisIsClass\"))\n\t\t\t\t{\n\t\t\t\tt=\"class\";\n\t\t\t\t}\t\n\t\t\telse\n\t\t\t\t{\n\t\t\t\tt=\"hash\";\n\t\t\t\t}\n\t\t\t}\n\t\tif ( (types) && (Array.isArray(types)) )\n\t\t\t{\n\t\t\tlet q = types.includes(t);\n\t\t\ttypes.forEach(type =>\n\t\t\t\t{\n\t\t\t\tif (q === true) return;\n\t\t\t\tif ( (type.endsWith(\".\")) && (type.substr(-1)==t) ) q=true;\n\t\t\t\t});\n\t\t\treturn (q|t);\n\t\t\t}\n\t\treturn t;\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t_JSONcorrector(val=\"[]\", splitter=null)\n\t\t{\n\t\tlet org=val;\n\t\tif (this._getType(val, \"string,jsonstring\"))\n\t\t\t{\n\t\t\ttry\n\t\t\t\t{\n\t\t\t\tval=JSON.parse(val);\n\t\t\t\t}\n\t\t\tcatch\n\t\t\t\t{\n\t\t\t\tif (org == \"\")\n\t\t\t\t\t{\n\t\t\t\t\tconsole.debug('%cJSONcorrector: your JSON-Code was empty ', 'background: #222; color: #bada55');\n\t\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\tconsole.debug('%cToolBar: there was an Error in your JSON Code ', 'background: #222; color: #bada55');\n\t\t\t\t\tconsole.debug('JSON-code: %c'+org, 'background: #222; color: #bada55');\n\t\t\t\t\t}\n\t\t\t\tif (splitter)\n\t\t\t\t\t{\n\t\t\t\t\tval=val.split(splitter);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\treturn ( (this._getType(val,\"array hash\"))?val:[val] );\n\t\t}\n\n\n\t_get2digit(dig, len=2)\n\t\t{\n\t\tdig=dig+\"\"\n\t\twhile (dig.length<len){dig=\"0\"+dig}\n\t\treturn dig\n\t\t}\n\n\n    }","/*\n* tgEPG component\n*\n* Copyright (c) 2020-2021 Thomas Geißenhöner <quietcry@gmx.de>\n* Under MIT License (http://www.opensource.org/licenses/mit-license.php)\n*\n*\n*/\n\nimport { tgControls } from \"../tgControls.js\";\nimport { tgEpgTimebarDefaults } from \"../../defaults_Timebar.js\";\n\nexport class tgEpgTimebar extends tgControls\n\t{\t\t\t\n\tconstructor(mode=\"open\", props={})\n\t\t{\n\t\tsuper(mode, new tgEpgTimebarDefaults(), props);\n\t\tvar that=this;\n\t\t// default Parameter nach Props einlesen\n\t\tthis[\"PROPS\"]=this._extender( \n\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\tthis[\"PROPS\"]||{},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdefault:\t{\n\t\t\t\t\t\t\t\t\t\tmsg:\t{\n\t\t\t\t\t\t\t\t\t\t\t\tlog:false,\n\t\t\t\t\t\t\t\t\t\t\t\tdebug:true,\n\t\t\t\t\t\t\t\t\t\t\t\terror:true\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tskale:0,\n\t\t\t\t\t\t\t\t\t\tfirstStart:0,\n\t\t\t\t\t\t\t\t\t\tlastEnd:0,\n\t\t\t\t\t\t\t\t\t\ttimePosition:0,\n\t\t\t\t\t\t\t\t\t\tepgEnd:100\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tattr:\t\tthis._extender({},tgEpgTimebar.properties)\n\t\t\t\t\t\t\t});\n\n\t\tthis.app = this.shadowRoot.querySelector('[name=\"app\"]');\n\t\t//this._log(\"constructor - constructed\", this.app);\n\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tstatic get properties()\n\t\t{\n\t\tlet defProps=\ttgEpgTimebarDefaults.properties || {};\n\t\tlet superProps=super.properties||{};\n\t\tlet props= \t{\n\t\t\t\t\ttimelinestart:null,\n\t\t\t\t\ttimelineend:null,\n\t\t\t\t\tenableTimemarker:false\n\t\t\t\t\t};\n\t\tprops=Object.assign(superProps,defProps,props);\n\t\treturn props;\n\t\t}\n\t//######################################################################################################################################\n\tstatic get observedAttributes() \n\t\t{\n\t\tlet props=Object.keys(tgEpgTimebar.properties)\n        return props;\n\t\t}\n\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tconnectedCallback ()\n\t\t{\n\t\tvar that=this;\n\t\t//console.log(\" timebatr connectedCallback\", \"start\");\n\t\tif (this.PROPS.run.connected == 0)\n\t\t \t{\n\t\t\tthis.render();\n\t\t\tthis.moveToOffset();\n\t\t// \tthis.init();\n\t\t//\tthis.refreshAppSizeAfterResizeOrInit();\n\t\t// \tthis.buildApp();\n\t\t// \tthis.getData();\n\t\t \tthis.connected();\n\t\t \t}\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tattributeChangedCallback(attrName, oldVal, newVal)\n\t\t{\n\t\tif ( (! newVal) || (! this.PROPS.paras.hasOwnProperty(attrName)) || (this.PROPS.paras[attrName]===newVal)) return;\n\t\toldVal=oldVal || this.PROPS.paras[attrName];\n\t\tsuper.attributeChangedCallback(attrName, newVal, oldVal );\n\t\tthis._debug(\"change Attribute \"+attrName, \"from\", oldVal, \"to\" , newVal);\n\t\tthis.PROPS.paras[attrName]=newVal;\n\t\tswitch (attrName)\n\t\t\t{\n\t\t\tcase \"timerowheight\":\n\t\t\t\t//this.timeRow.style.height=parseInt(newVal)+\"px\";\n\t\t\t\tbreak;\n\t\t\tcase \"data\":\n\t\t\t\tthis.PROPS.paras[\"dataref\"]=newVal;\n\t\t\t\tthis.dataHandler.getData(newVal);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t//######################################################################################################################################\n\t//setter & getter\n\t//\n\t//\n\t//######################################################################################################################################\n\tget timelinestart()\n\t\t{\n\t\treturn this.PROPS.run.timelinestart;\n\t\t}\n\tset timelinestart(val)\n\t\t{\n\t\tif (this.PROPS.run.timelinestart != val)\n\t\t\t{\n\t\t\tthis.PROPS.run[\"timelinestart\"]=val;\n\t\t\tthis.render()\n\t\t\t}\n\t\t}\n\tget timelineend()\n\t\t{\n\t\treturn this.PROPS.run.timelineend;\n\t\t}\n\tset timelineend(val)\n\t\t{\n\t\tif (this.PROPS.run.timelineend != val)\n\t\t\t{\n\t\t\tthis.PROPS.run[\"timelineend\"]=val;\n\t\t\tthis.render()\n\t\t\t}\n\t\t}\n\tget supermaster()\n\t\t{\n\t\treturn this.PROPS.run.supermaster;\n\t\t}\n\tset supermaster(val)\n\t\t{\n\t\tthis.PROPS.run[\"supermaster\"]=val;\n\t\t}\n\tget design_timeFrameStart()\n\t\t{\n\t\treturn this.PROPS.run.timeFrameStart||null;\n\t\t}\n\tset design_timeFrameStart(val)\n\t\t{\n\t\t//console.info(\"transer\", this.PROPS.run.timeFrameStart, val)\n\n\t\tif (this.PROPS.run.timeFrameStart != val)\n\t\t\t{\n\t\t\tthis.PROPS.run[\"timeFrameStart\"]=val;\n\t\t\t}\n\t\t\t//console.info(\"transer\", this.PROPS.run.timeFrameStart, val)\n\t\t}\n\tget design_timeFrameEnd()\n\t\t{\n\t\treturn this.PROPS.run.timeFrameEnd||null;\n\t\t}\n\tset design_timeFrameEnd(val)\n\t\t{\n\t\tif (this.PROPS.run.timeFrameEnd != val)\n\t\t\t{\n\t\t\tthis.PROPS.run[\"timeFrameEnd\"]=val;\n\t\t\t}\n\t\t}\n\t//######################################################################################################################################\n\t//init()\n\t//prüft die Umgebung und passt Parameter entsprechend an\n\t//\n\t//######################################################################################################################################\n\trender()\n\t\t{\n\t\tif  ( ( ! this.PROPS.run.timelinestart) || ( ! this.PROPS.run.timelineend) )\n\t\t\t{\n\t\t\treturn\n\t\t\t}\n\t\t//console.log(\"trans render\", this.PROPS.run.timelinestart, this.PROPS.run.timelineend)\n\t\t//this.app.innerHTML=\"\"\n\t\tlet that=this;\n\t\tlet test;\n\t\tlet digitCell=``;\n\t\tlet barCell=``;\n\t\tvar root = this;\n\t\twhile (root.parentNode)\n\t\t\t{\n\t\t\troot = root.parentNode;\n\t\t\t}\n\t\troot= root.querySelector('[name=\"timeBar\"]');\n\t\t// var cellHeight=\troot.clientHeight||this.app.clientHeight || 50\n\t\t// cellHeight=cellHeight/5\n\t\t//let hours=(this.PROPS.run.previewEnd-this.PROPS.run.previewStart)/3600;\n\t\t//this._debug(\"run\", cellHeight, this.app, this.PROPS.run)\n\t\tvar hourCellContainer=this.app.querySelector('[name=\"hourCellContainer\"]')\n\t\tif (! hourCellContainer)\n\t\t\t{\n\t\t\tthis.app.innerHTML=`\n\t\t\t\t<div class=\"greedyH Tab \">\n\t\t\t\t\t<div name=\"digitline\" class=\"TabRow\" style=\"height:25%\">\n\t\t\t\t\t\t<div class=\"TabCell\">\n\t\t\t\t\t\t\t<!--digitCellFix-->\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div name=\"barline\" class=\"TabRow\" style=\"height:75%\">\n\t\t\t\t\t\t<div class=\"TabCell\">\n\t\t\t\t\t\t\t<div class=\"Tab greedy\" >\n\t\t\t\t\t\t\t\t<div name=\"hourCellContainer\" class=\"TabRow\" >\n\t\t\t\t\t\t\t\t\t<!--barCell-->\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"Tab free\" name=\"digitline\">\n\t\t\t\t\t<div name=\"textCellContainer\" class=\"TabRow\">\n\t\t\t\t\t\t<div name=\"emptyCell\" class=\"TabCell cellwidth2\"></div>\n\t\t\t\t\t\t<div name=\"emptyCell\" class=\"TabCell\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t`\n\t\t\thourCellContainer=this.app.querySelector('[name=\"hourCellContainer\"]')\n\t\t\t}\n\t\tvar textCellContainer=this.app.querySelector('[name=\"textCellContainer\"]')\n\t\tvar textCellEmptyCell=textCellContainer.querySelector('[name=\"emptyCell\"]:last-of-type')\n\n\t\tvar hourCells=[...hourCellContainer.querySelectorAll('[name=\"hourcell\"]')]\n\t\tvar textCells=[...textCellContainer.querySelectorAll('[name=\"digitcell\"]')]\n\t\tvar index=1\n//this._log(\"hourCellContainer\", hourCellContainer)\n\t\tfor (let i=this.PROPS.run.timelinestart+3600; i<=this.PROPS.run.timelineend;i+=3600)\n\t\t\t{\n\t\t\t//\tthis._log(\"loop\", i)\n\t\n\t\t\tif (textCells.length >= index)\n\t\t\t\t{\n\t\t\t//\tthis._log(\"true\", i)\n\t\t\t\ttextCells[index-1].innerHTML=getDigitString(i)\n\t\t\t\t}\n\t\t\telse\n\t\t\t\t{\n\t\t\t//\tthis._log(\"else\", textCellContainer)\n\t\n\t\t\t\tlet cell =getdigitcell(getDigitString(i))\n\t\t\t\ttextCells.push(cell)\n\t\t\t\ttextCellContainer.insertBefore(cell,textCellEmptyCell)\n\t\t\t\t}\n\t\t\tif (hourCells.length < index)\n\t\t\t\t{\n\n\t\t\t\tlet cell =gethourcell()\n\t\t\t\thourCells.push(cell)\n\t\t\t\thourCellContainer.append(cell)\n\t\t\t\t}\n\t\t\tindex+=1\n\t\t\t}\n\t\twhile (textCells.length > index)\n\t\t\t{\n\t\t\ttextCells.pop().remove()\n\t\t\t}\n\t\twhile (hourCells.length > index)\n\t\t\t{\n\t\t\thourCells.pop().remove()\n\t\t\t}\n\n\t\treturn;\n\t\tfunction getDigitString(x)\n\t\t\t{\n\t\t\tlet digit= that._get2digit(new Date(x*1000).getHours()+\"\")+\":00\"\n\t\t\t//that._log(\"digit\", digit)\n\t\t\treturn digit\n\t\t\t}\n\t\tfunction getdigitcell(x)\n\t\t\t{\n\t\t\treturn that._htmlToElement(`<div  name=\"digitcell\" class=\"TabCell cellwidth4\">${x}</div>`)\n\t\t\t}\n\t\tfunction gethourcell()\n\t\t\t{\n\t\t\treturn that._htmlToElement\t(`\n\t\t\t\t\t\t\t\t\t\t<div name=\"hourcell\" class=\"TabCell cellwidth4\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"Tab greedy\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\" style=\"height:*%\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"TabCell\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"Tab greedy\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div name=\"barlinecell\" class=\"TabCell\" style=\"width:100%\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\" style=\"height:33%\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"TabCell\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"Tab greedy\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div name=\"barlinecell\" class=\"TabCell\" style=\"width:50%\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div name=\"barlinecell\" class=\"TabCell\" style=\"width:50%\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\" style=\"height:33%\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"TabCell\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"Tab greedy\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div name=\"barlinecell\" class=\"TabCell\" style=\"width:25%\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div name=\"barlinecell\" class=\"TabCell\" style=\"width:25%\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div name=\"barlinecell\" class=\"TabCell\" style=\"width:25%\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div name=\"barlinecell\" class=\"TabCell\" style=\"width:25%\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t`)\n\t\t\t}\n\n\t\t}\n\t//#########################################################################################################\n\t//## refreshAppSizeAfterResizeOrInit()\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\tmoveToOffset()\n\t\t{\n\n\t\t}\n\t//#########################################################################################################\n\t//## refreshAppSizeAfterResizeOrInit()\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\trefreshAppSizeAfterResizeOrInit()\n\t\t{\n\t\tthis._debug(\"refreshAppSizeAfterResizeOrInit\")\n\t\tif ( ( this.buttonCell) && (this.PROPS.paras.timerowheight) )\n\t\t\t{\n\t\t\tthis.buttonCell.style.height=parseInt(this.PROPS.paras.timerowheight)+\"px\";\n\t\t\t}\n\t\tif ( ( this.buttonCell) && (this.PROPS.paras.channelcolumnwidth) )\n\t\t\t{\n\t\t\tthis.buttonCell.style.width=parseInt(this.PROPS.paras.channelcolumnwidth)+\"px\";\n\t\t\t}\n\t\tvar width =\tthis.timeBar.clientWidth\n\t\tvar hours=null;\n\t\tif (this.PROPS.run.previewSpans && this.getType(this.PROPS.run.previewSpans,\"hash\"))\n\t\t\t{\n\t\t\tvar myKeys=Object.keys(this.PROPS.run.previewSpans)\n\t\t\tmyKeys=myKeys.sort()\n\t\t\tvar found=0;\n\t\t\tfor (let i = 0; i < myKeys.length; i++)\n\t\t\t\t{\n\t\t\t\t//this._debug(\"width\", parseInt(myKeys[i]), width)\n\t\t\t\tif ((parseInt(myKeys[i]) != 0) && (parseInt(myKeys[i]) <= width))\n\t\t\t\t\t{\n\t\t\t\t\thours=this.PROPS.run.previewSpans[myKeys[i]]\n\t\t\t\t\t//this._debug(\"hours\", myKeys[i], hours)\n\t\t\t\t\t}\n\t\t\t\telse if\t(parseInt(myKeys[i]) > width)\n\t\t\t\t\t{\n\t\t\t\t\tfound=1\n\t\t\t\t\t//this._debug(\"found\", myKeys[i])\n\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t  \t}\n\t\t\tif ((found == null) || (hours == null))\n\t\t\t\t{\n\t\t\t\thours=this.PROPS.run.previewSpans[\"0\"]||10\n\t\t\t\t}\n\t\t\t}\n\t\tthis.PROPS.run[\"previewSpan\"]=parseFloat(hours)||1\n\t\tthis.PROPS.run[\"scale\"]=width/(hours*60)\n\t\t//this._debug(\"hours\", hours, width, this.PROPS.run.scale, this.PROPS.run.previewSpan)\n\t\t//this._debug(\"refreshApp Width\", this.buttonCell, this.buttonCell.clientWidth)\n\t\t//this._debug(\"refreshApp Width\", this.timeRow, this.timeRow.clientWidth)\n\t\t//this._debug(\"refreshApp Width\", this.timeBar, this.timeBar.offsetWidth)\n\t\t}\n\n\n\t//#########################################################################################################\n\t//## buildApp()\n\t//## richtet die App-Oberfläche ein\n\t//##\n\t//##\n\t//#########################################################################################################\n\tbuildApp()\n\t\t{\n\t\tthis._debug(\"buildApp:\", this.PROPS.run.mode);\n\t\tvar that=this;\n\t\tvar timeBar=this.timeBar.querySelector('tg-epg-timebar');\n\t\tif (! timeBar)\n\t\t\t{\n\t\t\t//timeBar=document.createElement(\"tg-epg-timebar\");\n\t\t\t//this.timeBar.appendChild(timeBar);\n\t\t\t}\n\n\t\t// // inject CCS-File to <HEAD>\n\t\t// let cssLink = document.querySelector('head > [name=\"tgEpgStyle\"]');\n\t\t// if (! cssLink)\n\t\t// \t{\n\t\t// \tlet style=document.createElement(\"link\");\n\t\t// \tstyle.setAttribute(\"rel\",\"stylesheet\");\n\t\t// \tstyle.setAttribute(\"name\",\"tgEpgStyle\");\n\t\t// \tstyle.setAttribute(\"href\",\"tgEpg.hlp.cssInjectToHead.css\");\n\t\t// \tdocument.getElementsByTagName(\"head\")[0].appendChild(style);\n\t\t// \t}\n\t\tif ( (this.superButton) && (! this.superButton.hasAttribute(\"hasClickHandler\") ) )\n\t\t\t{\n\t\t\tthis.superButton.addEventListener(\"click\", function(event)\n\t\t\t\t{\n\t\t\t\tthat.manageToolbar(\"init\", event);\n\t\t\t\t});\n\t\t\tthis.superButton.setAttribute(\"hasClickHandler\", 1);\n\t\t\t}\n\t\treturn;\n\t\t}\n\t//#########################################################################################################\n\t//##\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\tloadDefaultOptions()\n\t\t{\n\t\tthis._clearOptions(this.PROPS.defaults._storageKey);\n\t\tthis.PROPS.set = this.extender({}, this.PROPS.defaults, this.readOptions(this.PROPS.defaults._storageKey));\n\t\tthis._writeOptions(this.PROPS.defaults._storageKey, this.PROPS.set);\n\t\tthis._debug(\"loadDefaultOptions --\", this.PROPS.set)\n\t\t//this.refreshApp();\n\t\t}\n\t//#########################################################################################################\n\t//##\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\tsetOptions(opts={})\n\t\t{\n\t\tlet val = this.tgEpgDefaults.setOptions(this, opts);\n\t\tthis.PROPS.set=this.extender(this.PROPS.set, val);\n\t\tthis._writeOptions(this.PROPS.defaults._storageKey, this.PROPS.set);\n\t\tthis._debug(\"setOptions --\", val)\n\t\t}\n\t//#########################################################################################################\n\t//##\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\tgetOptions(opts={})\n\t\t{\n\t\tthis._debug(\"getOptions --opts\", opts);\n\t\tlet val = this.tgEpgDefaults.getOptions(this, opts);\n\t\tthis._debug(\"getOptions --val\", val);\n\t\treturn val;\n\t\t}\n\n\t//#########################################################################################################\n\t//##\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\n\t//############################################################################################################################################\n\t//############################################################################################################################################\n\t}\n\nwindow.customElements.define('tgepg-timebar', tgEpgTimebar);\n","import { tgEpgDefaultsCommon }  from \"./defaults_Common.js\"\n\nexport class tgEpgTimebarDefaults extends tgEpgDefaultsCommon\n\t{\n\tthisIsClass=true\t\t\n\tconstructor()\n\t\t{\n\t\tsuper(\"open\");\n\t\tthis[\"PROPS\"]=\n\t\t\t\t\t\t{\n\t\t\t\t\t\tdefault: \tthis._extender({}, this[\"PROPS\"].default||{},\n\t\t\t\t\t\t\t\t\t{\n\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t}\n\n\t\t}\n\tget properties()\n\t\t{\n\t\tvar props=super.properties||{_common:false};\n\t\tprops[\"_default\"]=true;\n\t\treturn props;\n\t\t}\t\n\t\t\t\n\tstatic get template()\n\t\t{\n\t\tvar styles=super.styles||\"\";\n\t\tstyles=styles+\t`\n\t\t\t\t\t\t<style>\n\t\t\t\t\t\t:host\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t--timeBarBorder: 1px solid black;\n\t\t\t\t\t\t\t--timeBarCellHeight: calc( var( --topBarHeight, 24px ) / 5 );\n\t\t\t\t\t\t\tdisplay:inline-block;\n\t\t\t\t\t\t\theight:var( --topBarHeight )  !important;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t[name=\"app\"]\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\twhite-space: normal;\n\t\t\t\t\t\t\tbackground-color: gray;\n\t\t\t\t\t\t\tdisplay:inline-block;\n\t\t\t\t\t\t\tposition:relative;\n\t\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t[name=\"digitline\"]\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\theight:calc( var(--timeBarCellHeight) * 1) !important;\n\t\t\t\t\t\t\tmin-height:calc( var(--timeBarCellHeight) * 1) !important;\n\t\t\t\t\t\t\tmax-height:calc( var(--timeBarCellHeight) * 1) !important;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t[name=\"digitline\"] .TabCell .TabCell\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvertical-align: middle;\n\t\t\t\t\t\t\ttext-align:center;\n\t\t\t\t\t\t\tfont-size: min(calc( var(--timeBarCellHeight) * 2), 12px);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t[name=\"digitline\"] .TabCell .TabCell:not(:first-child)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\twidth:calc( var(--timeBarCellWidth) * 4) !important;\n\t\t\t\t\t\t\tmin-width: calc( var(--timeBarCellWidth) * 4 );\n\t\t\t\t\t\t\tmax-width: calc( var(--timeBarCellWidth) * 4 );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t[name=\"digitline\"] .TabCell .TabCell:first-child\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\twidth:calc( var(--timeBarCellWidth) * 2) !important;\n\t\t\t\t\t\t\tmin-width: calc( var(--timeBarCellWidth) * 2 );\n\t\t\t\t\t\t\tmax-width: calc( var(--timeBarCellWidth) * 2 );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t[name=\"digitlinefree\"]\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tposition:absolute;\n\t\t\t\t\t\t\tleft:0px;\n\t\t\t\t\t\t\ttop:0px;\n\t\t\t\t\t\t\theight:calc( var(--timeBarCellHeight) * 1) !important;\n\t\t\t\t\t\t\tmin-height:calc( var(--timeBarCellHeight) * 1) !important;\n\t\t\t\t\t\t\tmax-height:calc( var(--timeBarCellHeight) * 1) !important;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t[name=\"digitlinefree\"] .TabCell\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvertical-align: middle;\n\t\t\t\t\t\t\ttext-align:center;\n\t\t\t\t\t\t\tfont-size: clamp(10px , calc( var(--timeBarCellHeight) * 1) , 20px);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t[name=\"digitlinefree\"] .TabCell:not(:first-child)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\twidth:calc( var(--timeBarCellWidth) * 4) !important;\n\t\t\t\t\t\t\tmin-width: calc( var(--timeBarCellWidth) * 4 );\n\t\t\t\t\t\t\tmax-width: calc( var(--timeBarCellWidth) * 4 );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t[name=\"digitlinefree\"] .TabCell:first-child\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\twidth:calc( var(--timeBarCellWidth) * 2) !important;\n\t\t\t\t\t\t\tmin-width: calc( var(--timeBarCellWidth) * 2 );\n\t\t\t\t\t\t\tmax-width: calc( var(--timeBarCellWidth) * 2 );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t[name=\"barline\"]\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\theight:calc( var(--timeBarCellHeight) * 4) !important;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t[name=\"hourcell\"] .Tab > .TabRow > .TabCell\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvertical-align:top;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t[name=\"hourcell\"] .greedyH > .TabRow:last-child > .TabCell\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tborder-left: var(--timeBarBorder);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t[name=\"barlinecell\"]\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tborder-left: var( --timeBarBorder , 1px solid black);\n\t\t\t\t\t\t\t}\t\t\t\t\n\t\t\t\t\t\t.cellwidth1\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\twidth:\t\tcalc( var( --scale , 1 ) * 15 * 60 * 1px) !important;\n\t\t\t\t\t\t\tmin-width: \tcalc( var( --scale , 1 ) * 15 * 60 * 1px) !important;\n\t\t\t\t\t\t\tmax-width: \tcalc( var( --scale , 1 ) * 15 * 60 * 1px) !important;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t.cellwidth2\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\twidth:\t\tcalc( var( --scale , 1 ) * 15 * 60 * 2px) !important;\n\t\t\t\t\t\t\tmin-width: \tcalc( var( --scale , 1 ) * 15 * 60 * 2px) !important;\n\t\t\t\t\t\t\tmax-width: \tcalc( var( --scale , 1 ) * 15 * 60 * 2px) !important;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t.cellwidth4\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\twidth:\t\tcalc( var( --scale , 1 ) * 15 * 60 * 4px) !important;\n\t\t\t\t\t\t\tmin-width: \tcalc( var( --scale , 1 ) * 15 * 60 * 4px) !important;\n\t\t\t\t\t\t\tmax-width: \tcalc( var( --scale , 1 ) * 15 * 60 * 4px) !important;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t[name=\"digitline\"]:not(.free) .TabCell .TabCell\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvertical-align: middle;\n\t\t\t\t\t\t\ttext-align:center;\n\t\t\t\t\t\t\tfont-size: min(calc( var(--timeBarLineHeight) * 2), 12px);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t[name=\"digitline\"].free\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tposition:absolute;\n\t\t\t\t\t\t\tleft:0px;\n\t\t\t\t\t\t\ttop:0px;\n\t\t\t\t\t\t\tmin-height:15px;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t[name=\"digitline\"].free .TabCell\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvertical-align: middle;\n\t\t\t\t\t\t\ttext-align:center;\n\t\t\t\t\t\t\tfont-size: clamp(10px , var(--timeBarLineHeight) , 20px);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t</style>\n\n\t\t\t\t\t\t`\n\t\tvar tmp=styles+\t`\n\t\t\t\t\t\t<!-- App -->\n\t\t\t\t\t\t<div name=\"app\" class=\"\"></div>\n\t\t\t\t\t\t<!-- App Ende-->\n\n\t\t\t\t\t\t`\n\t\treturn\ttmp;\n\t\t}\n\t}\n","/*refr\n* tgEPG component\n*\n* Copyright (c) 2020-2021 Thomas Geißenhöner <quietcry@gmx.de>\n* Under MIT License (http://www.opensource.org/licenses/mit-license.php)\n*\n*\n*/\n\nimport { channelProgListBasis } from './channelProgList.basis.js';\nimport { tgEpgChannelListDefaults } from \"../../defaults_Channellist.js\";\n\nexport class tgEpgChannelList extends channelProgListBasis\n\t{\n\tconstructor(mode=\"open\", props={})\n\t\t{\n\t\tsuper(mode, new tgEpgChannelListDefaults(), props);\n\t\tvar that=this;\n\t\tconsole.warn(\"constr tgEpgChannelList\")\n\n\t\t// default Parameter nach Props einlesen\n\t\tthis[\"PROPS\"]=this._extender(\t{},\n\t\t\t\t\t\t\t\t\t\tthis[\"PROPS\"]||{},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tdefault:\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tmsg:\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlog:true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdebug:true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terror:true\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\tskale:0,\n\t\t\t\t\t\t\t\t\t\t\t\t\tfirstStart:0,\n\t\t\t\t\t\t\t\t\t\t\t\t\tlastEnd:0,\n\t\t\t\t\t\t\t\t\t\t\t\t\ttimePosition:0,\n\t\t\t\t\t\t\t\t\t\t\t\t\tepgEnd:100\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tattr:\t\tthis._extender({},tgEpgChannelList.properties)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t)\n\t\tthis[\"PROPS\"][\"run\"]=this._extender\t(\tthis[\"PROPS\"][\"default\"]||{},\n\t\t\t\t\t\t\t\t\t\t\t\tthis[\"PROPS\"][\"run\"]||{},\n\t\t\t\t\t\t\t\t\t\t\t\tprops\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\tthis.app = this.shadowRoot.querySelector('[name=\"app\"]');\n\n\t\t}\n\n\n\t// //######################################################################################################################################\n\t// //\n\t// //\n\t// //\n\t// //######################################################################################################################################\n\t// template()\n\t// \t{\n\t// \tlet tmp = tgEpgChannelListDefaults.template;\n\t// \treturn tmp;\n\t// \t}\n\t// //######################################################################################################################################\n\t// //\n\t// // properties()\n\t// // collect name-value pairs to use as observed Attributes and the corresponding this->PROPS->attr\n\t// //\n\t// //######################################################################################################################################\n\t// static get properties()\n\t// \t{\n\t// \tlet props=\ttgEpgChannelListDefaults.properties || {};\n\t// \tlet superProps=super.properties||{};\n\t// \tprops=Object.assign(superProps,props);\n\t// \treturn props;\n\t// \t}\n\t// //######################################################################################################################################\n\t// //\n\t// //\n\t// //\n\t// //######################################################################################################################################\n\t// static get observedAttributes()\n\t//  \t{\n\t// \tlet props=tgEpgChannelList.properties;\n\t// \tprops=Object.keys(props);\n\t// \treturn  props;\n  \t//  \t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tconnectedCallback ()\n\t\t{\n\t\tvar that=this;\n\t\tif (this.PROPS.run.connected == 0)\n\t\t \t{\n\t\t\t//this.render();\n\t\t\t//this.moveToOffset();\n\t\t// \tthis.init();\n\t\t//\tthis.refreshAppSizeAfterResizeOrInit();\n\t\t// \tthis.buildApp();\n\t\t// \tthis.getData();\n\t\t \tthis.connected();\n\t\t \t}\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tattributeChangedCallback(attrName, oldVal, newVal)\n\t\t{\n\t\tif ( (! newVal) || (! this.PROPS.paras.hasOwnProperty(attrName)) || (this.PROPS.paras[attrName]===newVal)) return;\n\t\toldVal=oldVal || this.PROPS.paras[attrName];\n\t\tsuper.attributeChangedCallback(attrName, newVal, oldVal );\n\t\t//this._debug(\"change Attribute \"+attrName, \"from\", oldVal, \"to\" , newVal);\n\t\tthis.PROPS.paras[attrName]=newVal;\n\t\tswitch (attrName)\n\t\t\t{\n\t\t\tcase \"timerowheight\":\n\t\t\t\t//this.timeRow.style.height=parseInt(newVal)+\"px\";\n\t\t\t\tbreak;\n\t\t\tcase \"channelfilter\":\n\t\t\t\tthis.setFilter(newVal)\n\t\t\t\t//this.timeRow.style.height=parseInt(newVal)+\"px\";\n\t\t\t\tbreak;\n\t\t\tcase \"data\":\n\t\t\t\tthis.PROPS.paras[\"dataref\"]=newVal;\n\t\t\t\tthis.dataHandler.getData(newVal);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t//######################################################################################################################################\n\t//setter & getter\n\t//\n\t//\n\t//######################################################################################################################################\n\n\tget _addCell()\n\t\t{\n\t\treturn this.PROPS.run.previewStart;\n\t\t}\n\tset _addCell(val)\n\t\t{\n\t\t}\n\n\tget supermaster()\n\t\t{\n\t\treturn this.PROPS.run.supermaster;\n\t\t}\n\tset supermaster(val)\n\t\t{\n\t\tthis.PROPS.run[\"supermaster\"]=val;\n\t\t}\n\t//######################################################################################################################################\n\t//createChannelLine()\n\t//fügt einen Channel in die Liste\n\t//\n\t//######################################################################################################################################\n\tcreateChannelLine(channel)\n\t\t{\n\t\tif (this.isValidChannel(channel, {data:\"hash\", id:\"string\"}) && ! this.app.querySelector(`[id=\"${channel.id}\"]`))\n\t\t\t{\n\t\t\tif (Object.keys(channel.data).length == 0)\n\t\t\t\t{\n\t\t\t\treturn\t\n\t\t\t\t}\t\n\n\t\t\tlet\thtml=`<tgepg-channellistitem class=\"TabCell\" ><div slot=channelname>${channel.friendlyName || channel.name || channel.channelID}</div></tgepg-channellistitem>`\n\t\t\thtml=this._htmlToElement(html)\n\t\t\tlet row=this._htmlToElement(`<div class=\"TabRow\"  id=\"${channel.id}\"></div>`)\n\t\t\trow.appendChild(html)\n\t\t\tthis.app.appendChild(row);\n\n\t\t\t}\n\t\t}\n\n\n\t// //######################################################################################################################################\n\t// //init()\n\t// //prüft die Umgebung und passt Parameter entsprechend an\n\t// //\n\t// //######################################################################################################################################\n\t// addLine(id, rawFilter=[], channel=\"-\",  html=\"\", shown=true)\n\t// \t{\n\t// \tid=\"channel_\"+id\n\t// \tif (this.app.querySelector(`#${id}`) !== null) return\n\t// \tvar filter=rawFilter.join(\",\")\n\n\t// \tif (html === \"\")\n\t// \t\t{\n\t// \t\thtml=`<tg-epg-channellistitem class=\"TabCell\" ><div slot=channelname>${channel}</div></tg-epg-channellistitem>`\n\t// \t\t}\n\t// \thtml=this.htmlToElement(html)\n\t// \tvar row=this.htmlToElement(`<div class=\"TabRow\" filter=\"${filter}\" id=\"${id}\"></div>`)\n\t// \tif (! shown)\n\t// \t\t{\n\t// \t\trow.classList.add(\"hide\")\n\t// \t\t}\n\t// \trow.appendChild(html)\n\t// \tthis.app.appendChild(row);\n\n\t// \t}\n\t// render()\n\t// \t{\n\t// \tif  ( ( ! this.PROPS.run.scale) || ( ! this.PROPS.run.previewEnd) || ( ! this.PROPS.run.previewStart) )\n\t// \t\t{\n\t// \t\treturn\n\t// \t\t}\n\t// \t////this._debug(\"refreshApp Width\", new Date(this.PROPS.run.previewDrawStart*1000), new Date(this.PROPS.run.previewStart*1000), new Date(this.PROPS.run.previewEnd*1000), (this.PROPS.run.previewEnd-this.PROPS.run.previewDrawStart)/3600)\n\n\t// \t//this._debug(\"run\", cellHeight, this.app, this.PROPS.run)\n\t// \tlet that=this;\n\t// \tlet test;\n\t// \tthis._log(\"init App\")\n\t// \tlet digitCell=``;\n\t// \tlet barCell=``;\n\t// \tvar root = this;\n\t// \twhile (root.parentNode)\n\t// \t\t{\n\t// \t\troot = root.parentNode;\n\t// \t\t}\n\t// \troot= root.querySelector('[name=\"timeBar\"]');\n\t// \tvar cellHeight=\troot.clientHeight||this.app.clientHeight ||50\n\t// \tcellHeight=cellHeight/5\n\t// \t//let hours=(this.PROPS.run.previewEnd-this.PROPS.run.previewStart)/3600;\n\t// \t//this._debug(\"run\", cellHeight, this.app, this.PROPS.run)\n\t// \tfor (let i=this.PROPS.run.previewDrawStart+3600; i<=this.PROPS.run.previewEnd;i+=3600)\n\t// \t\t{\n\t// \t\t////this._debug(\"refreshApp Width i=\", i)\n\t// \t\tlet d=new Date(i*1000);\n\t// \t\tlet h=d.getHours()+\"\";\n\t// \t\th=((h.length === 1)?\"0\"+h:h)+\":00\";\n\n\t// \t\tdigitCell +=`<div class=\"TabCell\">`+h+`</div>`;\n\t// \t\tbarCell +=`<div name=\"hourcell\" class=\"TabCell\">\n\t// \t\t\t\t\t\t<div class=\"Tab greedy\">\n\t// \t\t\t\t\t\t\t<div class=\"TabRow\">\n\t// \t\t\t\t\t\t\t\t<div class=\"TabCell\">\n\t// \t\t\t\t\t\t\t\t\t<div class=\"Tab greedyH\">\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t// \t\t\t\t\t\t\t\t\t</div>\n\t// \t\t\t\t\t\t\t\t</div>\n\t// \t\t\t\t\t\t\t\t<div class=\"TabCell\">\n\t// \t\t\t\t\t\t\t\t\t<div class=\"Tab greedyH\">\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t// \t\t\t\t\t\t\t\t\t</div>\n\t// \t\t\t\t\t\t\t\t</div>\n\t// \t\t\t\t\t\t\t\t<div class=\"TabCell\">\n\t// \t\t\t\t\t\t\t\t\t<div class=\"Tab greedyH\">\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t// \t\t\t\t\t\t\t\t\t</div>\n\t// \t\t\t\t\t\t\t\t</div>\n\t// \t\t\t\t\t\t\t\t<div class=\"TabCell\">\n\t// \t\t\t\t\t\t\t\t\t<div class=\"Tab greedyH\">\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t// \t\t\t\t\t\t\t\t\t</div>\n\t// \t\t\t\t\t\t\t\t</div>\n\t// \t\t\t\t\t\t\t</div>\n\t// \t\t\t\t\t\t</div>\n\t// \t\t\t\t\t</div>`\n\t// \t\t}\n\n\t// \tdigitCell=`<div class=\"Tab greedyH\" name=\"digitlinefree\"><div class=\"TabRow\"><div class=\"TabCell\"></div>`+digitCell+`<div class=\"TabCell\"></div></div></div>`\n\t// \tbarCell=`<div class=\"Tab greedyH\" ><div class=\"TabRow\">`+barCell+`</div></div>`\n\n\t// \tlet timebarTab=`\n\t// \t\t\t<div class=\"greedyH Tab \">\n\t// \t\t\t\t<div name=\"digitline\" class=\"TabRow\">\n\t// \t\t\t\t\t<div class=\"TabCell\">`+\n\t// \t\t\t\t\t`<!--digitCell-->` +\n\t// \t\t\t\t\t`</div>\n\t// \t\t\t\t</div>\n\t// \t\t\t\t<div name=\"barline\" class=\"TabRow\">\n\t// \t\t\t\t\t<div class=\"TabCell\">`+\n\t// \t\t\t\t\tbarCell +\n\t// \t\t\t\t\t`</div>\n\t// \t\t\t\t</div>\n\t// \t\t\t</div>` + digitCell\n\t// \tthis.style.setProperty('--timeBarCellWidth', parseInt(15*60*this.PROPS.run.scale)+\"px\");\n\t// \tthis.style.setProperty('--timeBarCellHeight', parseInt(cellHeight)+\"px\");\n\t// \tthis.app.innerHTML=timebarTab;\n\n\t// \t// test is mobile or desktop\n\t// \t// tbd\n\t// \t//\n\n\n\t// \tthis.addEventListener(\"datareadyforuse\",\n\t// \t\tfunction(event)\n\t// \t\t\t{\n\t// \t\t\tthis._log(\"data ready for use\", this.dataHandler.data);\n\t// \t\t\t//this._debug(\"dataHandlerEPG\", this.dataHandler.data)\n\t// \t\t\tthis.epgData=this.dataHandler.data;\n\t// \t\t\tthis._log(\"EPG eingelesen\", Object.keys(this.epgData).length, \"Sender\");\n\t// \t\t\tthis.refreshEpgData();\n\t// \t\t\t});\n\n\t// \tthis._resizeObserver.observe(this.app);\n\t// \tthis.addEventListener(\"resize\",\n\t// \t\tfunction(ev)\n\t// \t\t\t{\n\t// \t\t\t//that.refreshApp();\n\t// \t\t\t}, false);\n\n\n\t// \treturn;\n\t// \t}\n\t//#########################################################################################################\n\t//## refreshAppSizeAfterResizeOrInit()\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\t// moveToOffset()\n\t// \t{\n\n\t// \t}\n\t//#########################################################################################################\n\t//## refreshAppSizeAfterResizeOrInit()\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\t// refreshAppSizeAfterResizeOrInit()\n\t// \t{\n\t// \t//this._debug(\"refreshAppSizeAfterResizeOrInit\")\n\t// \tif ( ( this.buttonCell) && (this.PROPS.paras.timerowheight) )\n\t// \t\t{\n\t// \t\tthis.buttonCell.style.height=parseInt(this.PROPS.paras.timerowheight)+\"px\";\n\t// \t\t}\n\t// \tif ( ( this.buttonCell) && (this.PROPS.paras.channelcolumnwidth) )\n\t// \t\t{\n\t// \t\tthis.buttonCell.style.width=parseInt(this.PROPS.paras.channelcolumnwidth)+\"px\";\n\t// \t\t}\n\t// \tvar width =\tthis.timeBar.clientWidth\n\t// \tvar hours=null;\n\t// \tif (this.PROPS.run.previewSpans && this.getType(this.PROPS.run.previewSpans,\"hash\"))\n\t// \t\t{\n\t// \t\tvar myKeys=Object.keys(this.PROPS.run.previewSpans)\n\t// \t\tmyKeys=myKeys.sort()\n\t// \t\tvar found=0;\n\t// \t\tfor (let i = 0; i < myKeys.length; i++)\n\t// \t\t\t{\n\t// \t\t\t////this._debug(\"width\", parseInt(myKeys[i]), width)\n\t// \t\t\tif ((parseInt(myKeys[i]) != 0) && (parseInt(myKeys[i]) <= width))\n\t// \t\t\t\t{\n\t// \t\t\t\thours=this.PROPS.run.previewSpans[myKeys[i]]\n\t// \t\t\t\t////this._debug(\"hours\", myKeys[i], hours)\n\t// \t\t\t\t}\n\t// \t\t\telse if\t(parseInt(myKeys[i]) > width)\n\t// \t\t\t\t{\n\t// \t\t\t\tfound=1\n\t// \t\t\t\t////this._debug(\"found\", myKeys[i])\n\t// \t\t\t\tbreak\n\t// \t\t\t\t}\n\t// \t\t  \t}\n\t// \t\tif ((found == null) || (hours == null))\n\t// \t\t\t{\n\t// \t\t\thours=this.PROPS.run.previewSpans[\"0\"]||10\n\t// \t\t\t}\n\t// \t\t}\n\t// \tthis.PROPS.run[\"previewSpan\"]=parseFloat(hours)||1\n\t// \tthis.PROPS.run[\"scale\"]=width/(hours*60)\n\t// \t////this._debug(\"hours\", hours, width, this.PROPS.run.scale, this.PROPS.run.previewSpan)\n\t// \t////this._debug(\"refreshApp Width\", this.buttonCell, this.buttonCell.clientWidth)\n\t// \t////this._debug(\"refreshApp Width\", this.timeRow, this.timeRow.clientWidth)\n\t// \t////this._debug(\"refreshApp Width\", this.timeBar, this.timeBar.offsetWidth)\n\t// \t}\n\n\n\t//#########################################################################################################\n\t//## buildApp()\n\t//## richtet die App-Oberfläche ein\n\t//##\n\t//##\n\t//#########################################################################################################\n\t// buildApp()\n\t// \t{\n\t// \t// //this._debug(\"buildApp:\", this.PROPS.run.mode);\n\t// \t// var that=this;\n\t// \t// var timeBar=this.timeBar.querySelector('tg-epg-timebar');\n\t// \t// if (! timeBar)\n\t// \t// \t{\n\t// \t// \t//timeBar=document.createElement(\"tg-epg-timebar\");\n\t// \t// \t//this.timeBar.appendChild(timeBar);\n\t// \t// \t}\n\n\t// \t// // // inject CCS-File to <HEAD>\n\t// \t// // let cssLink = document.querySelector('head > [name=\"tgEpgStyle\"]');\n\t// \t// // if (! cssLink)\n\t// \t// // \t{\n\t// \t// // \tlet style=document.createElement(\"link\");\n\t// \t// // \tstyle.setAttribute(\"rel\",\"stylesheet\");\n\t// \t// // \tstyle.setAttribute(\"name\",\"tgEpgStyle\");\n\t// \t// // \tstyle.setAttribute(\"href\",\"tgEpg.hlp.cssInjectToHead.css\");\n\t// \t// // \tdocument.getElementsByTagName(\"head\")[0].appendChild(style);\n\t// \t// // \t}\n\t// \t// if ( (this.superButton) && (! this.superButton.hasAttribute(\"hasClickHandler\") ) )\n\t// \t// \t{\n\t// \t// \tthis.superButton.addEventListener(\"click\", function(event)\n\t// \t// \t\t{\n\t// \t// \t\tthat.manageToolbar(\"init\", event);\n\t// \t// \t\t});\n\t// \t// \tthis.superButton.setAttribute(\"hasClickHandler\", 1);\n\t// \t// \t}\n\t// \treturn;\n\t// \t}\n\t// //#########################################################################################################\n\t// //##\n\t// //##\n\t// //##\n\t// //##\n\t// //#########################################################################################################\n\t// loadDefaultOptions()\n\t// \t{\n\t// \tthis._clearOptions(this.PROPS.defaults._storageKey);\n\t// \tthis.PROPS.set = this.extender({}, this.PROPS.defaults, this.readOptions(this.PROPS.defaults._storageKey));\n\t// \tthis._writeOptions(this.PROPS.defaults._storageKey, this.PROPS.set);\n\t// \t//this._debug(\"loadDefaultOptions --\", this.PROPS.set)\n\t// \t//this.refreshApp();\n\t// \t}\n\t// //#########################################################################################################\n\t// //##\n\t// //##\n\t// //##\n\t// //##\n\t// //#########################################################################################################\n\t// setOptions(opts={})\n\t// \t{\n\t// \tlet val = this.tgEpgDefaults.setOptions(this, opts);\n\t// \tthis.PROPS.set=this.extender(this.PROPS.set, val);\n\t// \tthis._writeOptions(this.PROPS.defaults._storageKey, this.PROPS.set);\n\t// \t//this._debug(\"setOptions --\", val)\n\t// \t}\n\t// //#########################################################################################################\n\t// //##\n\t// //##\n\t// //##\n\t// //##\n\t// //#########################################################################################################\n\t// getOptions(opts={})\n\t// \t{\n\t// \t//this._debug(\"getOptions --opts\", opts);\n\t// \tlet val = this.tgEpgDefaults.getOptions(this, opts);\n\t// \t//this._debug(\"getOptions --val\", val);\n\t// \treturn val;\n\t// \t}\n\n\t// //#########################################################################################################\n\t//##\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\n\t//############################################################################################################################################\n\t//############################################################################################################################################\n\t}\n\nwindow.customElements.define('tgepg-channellist', tgEpgChannelList);\n","import { tgControls } from \"../tgControls.js\";\n\nexport class channelProgListBasis extends tgControls\n\t{\n\tconstructor(mode=\"open\", defaultclass, properties)\n\t\t{\n\t\tsuper(mode, defaultclass, properties);\n\t\tvar that=this;\n\t\tthis[\"PROPS\"]=this._extender( (this[\"PROPS\"] || {}),\n\t\t\t\t\t\t{\n\t\t\t\t\t\trun:\t{\n\t\t\t\t\t\t\t\tmsg:\t{\n\t\t\t\t\t\t\t\t\t\tlog:true,\n\t\t\t\t\t\t\t\t\t\tdebug:true,\n\t\t\t\t\t\t\t\t\t\terror:true\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\tdefault:{connected:0},\n\t\t\t\t\t\tparas:this._extender({})\n\t\t\t\t\t\t});\n\t\t// Zeiger auf Elemente aus dem Template\n\t\tthis.app = this._shadowRoot.querySelector('[name=\"app\"]');\n\n\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tconnectedCallback ()\n\t\t{\n\t\tvar that=this;\n\t\tif (this.PROPS.run.connected == 0)\n\t\t \t{\n\t\t \tthis.init();\n\t\t\t// this.refreshAppSizeAfterResizeOrInit();\n\t\t \t// this.buildApp();\n\t\t \tthis.connected();\n\t\t \t}\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tattributeChangedCallback(attrName, oldVal, newVal)\n\t\t{\n\t\tif ( super.attributeChangedCallback(attrName, oldVal, newVal ) === false) return;\n\t\tif ( this.PROPS.run.connected)\n\t\t\t{\n\t\t\tthis.attributeChangedAction(attrName, oldVal, newVal );\n\t\t\t}\n\t\t}\n\n\tattributeChangedAction(attrName, oldVal, newVal )\n\t\t{\n\t\tswitch (attrName)\n\t\t\t{\n\t\t\tcase \"xxx\":\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\t//this.PROPS.paras[attrName]=newVal;\n\t\t\t\t//this.control.setAttribute(attrName, newVal);\n\t\t\t}\n\t\t}\n\t//######################################################################################################################################\n\t//init()\n\t//prüft die Umgebung und passt Parameter entsprechend an\n\t//\n\t//######################################################################################################################################\n\tinit()\n\t\t{\n\t\tvar that=this;\n\t\treturn\n\t\t}\n\t\t//######################################################################################################################################\n\t//init()\n\t//prüft die Umgebung und passt Parameter entsprechend an\n\t//\n\t//######################################################################################################################################\n\tsetFilter(rawFilter=[])\n\t\t{\n\t\tvar that=this\n\t\trawFilter=(this.getType(rawFilter,\"array\"))?rawFilter:(this.getType(rawFilter,\"string\"))?[rawFilter]:[]\n\t\tthis.PROPS.paras[\"channelfilter\"]=rawFilter\n\t\tvar filterStyles=this._shadowRoot.querySelectorAll('style[name=\"filter\"]')\n\t\tfilterStyles.forEach(function(style)\n\t\t\t{\n\t\t\tstyle.remove()\n\t\t\t})\n\n\t\tif (rawFilter.length > 0)\n\t\t\t{\n\t\t\tvar styleEl = document.createElement(\"style\");\n\t\t\tthis._shadowRoot.appendChild(styleEl)\n\t\t\tstyleEl.setAttribute(\"name\",\"filter\")\n\t\t\tvar filter=\"\"\n\t\t\trawFilter.forEach(function(item)\n\t\t\t\t{\n\t\t\t\tif (that.getBoolean(item.activ))\n\t\t\t\t\t{\n\t\t\t\t\tfilter=(filter==\"\")?`[filter*=\"whitelist\"]`:filter\n\t\t\t\t\tvar x=`[filter*=\"${item.id}\"]`\n\t\t\t\t\tfilter=`${filter}${(filter===\"\")?\"\":\",\"}${x}`\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\tlet rule=(filter !=\"\")?`.TabRow[filter]:not(${filter}){\tdisplay:none; }`:\"\"\n\t\t\tstyleEl.innerHTML=rule\n\t\t\t}\n\t\t}\n\t//#########################################################################################################\n\t//##\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\tisValidChannel(channel={}, mustHaveKeys={})\n\t\t{\n\t\tlet keys=Object.keys(mustHaveKeys)\n\t\tfor (let key of keys)\n\t\t\t{\n\t\t\tif ( !channel[key] || !this._getType(channel[key], mustHaveKeys[key]))\n\t\t\t\t{\n\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t}\n\t\treturn true\n\t\t}\n\n\t//#########################################################################################################\n\t//##\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\tget supermaster()\n\t\t{\n\t\treturn this._supermaster;\n\t\t}\n\tset supermaster(val)\n\t\t{\n\t\tthis[\"_supermaster\"]=val;\n\t\t}\n\tget channelfilter()\n\t\t{\n\t\treturn this.PROPS.paras.channelfilter;\n\t\t}\n\tset channelfilter(val)\n\t\t{\n\t\tconsole.log(\"setFilter c\", val)\n\t\tthis.setFilter(val)\n\t\t}\n\tset setChannel(val)\n\t\t{\n\t\t//console.debug(\"setchannel c\", val)\n\t\tthis.createChannelLine(val)\n\t\t}\n\tset deleteChannel(val)\n\t\t{\n\t\t//console.log(\"delchannel c\", val)\n\t\t}\n\n\n\t//############################################################################################################################################\n\t//############################################################################################################################################\n\t}\n\n","import { tgEpgDefaultsCommon }  from \"./defaults_Common.js\"\n\nexport class tgEpgChannelListDefaults extends tgEpgDefaultsCommon\n\t{\n\tthisIsClass=true\t\n\t\n\tconstructor()\n\t\t{\n\t\tsuper(\"open\");\n\t\tthis[\"PROPS\"]=\n\t\t\t\t\t\t{\n\t\t\t\t\t\tdefault: \tthis._extender({}, this[\"PROPS\"].default||{},\n\t\t\t\t\t\t\t\t\t{\n\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t}\n\t\t//console.log(\"tgEpgChannelListDefaults\", \"constructed\")\t\t\t\t\n\t\t}\n\t\n\tget properties()\n\t\t{\n\t\tvar props=super.properties||{_common:false};\n\t\tprops[\"_default\"]=true;\n\t\treturn props;\n\t\t}\n\n\tstatic get template()\n\t\t{\n\t\t//console.log(\"tgEpgChannelListDefaults\", \"template\")\t\t\t\t\n\t\n\t\tvar styles=super.styles||\"\";\n\t\tstyles=styles+  `\n\t\t\t\t\t\t<style>\n\t\t\t\t\t\t:host\n\t\t\t\t\t\t{\n\t\t\t\t\t\tdisplay:inline-block;\n\t\t\t\t\t\t/*\n\t\t\t\t\t\tposition:absolute;\n\t\t\t\t\t\t*/\n\t\t\t\t\t\tleft:0px;\n\t\t\t\t\t\ttop:0px;\n\t\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t\t\twidth:100%;\n\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t[name=\"app\"]\n\t\t\t\t\t\t{\n\t\t\t\t\t\twhite-space: normal;\n\t\t\t\t\t\tbackground-color: gray;\n\t\t\t\t\t\tdisplay:inline-block;\n\t\t\t\t\t\tposition:relative;\n\t\t\t\t\t\twidth: var(--channelRowWidth-used);\n\t\t\t\t\t\tmin-width: var(--channelRowWidth-used);\n\t\t\t\t\t\tmax-width: var(--channelRowWidth-used);\n\t\t\t\t\t\t}\n\t\t\t\t\t.TabRow\n\t\t\t\t\t\t{\n\t\t\t\t\t\theight: var(--channelRowHeight-used);\n\t\t\t\t\t\tmin-height: var(--channelRowHeight-used);\n\t\t\t\t\t\tmax-height: var(--channelRowHeight-used);\n\t\t\t\t\t\t}\n\t\t\t\t\t.TabCell\n\t\t\t\t\t\t{\n\t\t\t\t\t\tvertical-align: middle;\n\t\t\t\t\t\ttext-align:left;\n\t\t\t\t\t\tborder-top: 3px solid black;\n\t\t\t\t\t\tborder-bottom: 3px solid black;\n\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t.TabRow:nth-child(even) .TabCell\n\t\t\t\t\t\t{\n\t\t\t\t\t\tbackground-color: green;\n\t\t\t\t\t\tcolor: red;\n\t\t\t\t\t\t}\n\t\t\t\t\t.TabRow:nth-child(odd) .TabCell\n\t\t\t\t\t\t{\n\t\t\t\t\t\tbackground-color: blue;\n\t\t\t\t\t\tcolor: yellow;\n\t\t\t\t\t\t}\n\n\t\t\t\n\t\t\t\t\t\t</style>\n\t\t\t\t\t\t`\n\t\tlet html =  `${styles}\n\t\t\t\t\t<div name=\"app\" class=\"Tab\">\n\t\t\t\t\t<!-- App -->\n\t\t\t\t\t<!-- App Ende-->\n\t\t\t\t\t</div>\n\t\t\t\t\t`;\n\n\t\treturn html\n\t\t}\n\n\n\n\t}\n","/*refr\n* tgEPG component\n*\n* Copyright (c) 2020-2021 Thomas Geißenhöner <quietcry@gmx.de>\n* Under MIT License (http://www.opensource.org/licenses/mit-license.php)\n*\n*\n*/\n\nimport { tgControls } from \"../tgControls.js\";\nimport { tgEpgChannelListItemDefaults } from \"../../defaults_ChannellistItem.js\";\n\nexport class tgEpgChannelListItem extends tgControls\n\t{\n\tconstructor(mode=\"open\", props={})\n\t\t{\n\t\tsuper(\"open\");\n\t\tvar that=this;\n\t\t// default Parameter nach Props einlesen\n\t\tthis.tgEpgDefaults=new tgEpgChannelListItemDefaults(this);\n\t\t//this.tgEpgDefaults=new tgEpgChannelListDefaults(this);\n\t\t// this[\"PROPS\"]=this._extender(\t{},\n\t\t// \t\t\t\t\t\t\t\tthis[\"PROPS\"]||{},\n\t\t// \t\t\t\t\t\t\t\tthis.tgEpgDefaults.getProps,\n\t\t// \t\t\t\t\t\t\t\t{\n\t\t// \t\t\t\t\t\t\t\tdefault:\t{\n\t\t// \t\t\t\t\t\t\t\t\t\t\tmsg:\t{\n\t\t// \t\t\t\t\t\t\t\t\t\t\t\t\tlog:true,\n\t\t// \t\t\t\t\t\t\t\t\t\t\t\t\tdebug:true,\n\t\t// \t\t\t\t\t\t\t\t\t\t\t\t\terror:true\n\t\t// \t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t// \t\t\t\t\t\t\t\t\t\t\tskale:0,\n\t\t// \t\t\t\t\t\t\t\t\t\t\tfirstStart:0,\n\t\t// \t\t\t\t\t\t\t\t\t\t\tlastEnd:0,\n\t\t// \t\t\t\t\t\t\t\t\t\t\ttimePosition:0,\n\t\t// \t\t\t\t\t\t\t\t\t\t\tepgEnd:100\n\t\t// \t\t\t\t\t\t\t\t\t\t\t},\n\t\t// \t\t\t\t\t\t\t\tattr:\t\tthis._extender({},tgEpgChannelList.properties)\n\t\t// \t\t\t\t\t\t\t\t}\n\t\t// \t\t\t\t\t\t\t)\n\t\t// this[\"PROPS\"][\"run\"]=this._extender\t(\tthis[\"PROPS\"][\"default\"]||{},\n\t\t// \t\t\t\t\t\t\t\t\t\tthis[\"PROPS\"][\"run\"]||{},\n\t\t// \t\t\t\t\t\t\t\t\t\tprops\n\t\t// \t\t\t\t\t\t\t\t\t)\n\n\t\t// this._debug(\"constructor - Parameters\", \"props:\",this[\"PROPS\"]);\n\n\t\t// // data handler init\n\t\t// this.epgData={};\n\t\t// //this.me=new tgEpgHelper(false);\n\n\t\t// this.app = this.shadowRoot.querySelector('[name=\"app\"]');\n\t\t// this._debug(\"constructor - constructed\");\n\n\t\t}\n\n\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\ttemplate()\n\t\t{\n\t\tlet tmp = tgEpgChannelListItemDefaults.template;\n\t\treturn tmp||\"\";\n\t\t}\n\t// //######################################################################################################################################\n\t// //\n\t// // properties()\n\t// // collect name-value pairs to use as observed Atrributes and the corresponding this->PROPS->paras\n\t// //\n\t// //######################################################################################################################################\n\t// static get properties()\n\t// \t{\n\t// \t// let props=\ttgEpgChannelListItemDefaults.properties || {};\n\t// \t// let superProps=super.properties||{};\n\t// \t// props=Object.assign(superProps,props);\n\t// \treturn props||[];\n\t// \t}\n\t// //######################################################################################################################################\n\t// //\n\t// //\n\t// //\n\t// //######################################################################################################################################\n\t// static get observedAttributes()\n\t//  \t{\n\t// \tlet props=tgEpgChannelListItemDefaults.properties;\n\t// \tprops=Object.keys(props);\n\t// \t// console.debug(\"observedAttributes::\", \"prop:\",props);\n\t// \treturn  props||[];\n  \t//  \t}\n\t// //######################################################################################################################################\n\t// //\n\t// //\n\t// //\n\t// //######################################################################################################################################\n\t// connectedCallback ()\n\t// \t{\n\t// \tvar that=this;\n\t// \t// console.debug(\"connectedCallback\", \"start\");\n\t// \t// if (this.PROPS.run.connected == 0)\n\t// \t//  \t{\n\t// \t// \tthis.render();\n\t// \t// \tthis.moveToOffset();\n\t// \t// // \tthis.init();\n\t// \t// //\tthis.refreshAppSizeAfterResizeOrInit();\n\t// \t// // \tthis.buildApp();\n\t// \t// // \tthis.getData();\n\t// \t//  \tthis.connected();\n\t// \t//  \t}\n\t// \t}\n\t// //######################################################################################################################################\n\t// //\n\t// //\n\t// //\n\t// //######################################################################################################################################\n\t// attributeChangedCallback(attrName, oldVal, newVal)\n\t// \t{\n\t// \t// if ( (! newVal) || (! this.PROPS.paras.hasOwnProperty(attrName)) || (this.PROPS.paras[attrName]===newVal)) return;\n\t// \t// oldVal=oldVal || this.PROPS.paras[attrName];\n\t// \t// super.attributeChangedCallback(attrName, newVal, oldVal );\n\t// \t// this._debug(\"change Attribute \"+attrName, \"from\", oldVal, \"to\" , newVal);\n\t// \t// this.PROPS.paras[attrName]=newVal;\n\t// \t// switch (attrName)\n\t// \t// \t{\n\t// \t// \tcase \"timerowheight\":\n\t// \t// \t\t//this.timeRow.style.height=parseInt(newVal)+\"px\";\n\t// \t// \t\tbreak;\n\t// \t// \tcase \"data\":\n\t// \t// \t\tthis.PROPS.paras[\"dataref\"]=newVal;\n\t// \t// \t\tthis.dataHandler.getData(newVal);\n\t// \t// \t\tbreak;\n\t// \t// \tdefault:\n\t// \t// \t\tbreak;\n\t// \t// \t}\n\t// \t}\n\t// //######################################################################################################################################\n\t// //setter & getter\n\t// //\n\t// //\n\t// //######################################################################################################################################\n\t// get _addCell()\n\t// \t{\n\t// \treturn this.PROPS.run.previewStart;\n\t// \t}\n\t// set _addCell(val)\n\t// \t{\n\t// \t}\n\n\t// get supermaster()\n\t// \t{\n\t// \treturn this.PROPS.run.supermaster;\n\t// \t}\n\t// set supermaster(val)\n\t// \t{\n\t// \tthis.PROPS.run[\"supermaster\"]=val;\n\t// \t}\n\n\n\t// //######################################################################################################################################\n\t// //init()\n\t// //prüft die Umgebung und passt Parameter entsprechend an\n\t// //\n\t// //######################################################################################################################################\n\t// addCell(channel=\"-\", shown=true)\n\t// \t{\n\t// \tvar item=document.createElement(\"tg-epg-channelNameItem\");\n\t// \titem.classList.add(\"greedyW\"+((shown)?\"\":\" hide\"));\n\t// \tvar elems=this.htmlToElements(\"<div slot=\\\"channelname\\\">\"+channel+\"</div>\")\n\t// \tfor ( let i=0; i<elems.length; i++)\n\t// \t\t{\n\t// \t\titem.appendChild(elems[i]);\n\t// \t\t}\n\t// \tthis.app.appendChild(item);\n\n\t// \t}\n\t// render()\n\t// \t{\n\t// \tif  ( ( ! this.PROPS.run.scale) || ( ! this.PROPS.run.previewEnd) || ( ! this.PROPS.run.previewStart) )\n\t// \t\t{\n\t// \t\treturn\n\t// \t\t}\n\t// \t//this._debug(\"refreshApp Width\", new Date(this.PROPS.run.previewDrawStart*1000), new Date(this.PROPS.run.previewStart*1000), new Date(this.PROPS.run.previewEnd*1000), (this.PROPS.run.previewEnd-this.PROPS.run.previewDrawStart)/3600)\n\n\t// \tthis._debug(\"run\", cellHeight, this.app, this.PROPS.run)\n\t// \tlet that=this;\n\t// \tlet test;\n\t// \tthis._log(\"init App\")\n\t// \tlet digitCell=``;\n\t// \tlet barCell=``;\n\t// \tvar root = this;\n\t// \twhile (root.parentNode)\n\t// \t\t{\n\t// \t\troot = root.parentNode;\n\t// \t\t}\n\t// \troot= root.querySelector('[name=\"timeBar\"]');\n\t// \tvar cellHeight=\troot.clientHeight||this.app.clientHeight ||50\n\t// \tcellHeight=cellHeight/5\n\t// \t//let hours=(this.PROPS.run.previewEnd-this.PROPS.run.previewStart)/3600;\n\t// \tthis._debug(\"run\", cellHeight, this.app, this.PROPS.run)\n\t// \tfor (let i=this.PROPS.run.previewDrawStart+3600; i<=this.PROPS.run.previewEnd;i+=3600)\n\t// \t\t{\n\t// \t\t//this._debug(\"refreshApp Width i=\", i)\n\t// \t\tlet d=new Date(i*1000);\n\t// \t\tlet h=d.getHours()+\"\";\n\t// \t\th=((h.length === 1)?\"0\"+h:h)+\":00\";\n\n\t// \t\tdigitCell +=`<div class=\"TabCell\">`+h+`</div>`;\n\t// \t\tbarCell +=`<div name=\"hourcell\" class=\"TabCell\">\n\t// \t\t\t\t\t\t<div class=\"Tab greedy\">\n\t// \t\t\t\t\t\t\t<div class=\"TabRow\">\n\t// \t\t\t\t\t\t\t\t<div class=\"TabCell\">\n\t// \t\t\t\t\t\t\t\t\t<div class=\"Tab greedyH\">\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t// \t\t\t\t\t\t\t\t\t</div>\n\t// \t\t\t\t\t\t\t\t</div>\n\t// \t\t\t\t\t\t\t\t<div class=\"TabCell\">\n\t// \t\t\t\t\t\t\t\t\t<div class=\"Tab greedyH\">\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t// \t\t\t\t\t\t\t\t\t</div>\n\t// \t\t\t\t\t\t\t\t</div>\n\t// \t\t\t\t\t\t\t\t<div class=\"TabCell\">\n\t// \t\t\t\t\t\t\t\t\t<div class=\"Tab greedyH\">\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t// \t\t\t\t\t\t\t\t\t</div>\n\t// \t\t\t\t\t\t\t\t</div>\n\t// \t\t\t\t\t\t\t\t<div class=\"TabCell\">\n\t// \t\t\t\t\t\t\t\t\t<div class=\"Tab greedyH\">\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"TabRow\"><div name=\"barlinecell\" class=\"TabCell\"></div></div>\n\t// \t\t\t\t\t\t\t\t\t</div>\n\t// \t\t\t\t\t\t\t\t</div>\n\t// \t\t\t\t\t\t\t</div>\n\t// \t\t\t\t\t\t</div>\n\t// \t\t\t\t\t</div>`\n\t// \t\t}\n\n\t// \tdigitCell=`<div class=\"Tab greedyH\" name=\"digitlinefree\"><div class=\"TabRow\"><div class=\"TabCell\"></div>`+digitCell+`<div class=\"TabCell\"></div></div></div>`\n\t// \tbarCell=`<div class=\"Tab greedyH\" ><div class=\"TabRow\">`+barCell+`</div></div>`\n\n\t// \tlet timebarTab=`\n\t// \t\t\t<div class=\"greedyH Tab \">\n\t// \t\t\t\t<div name=\"digitline\" class=\"TabRow\">\n\t// \t\t\t\t\t<div class=\"TabCell\">`+\n\t// \t\t\t\t\t`<!--digitCell-->` +\n\t// \t\t\t\t\t`</div>\n\t// \t\t\t\t</div>\n\t// \t\t\t\t<div name=\"barline\" class=\"TabRow\">\n\t// \t\t\t\t\t<div class=\"TabCell\">`+\n\t// \t\t\t\t\tbarCell +\n\t// \t\t\t\t\t`</div>\n\t// \t\t\t\t</div>\n\t// \t\t\t</div>` + digitCell\n\t// \tthis.style.setProperty('--timeBarCellWidth', parseInt(15*60*this.PROPS.run.scale)+\"px\");\n\t// \tthis.style.setProperty('--timeBarCellHeight', parseInt(cellHeight)+\"px\");\n\t// \tthis.app.innerHTML=timebarTab;\n\n\t// \t// test is mobile or desktop\n\t// \t// tbd\n\t// \t//\n\n\n\t// \tthis.addEventListener(\"datareadyforuse\",\n\t// \t\tfunction(event)\n\t// \t\t\t{\n\t// \t\t\tthis._log(\"data ready for use\", this.dataHandler.data);\n\t// \t\t\tthis._debug(\"dataHandlerEPG\", this.dataHandler.data)\n\t// \t\t\tthis.epgData=this.dataHandler.data;\n\t// \t\t\tthis._log(\"EPG eingelesen\", Object.keys(this.epgData).length, \"Sender\");\n\t// \t\t\tthis.refreshEpgData();\n\t// \t\t\t});\n\n\t// \tthis._resizeObserver.observe(this.app);\n\t// \tthis.addEventListener(\"resize\",\n\t// \t\tfunction(ev)\n\t// \t\t\t{\n\t// \t\t\t//that.refreshApp();\n\t// \t\t\t}, false);\n\n\n\t// \treturn;\n\t// \t}\n\t// //#########################################################################################################\n\t// //## refreshAppSizeAfterResizeOrInit()\n\t// //##\n\t// //##\n\t// //##\n\t// //#########################################################################################################\n\t// moveToOffset()\n\t// \t{\n\n\t// \t}\n\t// //#########################################################################################################\n\t// //## refreshAppSizeAfterResizeOrInit()\n\t// //##\n\t// //##\n\t// //##\n\t// //#########################################################################################################\n\t// refreshAppSizeAfterResizeOrInit()\n\t// \t{\n\t// \tthis._debug(\"refreshAppSizeAfterResizeOrInit\")\n\t// \tif ( ( this.buttonCell) && (this.PROPS.paras.timerowheight) )\n\t// \t\t{\n\t// \t\tthis.buttonCell.style.height=parseInt(this.PROPS.paras.timerowheight)+\"px\";\n\t// \t\t}\n\t// \tif ( ( this.buttonCell) && (this.PROPS.paras.channelcolumnwidth) )\n\t// \t\t{\n\t// \t\tthis.buttonCell.style.width=parseInt(this.PROPS.paras.channelcolumnwidth)+\"px\";\n\t// \t\t}\n\t// \tvar width =\tthis.timeBar.clientWidth\n\t// \tvar hours=null;\n\t// \tif (this.PROPS.run.previewSpans && this.getType(this.PROPS.run.previewSpans,\"hash\"))\n\t// \t\t{\n\t// \t\tvar myKeys=Object.keys(this.PROPS.run.previewSpans)\n\t// \t\tmyKeys=myKeys.sort()\n\t// \t\tvar found=0;\n\t// \t\tfor (let i = 0; i < myKeys.length; i++)\n\t// \t\t\t{\n\t// \t\t\t//this._debug(\"width\", parseInt(myKeys[i]), width)\n\t// \t\t\tif ((parseInt(myKeys[i]) != 0) && (parseInt(myKeys[i]) <= width))\n\t// \t\t\t\t{\n\t// \t\t\t\thours=this.PROPS.run.previewSpans[myKeys[i]]\n\t// \t\t\t\t//this._debug(\"hours\", myKeys[i], hours)\n\t// \t\t\t\t}\n\t// \t\t\telse if\t(parseInt(myKeys[i]) > width)\n\t// \t\t\t\t{\n\t// \t\t\t\tfound=1\n\t// \t\t\t\t//this._debug(\"found\", myKeys[i])\n\t// \t\t\t\tbreak\n\t// \t\t\t\t}\n\t// \t\t  \t}\n\t// \t\tif ((found == null) || (hours == null))\n\t// \t\t\t{\n\t// \t\t\thours=this.PROPS.run.previewSpans[\"0\"]||10\n\t// \t\t\t}\n\t// \t\t}\n\t// \tthis.PROPS.run[\"previewSpan\"]=parseFloat(hours)||1\n\t// \tthis.PROPS.run[\"scale\"]=width/(hours*60)\n\t// \t//this._debug(\"hours\", hours, width, this.PROPS.run.scale, this.PROPS.run.previewSpan)\n\t// \t//this._debug(\"refreshApp Width\", this.buttonCell, this.buttonCell.clientWidth)\n\t// \t//this._debug(\"refreshApp Width\", this.timeRow, this.timeRow.clientWidth)\n\t// \t//this._debug(\"refreshApp Width\", this.timeBar, this.timeBar.offsetWidth)\n\t// \t}\n\n\n\t// //#########################################################################################################\n\t// //## buildApp()\n\t// //## richtet die App-Oberfläche ein\n\t// //##\n\t// //##\n\t// //#########################################################################################################\n\t// buildApp()\n\t// \t{\n\t// \tthis._debug(\"buildApp:\", this.PROPS.run.mode);\n\t// \tvar that=this;\n\t// \tvar timeBar=this.timeBar.querySelector('tg-epg-timebar');\n\t// \tif (! timeBar)\n\t// \t\t{\n\t// \t\t//timeBar=document.createElement(\"tg-epg-timebar\");\n\t// \t\t//this.timeBar.appendChild(timeBar);\n\t// \t\t}\n\n\t// \t// // inject CCS-File to <HEAD>\n\t// \t// let cssLink = document.querySelector('head > [name=\"tgEpgStyle\"]');\n\t// \t// if (! cssLink)\n\t// \t// \t{\n\t// \t// \tlet style=document.createElement(\"link\");\n\t// \t// \tstyle.setAttribute(\"rel\",\"stylesheet\");\n\t// \t// \tstyle.setAttribute(\"name\",\"tgEpgStyle\");\n\t// \t// \tstyle.setAttribute(\"href\",\"tgEpg.hlp.cssInjectToHead.css\");\n\t// \t// \tdocument.getElementsByTagName(\"head\")[0].appendChild(style);\n\t// \t// \t}\n\t// \tif ( (this.superButton) && (! this.superButton.hasAttribute(\"hasClickHandler\") ) )\n\t// \t\t{\n\t// \t\tthis.superButton.addEventListener(\"click\", function(event)\n\t// \t\t\t{\n\t// \t\t\tthat.manageToolbar(\"init\", event);\n\t// \t\t\t});\n\t// \t\tthis.superButton.setAttribute(\"hasClickHandler\", 1);\n\t// \t\t}\n\t// \treturn;\n\t// \t}\n\t// //#########################################################################################################\n\t// //##\n\t// //##\n\t// //##\n\t// //##\n\t// //#########################################################################################################\n\t// loadDefaultOptions()\n\t// \t{\n\t// \tthis._clearOptions(this.PROPS.defaults._storageKey);\n\t// \tthis.PROPS.set = this.extender({}, this.PROPS.defaults, this.readOptions(this.PROPS.defaults._storageKey));\n\t// \tthis._writeOptions(this.PROPS.defaults._storageKey, this.PROPS.set);\n\t// \tthis._debug(\"loadDefaultOptions --\", this.PROPS.set)\n\t// \t//this.refreshApp();\n\t// \t}\n\t// //#########################################################################################################\n\t// //##\n\t// //##\n\t// //##\n\t// //##\n\t// //#########################################################################################################\n\t// setOptions(opts={})\n\t// \t{\n\t// \tlet val = this.tgEpgDefaults.setOptions(this, opts);\n\t// \tthis.PROPS.set=this.extender(this.PROPS.set, val);\n\t// \tthis._writeOptions(this.PROPS.defaults._storageKey, this.PROPS.set);\n\t// \tthis._debug(\"setOptions --\", val)\n\t// \t}\n\t// //#########################################################################################################\n\t// //##\n\t// //##\n\t// //##\n\t// //##\n\t// //#########################################################################################################\n\t// getOptions(opts={})\n\t// \t{\n\t// \tthis._debug(\"getOptions --opts\", opts);\n\t// \tlet val = this.tgEpgDefaults.getOptions(this, opts);\n\t// \tthis._debug(\"getOptions --val\", val);\n\t// \treturn val;\n\t// \t}\n\n\t// //#########################################################################################################\n\t// //##\n\t// //##\n\t// //##\n\t// //##\n\t// //#########################################################################################################\n\n\t// //############################################################################################################################################\n\t// //############################################################################################################################################\n\t}\n\nwindow.customElements.define('tgepg-channellistitem', tgEpgChannelListItem);\n","import { tgEpgDefaultsCommon }  from \"./defaults_Common.js\"\n\nexport class tgEpgChannelListItemDefaults extends tgEpgDefaultsCommon\n\t{\n\tthisIsClass=true\t\n\t\n\tconstructor()\n\t\t{\n\t\tsuper(\"open\");\n\t\tthis[\"PROPS\"]=\n\t\t\t\t\t\t{\n\t\t\t\t\t\tdefault: \tthis._extender({}, this[\"PROPS\"].default||{},\n\t\t\t\t\t\t\t\t\t{\n\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t}\n\t\t}\n\tget properties()\n\t\t{\n\t\tvar props=super.properties||{_common:false};\n\t\tprops[\"_default\"]=true;\n\t\treturn props;\n\t\t}\n\n\tstatic get template()\n\t\t{\n\t\tvar styles=super.styles||\"\";\n\t\t\tstyles=styles+`\n\t\t\t<style>\n\t\t\t:host\n\t\t\t\t{\n\t\t\t\tdisplay:inline-block;\n\t\t\t\tbox-sizing: border-box;\n\n\t\t\t\t}\n\t\t\t[name=\"app\"]\n\t\t\t\t{\n\t\t\t\twhite-space: normal;\n\t\t\t\tdisplay:inline-block;\n\t\t\t\tposition:relative;\n\t\t\t\t}\n\t\t\t.TabCell\n\t\t\t\t{\n\t\t\t\twhite-space: nowrap;\n\t\t\t\t}\n\t\t\t</style>\n\n\t\t\t`;\n\t\t\tvar tmp=styles+`\n\t\t\t<!-- App -->\n\t\t\t\t<div name=\"app\" class=\"Tab\">\n\t\t\t\t\t<div class=\"TabRow\">\n\t\t\t\t\t\t<div class=\"TabCell\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"TabCell\">\n\t\t\t\t\t\t\t<slot name=\"channelname\"></slot>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"TabCell\">\n\t\t\t\t\t\t\t<slot name=\"channelicon\"></slot>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t<!-- App Ende-->\n\t\t\t`;\n\t\t\treturn\ttmp;\n\t\t}\n\n\t}\n","/*refr\n* tgEPG component\n*\n* Copyright (c) 2020-2021 Thomas Geißenhöner <quietcry@gmx.de>\n* Under MIT License (http://www.opensource.org/licenses/mit-license.php)\n*\n*\n*/\nimport { channelProgListBasis } from './channelProgList.basis.js';\nimport { tgEpgProgListDefaults } from \"../../defaults_Proglist.js\";\n\nexport class tgEpgProgList extends channelProgListBasis\n\t{\n\tconstructor(mode=\"open\", props={})\n\t\t{\n\t\tsuper(mode, new tgEpgProgListDefaults());\n\t\tvar that=this;\n\t\t// default Parameter nach Props einlesen\n\t\tthis[\"PROPS\"]=this._extender\n\t\t\t(\n\t\t\t\t{},\n\t\t\t\tthis[\"PROPS\"]||{},\n\t\t\t\t{\n\t\t\t\tdefault:\t{\n\t\t\t\t\t\t\tmsg:\t{\n\t\t\t\t\t\t\t\t\tlog:true,\n\t\t\t\t\t\t\t\t\tdebug:true,\n\t\t\t\t\t\t\t\t\terror:true\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tskale:0,\n\t\t\t\t\t\t\tfirstStart:0,\n\t\t\t\t\t\t\tlastEnd:0,\n\t\t\t\t\t\t\ttimePosition:0,\n\t\t\t\t\t\t\tepgEnd:100\n\t\t\t\t\t\t\t},\n\t\t\t\tattr:\t\tthis._extender({},tgEpgProgList.properties)\n\t\t\t\t}\n\t\t\t)\n\t\tthis[\"PROPS\"][\"run\"]=this._extender\t(\tthis[\"PROPS\"][\"default\"]||{},\n\t\t\t\t\tthis[\"PROPS\"][\"run\"]||{},\n\t\t\t\t\tprops\n\t\t\t\t)\n\t\t// Props durch im Storage gespeichertes erweitern/anpassen\n\t\tthis[\"_drawStart\"]=null;\n\t\t//this.PROPS.set = this._extender({}, (this.PROPS.defaults || {}), (this.PROPS.set || {}), (this._readOptions(this.PROPS.defaults._storageKey) || {}));\n\n\t\t//this._debug(\"constructor - Parameters\", \"props:\",this[\"PROPS\"]);\n\n\t\t// data handler init\n\t\tthis.epgData={};\n\n\n\n\n\t\t//this.me=new tgEpgHelper(false);\n\n\t\t//this.app = this.shadowRoot.querySelector('[name=\"app\"]');\n\t\t// this.buttonCell = this.shadowRoot.querySelector('[name=\"buttonCell\"]');\n\n\t\t// this.channelBox = this.shadowRoot.querySelector('[name=\"channelBox\"]');\n\t\t// this.programBox = this.shadowRoot.querySelector('[name=\"programBox\"]');\n\t\t// this.timeBar = this.shadowRoot.querySelector('[name=\"timeBar\"]');\n\t\t// this.timeRow = this.shadowRoot.querySelector('[name=\"timeRow\"]');\n\t\tthis.timeMarker = this._shadowRoot.querySelector('[name=\"timemarker\"]');\n\t\t// this.superButton = that.shadowRoot.querySelector('#superbutton');\n\t\t// this.floatingMenu = that.shadowRoot.querySelector('[name=\"app\"]>tg-floatingMenu');\n\n//console.log (this.app, this.timeMarker)\n\n\n/*\n\t\tlet body=document.querySelector(\"body\");\n\t\t\t\t\t\t\t\t\t\t\t\t\t`<div name=\"EpgInfoBox\" class=\"hide\"></div>`\n\t\tthis.EpgInfoBox = this.shadowRoot.querySelector('[name=\"EpgInfoBox\"]');\n\n */\n\n\n\t\t// this._writeOptions(this.PROPS.defaults._storageKey, this.PROPS.set);\n\t\t//this._debug(\"JSON\", this.readOptions(this.PROPS.defaults._storageKey))\n\t\t//this.PROPS.run.topElements = [this.app, this.icon];\n\n\t\t//this._log(\"construction ended\", \"props:\",this.PROPS, \"me:\", this);\n\t\t//this._debug(\"constructor - constructed\");\n\t\tthis.init()\n\t\t}\n\n\t//######################################################################################################################################\n\t//createChannelLine()\n\t//fügt einen Channel in die Liste\n\t//\n\t//######################################################################################################################################\n\tcreateChannelLine(channel)\n\t\t{\n\t\tvar that=this\n\t\tvar id=\"progline_\"\n\t\tvar row=null\n\t\t//console.log(\"man\", channel)\n\t\tif (this.isValidChannel(channel, {data:\"hash\", id:\"string\"}) )\n\t\t\t{\n\t\t\t//console.debug(\"man valid\", channel)\n\t\n\t\t\tid=`${id}${channel.id}`\n\t\t\trow=this.app.querySelector(`[id=\"${id}\"]`)\n\t\t\tif (! row )\n\t\t\t\t{\n\t\t\t\tif (Object.keys(channel.data).length == 0)\n\t\t\t\t\t{\n\t\t\t\t\treturn\t\n\t\t\t\t\t}\t\n\t\t\t\trow =this._htmlToElement(\t`<div class=\"TabRow\" id=\"${id}\" >\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"TabCell\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"Tab Progline\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div name=\"container\" class=\"TabRow\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tgepg-progitem class=\"TabCell\" span=\"\" name=\"startplaceholder\"></tgepg-progitem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t${channel.html}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tgepg-progitem class=\"TabCell\" span=\"\" name=\"endplaceholder\"></tgepg-progitem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t`)\n\t\t\t\tthis.app.appendChild(row);\n\t\t\t\tchannel[\"isNew\"]=true\n\t\t\t\t}\n\t\t\trow=row.querySelector('[name=\"container\"]')\n\t\t\tif (!row) return\n\n\t\t\tvar firstitem= row.querySelector(`[name=\"startplaceholder\"]`)\n\t\t\tvar lasttitem= row.querySelector(`[name=\"endplaceholder\"]`)\n\n\t\t\tif ((\"preSpan\" in channel) && firstitem)\n\t\t\t\t{\n\t\t\t\tfirstitem.setAttribute(\"span\", channel.preSpan)\n\t\t\t\t}\n\t\t\tif ((\"postSpan\" in channel) && lasttitem)\n\t\t\t\t{\n\t\t\t\tlasttitem.setAttribute(\"span\", channel.postSpan)\n\t\t\t\t}\n\n\t\t\tif (channel.todolist && ! channel.isNew)\n\t\t\t\t{\n\t\t\t\tlet keys=Object.keys(channel.todolist)\n\t\t\t\tconsole.log(\"proglist todo\", keys)\t\n\t\t\t\tfor (let key of keys)\n\t\t\t\t\t{\n\t\t\t\t\tif (key.startsWith(\"d\"))\n\t\t\t\t\t\t{\n\t\t\t\t\t\tfor ( let index of channel.todolist[key])\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet elem=row.querySelector(`[id=\"${index}\"]`)\n\t\t\t\t\t\t\tif (elem) elem.remove()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\tfor (let key of keys)\n\t\t\t\t\t{\n\t\t\t\t\tif (key.startsWith(\"r\"))\n\t\t\t\t\t\t{\n\t\t\t\t\t\tfor ( let index of channel.todolist[key])\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet elem=row.querySelector(`[id=\"${index}\"]`)\n\t\t\t\t\t\t\tif (elem && channel.data[index]) elem.replaceWith(this._htmlToElement(channel.data[index].html))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\tfor (let key of keys)\n\t\t\t\t\t{\n\t\t\t\t\tif (key.startsWith(\"a\"))\n\t\t\t\t\t\t{\n\t\t\t\t\t\tfor ( let index of channel.todolist[key])\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet elem=row.querySelector(`[id=\"${index}\"]`)\n\t\t\t\t\t\t\tif (!elem && lasttitem) lasttitem.insertAdjacentElement(\"beforebegin\", this._htmlToElement(channel.data[index].html))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\tfor (let key of keys)\n\t\t\t\t\t{\n\t\t\t\t\tif (key.startsWith(\"m\"))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t//console.debug(\"proglist manage channel\", channel)\n\t\t\t\t\t\tlet elem=row.querySelector(`[name=\"startplaceholder\"]`)\n\t\t\t\t\t\tif (channel.preSpan && elem)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\telem.setAttribute('span', channel.preSpan);\n\t\n\t\t\t\t\t\t\t//console.debug(\"manage startplaceholder\", elem)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\telem=row.querySelector(`[name=\"endplaceholder\"]`)\n\t\t\t\t\t\tif (channel.postSpan && elem)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\telem.setAttribute('span', channel.postSpan);\n\t\n\t\t\t\t\t\t\t//console.debug(\"manage endplaceholder\", elem)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t//######################################################################################################################################\n\t//init()\n\t//prüft die Umgebung und passt Parameter entsprechend an\n\t//\n\t//######################################################################################################################################\n\tinit()\n\t\t{\n\t\tthis.initTimemarker()\n\t\t}\n\t//######################################################################################################################################\n\t//initTimemarker()\n\t//prüft die Umgebung und passt Parameter entsprechend an\n\t//\n\t//######################################################################################################################################\n\tinitTimemarker()\n\t\t{\n\t\tvar that=this\n\t\tif  ( ( ! this.timeMarker) || ( ! this.PROPS.attr.timelinestart) || (! this.PROPS.attr.enableTimemarker))\n\t\t\t{\n\t\t\treturn\n\t\t\t}\n\t\tlet now=Math.floor(new Date() / 1000);\n\t\tlet offset=(now - this.PROPS.attr.timelinestart )\n\t\tthis.timeMarker.style.setProperty('--timeMarkerOffset', offset+\"px\");\n\t\tthat.timeMarker.classList.remove(\"hide\")\n\n\t\tif ((! this.timeMarker.hasAttribute(\"hasTimer\")) || (parseInt(this.timeMarker.getAttribute(\"hasTimer\")) !== 1) )\n\t\t \t{\n\t\t\tthat.timeMarker.setAttribute(\"hasTimer\", \"1\");\n\t\t\tthat.PROPS.run[\"TimeMarkerHandler\"]=setInterval(function ()\n\t\t\t\t{\n\t\t\t\tthat.initTimemarker()\n\t\t\t\t}, 5000);\n\t\t\t}\n\t\t//this.addEventListener(\"scroll\", function(ev){this.timeMarker.style.top=this.scrollTop+\"px\"})\n\t\t}\n\t// //######################################################################################################################################\n\t// //\n\t// //\n\t// //\n\t// //######################################################################################################################################\n\tconnectedCallback ()\n\t\t{\n\t\tvar that=this;\n\t\tif (this.PROPS.run.connected == 0)\n\t\t \t{\n\t\t \tthis.connected();\n\t\t \t}\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tstatic get properties()\n\t\t{\n\t\tlet defProps=\ttgEpgProgListDefaults.properties || {};\n\t\tlet props= \t{\n\t\t\t\t\ttimelinestart:null,\n\t\t\t\t\tenableTimemarker:false,\n\t\t\t\t\tenableToolTipp:false\n\t\t\t\t\t};\n\t\tlet superProps=super.properties||{};\n\t\tprops=Object.assign(superProps,defProps,props);\n\t\treturn props;\n\t\t}\n\t//######################################################################################################################################\n\tstatic get observedAttributes() \n\t\t{\n\t\tlet props=Object.keys(tgEpgProgList.properties)\n        return props;\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tattributeChangedCallback(attrName, oldVal, newVal)\n\t\t{\n\t\tif ( (! newVal) || (! this.PROPS.attr.hasOwnProperty(attrName)) || (this.PROPS.attr[attrName]===newVal)) return;\n\t\toldVal=oldVal || this.PROPS.attr[attrName];\n\t\tif (typeof super.attributeChangedCallback == \"function\")\n\t\t\t{\n\t\t\tsuper.attributeChangedCallback(attrName, newVal, oldVal );\n\t\t\t}\n\t\t//this._debug(\"change Attribute \"+attrName, \"from\", oldVal, \"to\" , newVal);\n\t\tthis.PROPS.attr[attrName]=newVal;\n\t\tswitch (attrName)\n\t\t\t{\n\t\t\tcase \"timelinestart\":\n\t\t\t\tthis.initTimemarker()\t\n\t\t\t\tbreak;\n\t\t\tcase \"enableTimemarker\":\n\t\t\t\t//console.log(\"enableTimemarker!\", newVal)\n\t\t\t\tthis.initTimemarker()\t\n\t\t\t\tbreak;\n\t\t\tcase \"enableToolTipp\":\n\t\t\t\tconsole.log(\"enableToolTipp!\", newVal)\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t//######################################################################################################################################\n\t//init()\n\t//prüft die Umgebung und passt Parameter entsprechend an\n\t//\n\t//######################################################################################################################################\n\t// addLine(id, rawFilter=[], item={}, that, html=\"\", shown=true)\n\t// \t{\n\t// \t////console.debug(\"addline\", html)\n\t// \tvar that=this\n\t// \tid=\"progline_\"+id\n\t// \tvar filter=rawFilter.join(\",\")\n\t// \tvar row =this.app.querySelector(`#${id}`)\n\t// \tif (! row)\n\t// \t\t{\n\t// \t\trow=this.htmlToElement(\t`<div class=\"TabRow\" filter=\"${filter}\" id=\"${id}\" >\n\t// \t\t\t\t\t\t\t\t\t<div class=\"TabCell\">\n\t// \t\t\t\t\t\t\t\t\t\t<div class=\"Tab\">\n\t// \t\t\t\t\t\t\t\t\t\t\t<div name=\"container\" class=\"TabRow\">\n\t// \t\t\t\t\t\t\t\t\t\t\t\t<tgepg-progitem class=\"TabCell\" span=\"0\" name=\"startplaceholder\"><tgepg-progitem>\n\t// \t\t\t\t\t\t\t\t\t\t\t\t<tgepg-progitem class=\"TabCell\" span=\"0\" name=\"endplaceholder\"><tgepg-progitem>\n\t// \t\t\t\t\t\t\t\t\t\t\t</div>\n\t// \t\t\t\t\t\t\t\t\t\t</div>\n\t// \t\t\t\t\t\t\t\t\t</div>\n\t// \t\t\t\t\t\t\t\t</div>\n\t// \t\t\t\t\t\t\t\t`)\n\t// \t\tthis.app.appendChild(row);\n\t// \t\t}\n\t// \tif (!shown) row.classList.add(\"hide\")\n\t// \trow=row.querySelector('[name=\"container\"]')\n\n\t// \tvar cells=row.querySelectorAll('tgepg-progitem:not([usedfor])')\n\t// \tif (cells.length === 0)\n\t// \t\t{\n\t// \t\trow.innerHTML=html\n\t// \t\t}\n\t// \telse\n\t// \t\t{\n\t// \t\tvar newCells=[]\n\t// \t\tvar cell=cells[cells.length-1]\n\t// \t\tcell.setAttribute(\"span\",cell.getAttribute(\"duration\"))\n\t// \t\tthis.htmlToElements(html).forEach(element => { if (that.getType(element, \"nodeElement\")) newCells.push(element) });\n\t// \t\tnewCells.forEach(newCell =>\n\t// \t\t\t{\n\t// \t\t\tvar start=parseInt(cell.getAttribute(\"start\"))\n\t// \t\t\tvar end=parseInt(cell.getAttribute(\"end\"))\n\t// \t\t\tvar newstart=parseInt(newCell.getAttribute(\"start\"))\n\t// \t\t\tvar newend=parseInt(newCell.getAttribute(\"end\"))\n\t// \t\t\tvar span=newstart-end\n\t// \t\t\tif ( span === 0 )\n\t// \t\t\t\t{\n\t// \t\t\t\tcell.after(newCell)\n\t// \t\t\t\tcell=newCell\n\t// \t\t\t\t}\n\t// \t\t\telse if ( span > 0 )\n\t// \t\t\t\t{\n\t// \t\t\t\tcell.after(this.htmlToElement(`\n\t// \t\t\t\t<tg-epg-progitem class=\"TabCell\"\n\t// \t\t\t\tspan=\"${span}\"\n\t// \t\t\t\tstart=\"${end}\"\n\t// \t\t\t\tend=\"${newstart}\"\n\t// \t\t\t\tchannelid=\"${id}\"\n\t// \t\t\t\tid=\"${id}_${end}\"\n\t// \t\t\t\t\t></tg-epg-progitem>`\n\t// \t\t\t\t), newCell)\n\t// \t\t\t\tcell=newCell\n\t// \t\t\t\t}\n\t// \t\t\telse if (( span < 0) && (newend <= end))\n\t// \t\t\t\t{\n\n\t// \t\t\t\t}\n\t// \t\t\telse if (( span < 0) && (newend > end))\n\t// \t\t\t\t{\n\t// \t\t\t\tcell.setAttribute(\"span\", newstart-start)\n\t// \t\t\t\tcell=newCell\n\t// \t\t\t\t}\n\n\t// \t\t\t})\n\t// \t\t}\n\t// \tcells=row.querySelectorAll('tg-epg-progitem:not([usedfor]):not([status])')\n\t// \tcells.forEach(cell =>\n\t// \t\t{\n\t// \t\tthat.transferPROPS(that, cell)\n\t// \t\t})\n\n\n\n\t// \treturn\n\t// \t}\n\n\t// //######################################################################################################################################\n\t// //\n\t// //\n\t// //\n\t// //######################################################################################################################################\n\tconnectedCallback ()\n\t\t{\n\t\tvar that=this;\n\t\tif (this.PROPS.run.connected == 0)\n\t\t \t{\n\t\t \tthis.connected();\n\t\t \t}\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t// attributeChangedCallback(attrName, oldVal, newVal)\n\t// \t{\n\t// \tif ( (! newVal) || (! this.PROPS.attr.hasOwnProperty(attrName)) || (this.PROPS.attr[attrName]===newVal)) return;\n\t// \tconsole.log(\"attributeChangedCallback\")\n\n\n\t// \toldVal=oldVal || this.PROPS.paras[attrName];\n\t// \tif (typeof super.attributeChangedCallback == \"function\")\n\t// \t\t{\n\t// \t\tsuper.attributeChangedCallback(attrName, newVal, oldVal );\n\t// \t\t}\n\t// \t//this._debug(\"change Attribute \"+attrName, \"from\", oldVal, \"to\" , newVal);\n\t// \tthis.PROPS.paras[attrName]=newVal;\n\t// \tswitch (attrName)\n\t// \t\t{\n\t// \t\tcase \"timerowheight\":\n\t// \t\t\t//this.timeRow.style.height=parseInt(newVal)+\"px\";\n\t// \t\t\tbreak;\n\t// \t\tcase \"channelfilter\":\n\t// \t\t\tthis.setFilter(newVal)\n\t// \t\t\tbreak;\n\t// \t\tcase \"data\":\n\t// \t\t\tthis.PROPS.paras[\"dataref\"]=newVal;\n\t// \t\t\tthis.dataHandler.getData(newVal);\n\t// \t\t\tbreak;\n\t// \t\tdefault:\n\t// \t\t\tbreak;\n\t// \t\t}\n\t// \t}\n\t//######################################################################################################################################\n\t//setter & getter\n\t//\n\t//\n\t//######################################################################################################################################\n\t// get design_timeFrameStart()\n\t// \t{\n\t// \t////console.debug(\"render Appp getter\", this.PROPS.run)\n\t// \treturn this.PROPS.run.timeFrameStart||null;\n\t// \t}\n\t// set design_timeFrameStart(val)\n\t// \t{\n\t// \t// if (this.PROPS.run.timeFrameStart != val)\n\t// \t// \t{\n\t// \t// \tthis.PROPS.run[\"timeFrameStart\"]=val;\n\t// \t// \t}\n\t// \t}\n\t// get design_timeFrameEnd()\n\t// \t{\n\t// \treturn this.PROPS.run.timeFrameEnd||null;\n\t// \t}\n\t// set design_timeFrameEnd(val)\n\t// \t{\n\t// \t// if (this.PROPS.run.timeFrameEnd != val)\n\t// \t// \t{\n\t// \t// \tthis.PROPS.run[\"timeFrameEnd\"]=val;\n\t// \t// \t}\n\t// \t}\n\t// get design_SpanTime()\n\t// \t{\n\t// \treturn this.PROPS.run.SpanTime||null;\n\t// \t}\n\t// set design_SpanTime(val)\n\t// \t{\n\t// \tif (this.PROPS.run.SpanTime != val)\n\t// \t\t{\n\t// \t\tthis.PROPS.run[\"SpanTime\"]=val;\n\t// \t\t}\n\t// \t}\n\t// get design_SpanTimeAll()\n\t// \t{\n\t// \treturn this.PROPS.run.SpanTimeAll||null;\n\t// \t}\n\t// set design_SpanTimeAll(val)\n\t// \t{\n\t// \tif (this.PROPS.run.SpanTimeAll != val)\n\t// \t\t{\n\t// \t\tthis.PROPS.run[\"SpanTimeAll\"]=val;\n\t// \t\t}\n\t// \t}\n\t// get design_PastOffsetTime()\n\t// \t{\n\t// \treturn this.PROPS.run.PastOffsetTime||null;\n\t// \t}\n\t// set design_PastOffsetTime(val)\n\t// \t{\n\t// \tif (this.PROPS.run.PastOffsetTime != val)\n\t// \t\t{\n\t// \t\tthis.PROPS.run[\"PastOffsetTime\"]=val;\n\t// \t\t}\n\t// \t}\n\t// get now()\n\t// \t{\n\t// \treturn this.PROPS.run.now||null;\n\t// \t}\n\t// set now(val)\n\t// \t{\n\t// \tif (this.PROPS.run.now != val)\n\t// \t\t{\n\t// \t\tthis.PROPS.run[\"now\"]=val;\n\t// \t\t}\n\t// \t}\n\tget enableToolTipp()\n\t\t{\t\n\t\treturn this.PROPS.attr.enableToolTipp||null;\n\t\t}\n\tset enableToolTipp(val)\n\t\t{\n\t\tthis.attributeChangedCallback(\"enableToolTipp\", this.PROPS.attr.enableToolTipp||null, val)\n\t\t}\n\tget enableTimemarker()\n\t\t{\t\n\t\treturn this.PROPS.attr.enableTimemarker||null;\n\t\t}\n\tset enableTimemarker(val)\n\t\t{\n\t\t//console.log(\"enableTimemarker\", val)\t\n\t\tthis.attributeChangedCallback(\"enableTimemarker\", this.PROPS.attr.enableTimemarker||null, val)\n\t\t}\n\tget timelinestart()\n\t\t{\n\t\treturn this.PROPS.attr.timelinestart||null;\n\t\t}\n\tset timelinestart(val)\n\t\t{\n\t\tthis.attributeChangedCallback(\"timelinestart\", this.PROPS.attr.timelinestart||null, val)\n\t\t}\n\tget supermaster()\n\t\t{\n\t\treturn this.PROPS.run.supermaster;\n\t\t}\n\tset supermaster(val)\n\t\t{\n\t\tthis.PROPS.run[\"supermaster\"]=val;\n\t\t}\n\n//##################################################################\n\n\t// get epgPastSpanHours()\n\t// \t{\n\t// \treturn this.PROPS.run.epgPastSpanHours||null;\n\t// \t}\n\t// set epgPastSpanHours(val)\n\t// \t{\n\t// \tif (this.PROPS.run.epgPastSpanHours != val)\n\t// \t\t{\n\t// \t\tthis.PROPS.run[\"epgPastSpanHours\"]=val;\n\t// \t\t}\n\t// \t}\n\n\t// get epgFutureSpanHoursAll()\n\t// \t{\n\t// \treturn this.PROPS.run.epgFutureSpanHoursAll||null;\n\t// \t}\n\t// set epgFutureSpanHoursAll(val)\n\t// \t{\n\t// \tif (this.PROPS.run.epgFutureSpanHoursAll != val)\n\t// \t\t{\n\t// \t\tthis.PROPS.run[\"epgFutureSpanHoursAll\"]=val;\n\t// \t\t}\n\t// \t}\n\t// get scale()\n\t// \t{\n\t// \treturn this.PROPS.run.scale||null;\n\t// \t}\n\t// set scale(val)\n\t// \t{\n\t// \tif (this.PROPS.run.scale != val)\n\t// \t\t{\n\t// \t\tthis.PROPS.run[\"scale\"]=val;\n\t// \t\t}\n\t// \t}\n\n\n\n\t// render()\n\t// \t{\n\t// \tvar that=this\n\t// \tlet selector='.TabRow[filter] [name=\"container\"]';\n\t// \tvar rows=this.app.querySelectorAll(`${selector}`)\n\t// \tconst styles=getComputedStyle(this)\n\t// \tthis.PROPS.run[\"scale\"]=parseFloat(styles.getPropertyValue('--scale'))||0\n\n\t// \trows.forEach(function(row)\n\t// \t\t{\n\t// \t\tvar cells=row.querySelectorAll('tg-epg-progitem[usedfor=\"emptyStartCell\"],tg-epg-progitem[usedfor=\"emptyEndCell\"]')\n\t// \t\tcells.forEach(function(cell)\n\t// \t\t\t{\n\t// \t\t\tcell.remove()\n\t// \t\t\t})\n\t// \t\t})\n\t// \tselector=`${selector} > tg-epg-progitem`\n\t// \tthis.PROPS.run[\"timeFrameStart\"]=getMinMaxTime\t(\"min\",\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\tthis.PROPS.run.now -this.PROPS.run.epgPastSpanHours*3600,\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t`${selector}:first-of-type`\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t// \tthis.PROPS.run[\"timeFrameEnd\"]\t=getMinMaxTime\t(\"max\",\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\tthis.PROPS.run.now + (this.PROPS.run.epgFutureSpanHours+this.PROPS.run.epgFutureSpanHoursAll)*3600,\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t`${selector}:last-of-type`\n\t// \t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t// \trows.forEach(function(row)\n\t// \t\t{\n\t// \t\tvar firstCell=row.querySelector('tg-epg-progitem:not([usedfor]):first-of-type')\n\t// \t\twhile ((firstCell) && (parseInt(firstCell.getAttribute(\"end\")) < that.PROPS.run.timeFrameStart))\n\t// \t\t\t{\n\t// \t\t\tfirstCell.remove()\n\t// \t\t\tfirstCell=row.querySelector('tg-epg-progitem:not([usedfor]):first-of-type')\n\t// \t\t\t}\n\n\t// \t\tvar lastCell=row.querySelector('tg-epg-progitem:not([usedfor]):last-of-type')\n\t// \t\twhile ((lastCell) && (parseInt(lastCell.getAttribute(\"start\")) > that.PROPS.run.timeFrameEnd))\n\t// \t\t\t{\n\t// \t\t\tlastCell.remove()\n\t// \t\t\tlastCell=row.querySelector('tg-epg-progitem:not([usedfor]):last-of-type')\n\t// \t\t\t}\n\t// \t\tfirstCell=row.querySelector('tg-epg-progitem:not([usedfor]):first-of-type')\n\t// \t\tlastCell=row.querySelector('tg-epg-progitem:not([usedfor]):last-of-type')\n\t// \t\tif (firstCell)\n\t// \t\t\t{\n\t// \t\t\tfirstCell.setAttribute(\"span\", parseInt(firstCell.getAttribute(\"duration\")) )\n\t// \t\t\tlastCell.setAttribute(\"span\", parseInt(lastCell.getAttribute(\"duration\")) )\n\n\t// \t\t\tlet x=parseInt(firstCell.getAttribute(\"start\"))\n\t// \t\t\tlet y=that.PROPS.run.timeFrameStart-x\n\t// \t\t\tif (y>=0)\n\t// \t\t\t\t{\n\t// \t\t\t\tfirstCell.setAttribute(\"span\", parseInt(firstCell.getAttribute(\"span\")-y) )\n\t// \t\t\t\ty=0\n\t// \t\t\t\t}\n\t// \t\t\telse\n\t// \t\t\t\t{\n\t// \t\t\t\ty=-1*y\n\t// \t\t\t\t}\n\t// \t\t\trow.prepend(that.htmlToElement\t(\n\t// \t\t\t\t`\n\t// \t\t\t\t<tg-epg-progitem usedfor=\"emptyStartCell\" class=\"usedfor\" span=\"${y}\">\n\t// \t\t\t\t</tg-epg-progitem>\n\t// \t\t\t\t`))\n\t// \t\t\tx=parseInt(lastCell.getAttribute(\"end\"))\n\t// \t\t\ty=x-that.PROPS.run.timeFrameEnd\n\t// \t\t\tif (y>=0)\n\t// \t\t\t\t{\n\t// \t\t\t\tlastCell.setAttribute(\"span\", parseInt(firstCell.getAttribute(\"span\")-y) )\n\t// \t\t\t\ty=0\n\t// \t\t\t\t}\n\t// \t\t\telse\n\t// \t\t\t\t{\n\t// \t\t\t\ty=-1*y\n\t// \t\t\t\t}\n\t// \t\t// \t////console.debug(\"proglistrender\", y, new Date(that.PROPS.run.timeFrameStart*1000), new Date(that.PROPS.run.timeFrameEnd*1000))\n\n\t// \t\t\trow.append(that.htmlToElement\t(\n\t// \t\t\t\t`\n\t// \t\t\t\t<tg-epg-progitem usedfor=\"emptyEndCell\"  class=\"usedfor\" span=\"${y}\">\n\t// \t\t\t\t</tg-epg-progitem>\n\t// \t\t\t\t`\n\t// \t\t\t\t))\n\t// \t\t\t}\n\t// \t\t})\n\t// \tthis.initTimemarker()\n\n\t// \tfunction getMinMaxTime(minOrMax=\"min\", border, selector)\n\t// \t\t{\n\t// \t\tvar cells=that.app.querySelectorAll(selector)\n\t// \t\t// //console.debug(\"proglistrenderxxx\", that.app, minOrMax, cells.length)\n\n\t// \t\tvar pos=null\n\t// \t\tcells.forEach(function(cell)\n\t// \t\t\t{\n\t// \t\t\tif (minOrMax === \"min\")\n\t// \t\t\t\t{\n\t// \t\t\t\tlet x=parseInt(cell.getAttribute(\"start\"))\n\t// \t\t\t\tpos=( (pos === null) || (pos > x))?x:pos\n\t// \t\t\t\tpos=(pos<border)?border:pos\n\t// \t\t\t\t}\n\t// \t\t\telse\n\t// \t\t\t\t{\n\t// \t\t\t\tlet x=parseInt(cell.getAttribute(\"end\"))\n\t// \t\t\t\tpos=( (pos === null) || (pos < x))?x:pos\n\t// \t\t\t\tpos=(pos > border)?border:pos\n\t// \t\t\t\t// //console.debug(\"proglistrenderx\", new Date(border*1000), new Date(pos*1000))\n\n\t// \t\t\t\t}\n\t// \t\t\t})\n\t// \t\treturn Math.round(new Date(((pos === null)?border:pos)*1000).floorHours().getTime()/1000)\n\t// \t\t}\n\n\t// \t}\n\t// addEmptyCellsOnStartAndEnd(row, start, end)\n\t// \t{\n\t// \tvar sCell=row.querySelector('tg-epg-progitem[usedfor=\"emptyStartCell\"]')\n\t// \tif (! sCell)\n\t// \t\t{\n\t// \t\tsCell=this.htmlToElement\t(\n\t// \t\t\t\t\t\t\t\t`\n\t// \t\t\t\t\t\t\t\t<tg-epg-progitem usedfor=\"emptyStartCell\">\n\t// \t\t\t\t\t\t\t\t</tg-epg-progitem>\n\t// \t\t\t\t\t\t\t\t`\n\t// \t\t\t\t\t\t\t\t)\n\t// \t\trow.prepend(sCell)\n\t// \t\t}\n\t// \tvar eCell=row.querySelector('tg-epg-progitem[usedfor=\"emptyEndCell\"]')\n\t// \tif (! eCell)\n\t// \t\t{\n\t// \t\teCell=this.htmlToElement\t(\n\t// \t\t\t\t\t\t\t\t`\n\t// \t\t\t\t\t\t\t\t<tg-epg-progitem usedfor=\"emptyEndCell\">\n\t// \t\t\t\t\t\t\t\t</tg-epg-progitem>\n\t// \t\t\t\t\t\t\t\t`\n\t// \t\t\t\t\t\t\t\t)\n\t// \t\trow.append(eCell)\n\t// \t\t}\n\t// \tvar brother =sCell.nextElementSibling\n\t// \tif (brother)\n\t// \t\t{\n\t// \t\tlet nextStart=parseInt(brother.getAttribute(\"start\") || end)\n\t// \t\tlet duration=nextStart-start\n\t// \t\tsCell.setAttribute(\"duration\", duration)\n\t// \t\tsCell.setAttribute(\"start\", start)\n\t// \t\tsCell.setAttribute(\"end\", nextStart)\n\t// \t\t}\n\t// \t//console.debug(\"addEmptyCellsOnStartAndEnd\", start, end, row,\"\\n\", sCell,\"\\n\", brother)\n\n\t// \tvar brother =eCell.previousElementSibling\n\t// \tif (brother)\n\t// \t\t{\n\t// \t\tlet beforeEnd=parseInt(brother.getAttribute(\"end\") || end)\n\t// \t\tlet duration=end - beforeEnd\n\t// \t\teCell.setAttribute(\"duration\", duration)\n\t// \t\teCell.setAttribute(\"start\", start)\n\t// \t\teCell.setAttribute(\"end\", beforeEnd)\n\t// \t\t}\n\t// \t//console.debug(\"addEmptyCellsOnStartAndEnd\",\"\\n\", brother)\n\n\t// \t// \tlet duration=parseInt(item.nextSibling.getAttribute(\"start\"))-start\n\n\n\n\t// \t// var items=this.shadowRoot.querySelectorAll('tg-epg-progitem[usedfor=\"emptyStartCell\"]:not([duration])');\n\t// \t// items.forEach((item) =>\n\t// \t// \t{\n\t// \t// \tlet duration=parseInt(item.nextSibling.getAttribute(\"start\"))-start\n\t// \t// \titem.setAttribute(\"duration\", duration)\n\t// \t//   \t});\n\t// \t// items=this.shadowRoot.querySelectorAll('tg-epg-progitem');\n\t// \t// items.forEach((item) =>\n\t// \t// \t{\n\t// \t// \titem.supermaster=this._supermaster\n\t// \t// \t});\n\t// \t// this.drawStart=start\n\t// \t}\n\n\n\t//#########################################################################################################\n\t//## refreshAppSizeAfterResizeOrInit()\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\t// resize(scale)\n\t// \t{\n\t// \tvar oldScale=parseFloat(this.PROPS.run.scale)\n\t// \tvar oldScroll=parseFloat(this.scrollLeft)\n\t// \tvar timeOffset=oldScroll/oldScale\n\t// \tthis.PROPS.run.scale=scale\n\t// \tif \t(this.PROPS.run.scale !== oldScale)\n\t// \t\t{\n\t// \t\tvar progItems=this.shadowRoot.querySelectorAll(\"tg-epg-progitem\")\n\t// \t\tprogItems.forEach(item =>\n\t// \t\t\t{\n\t// \t\t\titem.setAttribute(\"scale\", this.PROPS.run.scale)\n\t// \t\t\t})\n\t// \t\tthis.scrollLeft=timeOffset*scale\n\t// \t\tthis.initTimemarker()\n\t// \t\t}\n\t// \t}\n\n\t//#########################################################################################################\n\t//##\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\n\t//############################################################################################################################################\n\t//############################################################################################################################################\n\t}\n\nwindow.customElements.define('tgepg-proglist', tgEpgProgList);\n","import { tgEpgDefaultsCommon }  from \"./defaults_Common.js\"\n\nexport class tgEpgProgListDefaults extends tgEpgDefaultsCommon\n\t{\n\tthisIsClass=true\t\t\n\tconstructor(that)\n\t\t{\n\t\tsuper(\"open\", that);\n\t\tthis[\"PROPS\"]=\n\t\t\t\t\t\t{\n\t\t\t\t\t\tdefault: \tthis._extender({}, this[\"PROPS\"].default||{},\n\t\t\t\t\t\t\t\t\t{\n\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t}\n\t\t}\n\t// get properties()\n\t// \t{\n\t// \tvar props=super.properties||{_common:false};\n\t// \tprops[\"_default\"]=true;\n\t// \tprops[\"scale\"]=null;\n\t// \tprops[\"timelinestart\"]=\"\"+ Math.floor(new Date() / 1000)-(30*60);\n\t// \treturn props;\n\t// \t}\t\n\n\tstatic get template()\n\t\t{\n\t\tvar styles=super.styles||\"\";\n\t\t\tstyles=styles+`\n\t\t\t<style>\n\t\t\t\n\t\t\t:host\n\t\t\t\t{\n\t\t\t\t--timeMarkerWidth: 2px;\n\t\t\t\tdisplay:inline-block;\n\t\t\t\tfont-size:12px;\n\t\t\t\toverflow-x:auto;\n\t\t\t\toverflow-y:visible;\n\t\t\t\t/*\n\t\t\t\tposition:absolute;\n\t\t\t\t*/\n\t\t\t\tleft:0px;\n\t\t\t\ttop:0px;\n\t\t\t\tbox-sizing: border-box;\n\n\t\t\t\t}\n\t\t\t:host::-webkit-scrollbar\n\t\t\t\t{\n\t\t\t\tdisplay: none;\n\t\t\t\t-ms-overflow-style: none;\n\t\t\t\tscrollbar-width: none;\n\t\t\t\t}\n\t\t\t[name=\"app\"]\n\t\t\t\t{\n\t\t\t\tbackground-color: gray;\n\t\t\t\tdisplay:inline-block;\n\t\t\t\tposition:relative;\n\t\t\t\t}\n\t\t\t.Progline\n\t\t\t\t{\n\t\t\t\theight:100% !important;\n\t\t\t\tmax-height:100% !important;\n\t\t\t\tmin-height:100% !important;\n\t\t\t\t}\n\t\t\t.TabRow\n\t\t\t\t{\n\t\t\t\theight:100%;\n\t\t\t\t}\n\t\t\t[name=\"app\"] > .TabRow\n\t\t\t\t{\n\t\t\t\tborder-top: 3px solid black;\n\t\t\t\tborder-bottom: 3px solid black;\n\t\t\t\tmin-height: calc( var(--channelRowHeight) * 1 );\n\t\t\t\tmax-height: calc( var(--channelRowHeight) * 1 );\n\t\t\t\theight: calc( var(--channelRowHeight) * 1 );\n\n\t\t\t\t}\n\t\t\t[name=\"app\"] > .TabRow > .TabCell\n\t\t\t\t{\n\t\t\t\theight: 100%;\n\t\t\t\t}\n\t\t\t[name=\"app\"] > .TabRow:nth-child(even)\n\t\t\t\t{\n\t\t\t\tbackground-color: green;\n\t\t\t\tcolor: red;\n\t\t\t\t}\n\t\t\t[name=\"app\"] > .TabRow:nth-child(even) > .TabCell > .Tab > .TabRow > .TabCell:nth-child(even)\n\t\t\t\t{\n\t\t\t\tbackground-color: white;\n\t\t\t\tcolor: black;\n\t\t\t\t}\n\t\t\t[name=\"app\"] > .TabRow:nth-child(even) > .TabCell > .Tab > .TabRow > .TabCell:nth-child(odd)\n\t\t\t\t{\n\t\t\t\tbackground-color: black;\n\t\t\t\tcolor: white;\n\t\t\t\t}\n\t\t\t[name=\"app\"] > .TabRow:nth-child(odd)\n\t\t\t\t{\n\t\t\t\tbackground-color: brown;\n\t\t\t\tcolor: yellow;\n\t\t\t\t}\n\t\t\t[name=\"app\"] > .TabRow:nth-child(odd) > .TabCell > .Tab > .TabRow > .TabCell:nth-child(even)\n\t\t\t\t{\n\t\t\t\tbackground-color: darkgray;\n\t\t\t\tcolor: black;\n\t\t\t\t}\n\t\t\t[name=\"app\"] > .TabRow:nth-child(odd) > .TabCell > .Tab > .TabRow > .TabCell:nth-child(odd)\n\t\t\t\t{\n\t\t\t\tbackground-color: lightgray;\n\t\t\t\tcolor: black;\n\t\t\t\t}\n\n\t\t\t[name=\"timemarker\"]\n\t\t\t\t{\n\t\t\t\tposition:absolute;\n\t\t\t\twidth: var( --timeMarkerWidth, 5px);\n\t\t\t\tbackground-color: red;\n\t\t\t\tz-index: 2000;\n\t\t\t\ttop: 0px;\n\t\t\t\theight: 100%;\n\t\t\t\tleft: calc( var(--timeMarkerOffset) * var(--scale) - calc( var(--timeMarkerWidth) / 2 ))\n\t\t\t\t}\n\t\t\t[genre=\"10\"]\n\t\t\t\t{\n\t\t\t\tbackground-color:green !important;\n\t\t\t\t}\n\t\t\t[genre=\"11\"]\n\t\t\t\t{\n\t\t\t\tbackground-color:blue !important;\n\t\t\t\t}\n\t\t\t[genre=\"12\"]\n\t\t\t\t{\n\t\t\t\tbackground-color:red !important;\n\t\t\t\t}\n\t\t\t[genre=\"13\"]\n\t\t\t\t{\n\t\t\t\tbackground-color:yellow !important;\n\t\t\t\t}\n\t\t\t[genre=\"14\"]\n\t\t\t\t{\n\t\t\t\tbackground-color:brown !important;\n\t\t\t\t}\n\t\t\ttg-epg-progitem\n\t\t\t\t{\n\t\t\t\t--progItemScale: var(--channelLineScale):\n\t\t\t\t}\n\t\t\t.tgEpgTooltip\n\t\t\t\t{\n\t\t\t\tposition: absolute;\n\t\t\t\t}\n\n\n\t\t\t</style>\n\n\t\t\t`;\n\t\t\tvar tmp=styles+`\n\t\t\t<!-- App -->\n\t\t\t<div name=\"timemarker\" class=\"hide\"></div>\n\t\t\t<div class=\"tgEpgTooltip hide\" data-id=\"-\"></div>\n\t\t\t<div name=\"app\" class=\"Tab\">\n\n\t\t\t\t</div>\n\t\t\t<!-- App Ende-->\n\t\t\t\t`;\n\t\t\treturn\ttmp;\n\t\t}\n\t}\n","/*refr\n* tgEPG component\n*\n* Copyright (c) 2020-2021 Thomas Geißenhöner <quietcry@gmx.de>\n* Under MIT License (http://www.opensource.org/licenses/mit-license.php)\n*\n*\n*/\n\nimport { tgControls } from '../tgControls.js';\nimport { tgEpgProgItemDefaults } from '../../defaults_ProgItem.js';\n\nexport class tgEpgProgItem extends tgControls\n\t{\n\tconstructor(mode=\"open\", props={})\n\t\t{\n\t\tsuper(mode, new tgEpgProgItemDefaults());\n\t\tvar that=this;\n\t\tthis[\"PROPS\"]=this._extender\n\t\t\t(\n\t\t\t\t{paras:{}},\n\t\t\t\tthis[\"PROPS\"]||{},\n\t\t\t\t{\n\t\t\t\tdefault:\t{\n\t\t\t\t\t\t\tmsg:\t{\n\t\t\t\t\t\t\t\t\tlog:true,\n\t\t\t\t\t\t\t\t\tdebug:true,\n\t\t\t\t\t\t\t\t\terror:true\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tskale:0,\n\t\t\t\t\t\t\tfirstStart:0,\n\t\t\t\t\t\t\tlastEnd:0,\n\t\t\t\t\t\t\ttimePosition:0,\n\t\t\t\t\t\t\tepgEnd:100\n\t\t\t\t\t\t\t},\n\t\t\t\tattr:\t\tthis._extender({},tgEpgProgItem.properties),\n\t\t\t\trun: \t\t{\n\t\t\t\t\t\t\tconnected:0\n\t\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t\tthis[\"PROPS\"][\"run\"]=this._extender\t(\tthis[\"PROPS\"][\"default\"]||{},\n\t\t\t\t\tthis[\"PROPS\"][\"run\"]||{},\n\t\t\t\t\tprops\n\t\t\t\t)\n\t\t// Props durch im Storage gespeichertes erweitern/anpassen\n\t\t//this.PROPS.set = this._extender({}, (this.PROPS.defaults || {}), (this.PROPS.set || {}), (this._readOptions(this.PROPS.defaults._storageKey) || {}));\n\n\t\t//this._debug(\"constructor - Parameters\", \"props:\",this[\"PROPS\"]);\n\n\t\t// data handler init\n\t\t//this.epgData={};\n\n\n\n\n\t\t//this.me=new tgEpgHelper(false);\n\n\t\tthis.app = this.shadowRoot.querySelector('[name=\"app\"]');\n\t\t// this.titleslot = this.shadowRoot.querySelector('[name=\"titleslot\"]');\n\t\t// this.revier={l:80,r:0,t:0,b:0}\n\t\t// this.buttonCell = this.shadowRoot.querySelector('[name=\"buttonCell\"]');\n\n\t\t// this.channelBox = this.shadowRoot.querySelector('[name=\"channelBox\"]');\n\t\t// this.programBox = this.shadowRoot.querySelector('[name=\"programBox\"]');\n\t\t// this.timeBar = this.shadowRoot.querySelector('[name=\"timeBar\"]');\n\t\t// this.timeRow = this.shadowRoot.querySelector('[name=\"timeRow\"]');\n\t\t// this.timeMarker = that.shadowRoot.querySelector('[name=\"timemarker\"]');\n\t\t// this.superButton = that.shadowRoot.querySelector('#superbutton');\n\t\t// this.floatingMenu = that.shadowRoot.querySelector('[name=\"app\"]>tg-floatingMenu');\n\n\n\n\n/*\n\t\tlet body=document.querySelector(\"body\");\n\t\t\t\t\t\t\t\t\t\t\t\t\t`<div name=\"EpgInfoBox\" class=\"hide\"></div>`\n\t\tthis.EpgInfoBox = this.shadowRoot.querySelector('[name=\"EpgInfoBox\"]');\n\n */\n\n\n\t\t// this._writeOptions(this.PROPS.defaults._storageKey, this.PROPS.set);\n\t\t////this._debug(\"JSON\", this.readOptions(this.PROPS.defaults._storageKey))\n\t\t//this.PROPS.run.topElements = [this.app, this.icon];\n\n\t\t//this._log(\"construction ended\", \"props:\",this.PROPS, \"me:\", this);\n\t\t//this._debug(\"constructor - constructed\");\n\n\t\t}\n\n\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\t// template()\n\t// \t{\n\t// \tlet tmp = tgEpgProgItemDefaults.template;\n\n\t// \treturn tmp;\n\t// \t}\n\t// // //######################################################################################################################################\n\t// // //\n\t// // // properties()\n\t// // // collect name-value pairs to use as observed Atrributes and the corresponding this->PROPS->attr\n\t// // //\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tstatic get properties()\n\t\t{\t\t\n\t\tlet props= \t{\n\t\t\t\t\t_default:null,\n\t\t\t\t\tspan:false,\n\t\t\t\t\tname:\"\",\n\t\t\t\t\tenabletooltipp:false,\n\t\t\t\t\tmobile:false,\n\t\t\t\t\tcontext:null,\n\t\t\t\t\tmaster:null,\n\t\t\t\t\t};\n\t\tlet superProps=super.properties||{_common:false};\n\t\tlet defaultProps=tgEpgProgItemDefaults.properties||{};\n\t\tprops=Object.assign(superProps,defaultProps,props);\n\t\treturn props;\n\t\t}\n\t//######################################################################################################################################\n\tstatic get observedAttributes() \n\t\t{\n\t\tlet props=Object.keys(tgEpgProgItem.properties)\n        return props;\n\t\t}\n\t// //######################################################################################################################################\n\t// //\n\t// //\n\t// //\n\t// //######################################################################################################################################\n\tconnectedCallback ()\n\t\t{\n\t\tvar that=this;\n\t\tif (this.PROPS.run.connected === 0)\n\t\t \t{\n\t\t\tthis.activateToolTipp()\n\t\t \tthis.connected();\n\t\t \t}\n\t\t}\n\t// //######################################################################################################################################\n\t// //\n\t// //\n\t// //\n\t// //######################################################################################################################################\n\tattributeChangedCallback(attrName, oldVal, newVal)\n\t\t{\n\t\t// if (this.getAttribute(\"name\") && this.getAttribute(\"name\").includes(\"place\"))\n\t\t// \t{\n\t\t// \tconsole.debug(\"change Attribute \"+attrName, \"from\", oldVal, \"to\" , newVal, this.getAttribute(\"name\"), this)\n\t\t// \tconsole.debug( (! newVal), (! this.PROPS.attr.hasOwnProperty(attrName)), (this.PROPS.attr[attrName]===newVal) );\n\t\t// \tconsole.debug(this.PROPS.attr);\n\t\t// \t}\t\n\t\tif ( (! newVal) || (! this.PROPS.attr.hasOwnProperty(attrName)) || (this.PROPS.attr[attrName]===newVal)) return;\n\t\toldVal=oldVal || this.PROPS.attr[attrName];\n\t\tif (typeof super.attributeChangedCallback == \"function\")\n\t\t\t{\n\t\t\tsuper.attributeChangedCallback(attrName, newVal, oldVal );\n\t\t\t}\n\t\tthis.PROPS.attr[attrName]=newVal;\n\t\tswitch (attrName)\n\t\t\t{\n\t\t\tcase \"span\":\n\t\t\t\tthis.style.setProperty('--progItemSpan', (parseInt(this.PROPS.attr.span))+\"px\");\n\t\t\t\tif (parseInt(this.PROPS.attr.span) <= 0)\n\t\t\t\t\t{\n\t\t\t\t\tthis.app.classList.add(\"hide\")\n\t\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\tthis.app.classList.remove(\"hide\")\n\t\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"name\":\n\t\t\t\tif (newVal == \"startplaceholder\" || newVal == \"endplaceholder\")\n\t\t\t\t\t{\n\t\t\t\t\tthis.app.classList.add(\"hide\")\n\t\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\tthis.app.classList.remove(\"hide\")\n\t\t\t\t\t}\t\t\t\t\n\t\t\t\tbreak;\n\t\t\tcase \"enabletooltipp\":\n\t\t\t\tthis.PROPS.run[\"enabletooltipp\"]=this._getBoolean(newVal)\t\t\t\n\t\t\t\tbreak;\n\t\t\tcase \"mobile\":\n\t\t\t\tthis.PROPS.run[\"isMobile\"]=this._getBoolean(newVal)\t\t\t\n\t\t\t\tbreak;\n\t\t\tcase \"context\":\n\t\t\t\tthis.PROPS.run[\"context\"]=newVal\t\t\t\n\t\t\t\tbreak;\n\t\t\tcase \"master\":\n\t\t\t\tthis.PROPS.run[\"master\"]=newVal\t\t\t\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t// //######################################################################################################################################\n\t// //\n\t// //\n\t// //\n\t// //######################################################################################################################################\n\n\tactivateToolTipp()\n\t\t{\n\t\tvar that=this;\n\t\tif (this.PROPS.run.enabletooltipp)\n\t\t\t{\n\t\t\tif (this.PROPS.run.isMobile)\n\t\t\t\t{\n\t\t\t\tthis.addEventListener(\"touchmove\", function(ev){that.manageEvent.call(that,ev)}, false);\n\t\t\t\tthis.addEventListener(\"touchend\", function(ev){that.manageEvent.call(that,ev)}, false);\n\t\t\t\tthis.addEventListener(\"touchstart\", function(ev){that.manageEvent.call(that,ev)}, false);\n\t\t\t\tthis.addEventListener(\"dblclick\", function(ev){that.manageEvent.call(that,ev)}, false);\n\t\t\t\t}\n\t\t\telse\n\t\t\t\t{\n\t\t\t\tthis.addEventListener(\"mouseover\", function(ev){that.manageEvent.call(that,ev)}, true);\n\t\t\t\tthis.addEventListener(\"mouseleave\", function(ev){that.manageEvent.call(that,ev)});\n\t\t\t\tthis.addEventListener(\"click\", function(ev){that.manageEvent.call(that,ev)}, false);\n\t\t\t\tthis.addEventListener(\"dblclick\", function(ev){that.manageEvent.call(that,ev)}, false);\n\t\t\t\t}\n\t\t\t}\n\t\telse\n\t\t\t{\n\t\t\tthis.removeEventListener(\"touchmove\", function(ev){that.manageEvent.call(that,ev)}, false);\n\t\t\tthis.removeEventListener(\"touchend\", function(ev){that.manageEvent.call(that,ev)}, false);\n\t\t\tthis.removeEventListener(\"touchstart\", function(ev){that.manageEvent.call(that,ev)}, false);\n\t\t\tthis.removeEventListener(\"dblclick\", function(ev){that.manageEvent.call(that,ev)}, false);\n\t\t\tthis.removeEventListener(\"mouseover\", function(ev){that.manageEvent.call(that,ev)}, false);\n\t\t\tthis.removeEventListener(\"mouseleave\", function(ev){that.manageEvent.call(that,ev)}, false);\n\t\t\tthis.removeEventListener(\"click\", function(ev){that.manageEvent.call(that,ev)}, false);\n\t\t\t}\t\n\t\t}\n\t// //######################################################################################################################################\n\t// //\n\t// //\n\t// //\n\t// //######################################################################################################################################\n\tmanageEvent(ev)\n\t\t{\n\t\tif (this._getType(this.PROPS.run.master, \"string\"))\n\t\t\t{\n\t\t\tthis.PROPS.run.master=this._getMasterElement(this, this.PROPS.run.master)\t\n\t\t\t}\n\t\tif (! this.PROPS.run.master) return;\n\t\tif (! this.PROPS.run.data)\n\t\t\t{\n\t\t\tthis.PROPS.run[\"data\"]={title:\"Titlet\"}\n\t\t\t}\n\t\tlet detail={task:ev.type,data:this.PROPS.run[\"data\"], pos: this.getBoundingClientRect(), mouse:{x:ev.clientX||null, y:ev.clientY||null}}\n\t\tlet event = new CustomEvent('userInteraction', {detail:detail});\n\t\tthis.PROPS.run.master.dispatchEvent(event);\n\n\t\t\n\t\t//this._log(\"EVENT\", \t\tdetail\t)\nreturn\n\t\tvar elem=ev.target;\n\t\tvar task=ev.type;\n\t\tvar master=this.PROPS.run.master\n\t\t//console.debug(\"master\")\n\n\t\tif (! master) return\n\t\tvar infobox=null\n\t\tswitch (task)\n\t\t\t{\n\t\t\tcase \"mouseleave\":\n\t\t\t\tinfobox = master.querySelector(\"tgepg-tooltipp\")\n\t\t\t\tif (infobox) infobox.style.display=\"none\";\n\t\t\t\treturn;\n\t\t\t\tbreak;\n\t\t\tcase \"mouseover\":\n\t\t\t\tinfobox = master.querySelector(\"tgepg-tooltipp\")\n\t\t\t\tif ( ! infobox )\n\t\t\t\t\t{\n\t\t\t\t\tinfobox=document.createElement(\"tgepg-tooltipp\");\n\t\t\t\t\tmaster.appendChild(infobox)\n\t\t\t\t\t}\n\t\t\t\tinfobox.style.display=\"block\";\n\t\t\t\tbreak;\n\t\t\tcase \"click\":\n\t\t\t\tinfobox = master.querySelector(\"tgepg-info\")\n\t\t\t\tif ( ! infobox )\n\t\t\t\t\t{\n\t\t\t\t\tinfobox=document.createElement(\"tgepg-info\");\n\t\t\t\t\tmaster.appendChild(infobox)\n\t\t\t\t\t}\n\t\t\t\tconsole.log(\"infobox\", infobox)\n\t\t\t\tinfobox.style.display=\"block\";\n\t\t\t\tbreak;\n\t\t\t}\n\t\tinfobox.innerHTML=\"\"\n\t\tvar slots=this.querySelectorAll('[slot]')\n\t\tslots.forEach((slot) =>\n\t\t\t{\n\t\t\tlet clone = slot.cloneNode(true);\n\t\t\tinfobox.appendChild(clone)\n\t\t\t});\n\t\tinfobox.setAttribute(\"start\", this.getAttribute(\"start\")||\"-\")\n\t\tinfobox.setAttribute(\"duration\", this.getAttribute(\"duration\")||\"-\")\n\t\tinfobox.setAttribute(\"channelid\", this.getAttribute(\"channelid\")||\"-\")\n\t\tinfobox.setAttribute(\"eventid\", this.getAttribute(\"eventid\")||\"-\")\n\n\t\tvar visibleMaster=getVisible([master.getBoundingClientRect().y,master.getBoundingClientRect().height], [0, document.documentElement.clientHeight])\n\t\tvisibleMaster=visibleMaster.concat(getVisible([master.getBoundingClientRect().x,master.getBoundingClientRect().width], [0,document.documentElement.clientWidth]));\n\t\tvisibleMaster={y:(visibleMaster[0]+this.revier.t),h:(visibleMaster[1]-this.revier.t-this.revier.b),x:(visibleMaster[2]+this.revier.l),w:(visibleMaster[3]-this.revier.l-this.revier.r)};\n\t\tvar maus={x:ev.clientX-visibleMaster.x, y:ev.clientY-visibleMaster.y}\n\n\t\tvar visibleItem=getVisible([elem.getBoundingClientRect().y,elem.getBoundingClientRect().height], [visibleMaster.y, visibleMaster.h])\n\t\tvisibleItem=visibleItem.concat(getVisible([elem.getBoundingClientRect().x,elem.getBoundingClientRect().width], [visibleMaster.x, visibleMaster.w]));\n\t\tvisibleItem={y:visibleItem[0],h:visibleItem[1],x:visibleItem[2],w:visibleItem[3]};\n\n\t\tvar mausquadrant=(maus.x < visibleMaster.w/2)?((maus.y < visibleMaster.h/2)?1:3):((maus.y < visibleMaster.h/2)?2:4)\n\n\t\tlet offset=10\n\t\tvar style={left:\"\",right:\"\",top:\"\",bottom:\"\",maxHeight:\"\",width:\"\"}\n\n\t\tif (task == \"mouseover\")\n\t\t\t{\n\t\t\tif (visibleItem.y > (visibleMaster.h-visibleItem.y-visibleItem.h))\n\t\t\t\t{\n\t\t\t\tstyle['bottom']=visibleMaster.h-visibleItem.y+offset+'px'\n\t\t\t\tstyle['maxHeight']=(visibleItem.y-offset)+'px'\n\t\t\t\t}\n\t\t\telse\n\t\t\t\t{\n\t\t\t\tstyle['top']=visibleItem.y+visibleItem.h+offset+'px'\n\t\t\t\tstyle['maxHeight']=(visibleMaster.h-visibleItem.y-visibleItem.h-offset)+'px'\n\t\t\t\t}\n\t\t\t}\n\t\telse\n\t\t\t{\n\t\t\tif (mausquadrant < 3)\n\t\t\t\t{\n\t\t\t\tstyle['bottom']=offset+'px'\n\t\t\t\tstyle['maxHeight']=(visibleMaster.h-offset)+'px'\n\t\t\t\t}\n\t\t\telse\n\t\t\t\t{\n\t\t\t\tstyle['top']=offset+'px'\n\t\t\t\tstyle['maxHeight']=(visibleMaster.h-offset)+'px'\n\t\t\t\t}\n\t\t\t}\n\t\tsetStyle(infobox, style)\n\t\tvar boxItem=infobox.getBoundingClientRect()\n\t\tif (task == \"mouseover\")\n\t\t\t{\n\t\t\tlet left= (visibleItem.x+visibleItem.w/2)-boxItem.width/2\n\t\t\tleft=(left<0)?0:left\n\t\t\tlet right= visibleMaster.w-(visibleItem.x+visibleItem.w/2)-boxItem.width/2\n\t\t\tright=(right<0)?0:right\n\t\t\tif ((left > 0) && (right > 0))\n\t\t\t\t{\n\t\t\t\tstyle['left']=left+\"px\"\n\t\t\t\t}\n\t\t\telse if ((left == 0) && (right > 0))\n\t\t\t\t{\n\t\t\t\tstyle['left']=left+\"px\"\n\t\t\t\tstyle['width']=(boxItem.width<visibleMaster.w)?boxItem.width:visibleMaster.w+\"px\"\n\t\t\t\t}\n\t\t\telse if ((left > 0) && (right == 0))\n\t\t\t\t{\n\t\t\t\tstyle['right']=right+\"px\"\n\t\t\t\tstyle['width']=(boxItem.width<visibleMaster.w)?boxItem.width:visibleMaster.w+\"px\"\n\t\t\t\t}\n\t\t\telse\n\t\t\t\t{\n\t\t\t\tstyle['left']=\"0px\"\n\t\t\t\tstyle['width']=visibleMaster.w+\"px\"\n\t\t\t\t}\n\t\t\t}\n\t\telse\n\t\t\t{\n\t\t\tif ((mausquadrant == 2) || (mausquadrant == 4))\n\t\t\t\t{\n\t\t\t\tstyle['left']=offset+'px'\n\t\t\t\t}\n\t\t\telse\n\t\t\t\t{\n\t\t\t\tstyle['right']=offset+'px'\n\t\t\t\t}\n\t\t\t}\n\t\tsetStyle(infobox, style)\n\t\tfunction setStyle(elm, sty)\n\t\t\t{\n\t\t\tvar myKeys=Object.keys(sty)\n\t\t\tfor (let i = 0; i < myKeys.length; i++)\n\t\t\t\t{\n\t\t\t\telm.style[myKeys[i]] = sty[myKeys[i]];\n\t\t\t\t}\n\t\t\t}\n\t\tfunction getVisible(master, port)\n\t\t\t{\n\t\t\tvar result=[0,0]\n\t\t\tresult[0]=master[0]-port[0]\n\n\t\t\tresult[0]=(result[0] < 0)?0:result[0]\n\t\t\tresult[1]=(master[0]-port[0] < 0)?master[1]+(master[0]-port[0]):master[1]\n\t\t\tresult[1]=((master[0]+master[1]) > (port[0]+port[1]))?result[1]-((master[0]+master[1]) - (port[0]+port[1])):result[1]\n\t\t\treturn result\n\t\t\t}\n\t\treturn\n\t\t}\n\t// //######################################################################################################################################\n\t// //setter & getter\n\t// //\n\t// //\n\t// //######################################################################################################################################\n\t// get info()\n\t// \t{\n\t// \treturn this.PROPS.run.info;\n\t// \t}\n\t// set info(val)\n\t// \t{\n\t// \tthis.PROPS.run[\"info\"]=val\n\t// \tif ((this.titleslot) && (this.PROPS.run.info.title))\n\t// \t\t{\n\t// \t\tthis.titleslot.innerHTML=\"<span>\"+this.PROPS.run.info.title+\"</span>\"\n\t// \t\t}\n\t// \t}\n\n\t// get supermaster()\n\t// \t{\n\t// \treturn this.PROPS.run.supermaster;\n\t// \t}\n\t// set supermaster(val)\n\t// \t{\n\t// \tthis.PROPS.run[\"supermaster\"]=val;\n\t// \t}\n\n\n\t}\nwindow.customElements.define('tgepg-progitem', tgEpgProgItem);\n","import { tgEpgDefaultsCommon }  from \"./defaults_Common.js\"\n\nexport class tgEpgProgItemDefaults extends tgEpgDefaultsCommon\n\t{\n\tthisIsClass=true\t\n\tconstructor()\n\t\t{\n\t\tsuper(\"open\");\n\t\tthis[\"PROPS\"]=\n\t\t\t\t\t\t{\n\t\t\t\t\t\tdefault: \tthis._extender({}, this[\"PROPS\"].default||{},\n\t\t\t\t\t\t\t\t\t{\n\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t}\n\t\t}\n\tget properties()\n\t\t{\n\t\tvar props=super.properties||{_common:false};\n\t\tprops[\"_default\"]=true;\n\t\tprops[\"span\"]=null;\n\t\treturn props;\n\t\t}\n\n\tstatic get template()\n\t\t{\n\t\tvar styles=super.styles||\"\";\n\t\t\tstyles=styles+`\n\t\t\t<style>\n\t\t\t:host\n\t\t\t\t{\n\t\t\t\tdisplay:inline-block;\n\t\t\t\twidth:     calc( var(--progItemSpan, 0) *  var(--scale-used) ) !important;\n\t\t\t\tmax-width: calc( var(--progItemSpan, 0) *  var(--scale-used) ) !important;\n\t\t\t\tmin-width: calc( var(--progItemSpan, 0) *  var(--scale-used) ) !important;\n\t\t\t\twhite-space: nowrap;\n\t\t\t\tmargin:0px;\n\t\t\t\tpadding:0px;\n\t\t\t\tbox-sizing: border-box;\n\n\t\t\t\toverflow: hidden;\n\t\t\t\twhite-space: nowrap;\n\t\t\t\ttext-overflow:clip;\n\t\t\t\ttext-align:center;\n\t\t\t\tvertical-align: middle;\n\t\t\t\ttext-align:center;\n\t\t\t\theight: 100%;\n\t\t\t\tmax-height: 100%;\n\t\t\t\t}\n\n\t\t\t[name=\"app\"]\n\t\t\t\t{\n\t\t\t\toverflow:hidden;\n\t\t\t\tdisplay:inline-box;\n\t\t\t\t/*width:100%;*/\n\t\t\t\theight:100%;\n\t\t\t\tborder-radius: 1;\n\t\t\t\tborder-right: 1px solid black;\n\t\t\t\tvertical-align: middle;\n\t\t\t\tpadding:2px;\n\t\t\t\t}\n\t\t\t[name=\"app\"]>slot\n\t\t\t\t{\n\t\t\t\twidth:100%;\n\t\t\t\theight:100%;\n\t\t\t\ttext-align: center;\n\t\t\t\tposition:relative;\n\t\t\t\tvertical-align: middle;\n\t\t\t\tdisplay:flex;\n\t\t\t\ttext-overflow:clip;\n\t\t\t\tjustify-content: center; align-items: center;\n\t\t\t\tmargin:0px;\n\t\t\t\tpadding:0px;\n\t\t\t\t}\n\t\t\t[name=\"app\"]>slot>span\n\t\t\t\t{\n\t\t\t\ttext-overflow:clip;\n\t\t\t\toverflow:hidden;\n\t\t\t\t}\n\t\t\t.Tab\n\t\t\t\t{\n\t\t\t\tdisplay:table;\n\t\t\t\tborder-collapse: collapse;\n\t\t\t\t}\n\t\t\t.TabRow\n\t\t\t\t{\n\t\t\t\tdisplay:table-row;\n\t\t\t\t}\n\t\t\t.TabCell\n\t\t\t\t{\n\t\t\t\tdisplay:table-cell;\n\t\t\t\tvertical-align: middle;\n\t\t\t\ttext-align:center;\n\n\t\t\t\t}\n\t\t\t</style>\n\n\t\t\t`;\n\t\t\tvar tmp=styles+`\n\t\t\t<!-- App -->\n\t\t\t\t<div name=\"app\">\n\t\t\t\t\t<slot name=\"titleslot\"></slot>\n\t\t\t\t</div>\n\t\t\t<!-- App Ende-->\n\t\t\t\t\t`;\n\t\t\treturn\ttmp;\n\t\t}\n\t}\n","/*\n* tgEPG component\n*\n* Copyright (c) 2020-2021 Thomas Geißenhöner <quietcry@gmx.de>\n* Under MIT License (http://www.opensource.org/licenses/mit-license.php)\n*\n*\n*/\n\nimport { tgControls } from \"./tgControls.js\";\nimport { tgDefaultsScrollbar } from '../defaults_Scrollbar.js';\n\n\nexport class tgControlScrollbar extends tgControls\n\t{\n\tconstructor(mode=\"open\", props={})\n\t\t{\n\t\tsuper(mode, new tgDefaultsScrollbar());\n\t\tvar that=this;\n\t\t// default Parameter nach Props einlesen\n\t\t//this.tgEpgDefaults=new tgDefaultsScrollbar(this);\n\t\t// default Parameter nach Props einlesen\n\t\t//this.tgEpgDefaults=new tgEpgAppDefaults(this);\n\t\t// this[\"PROPS\"]=this._extender( (this[\"PROPS\"] || {}),\n\t\t// \t\t\t\t{\n\t\t// \t\t\t\tdefaults:this.tgEpgDefaults.loadDefaults(),\n\t\t// \t\t\t\trun:this.tgEpgDefaults.loadRun(),\n\t\t// \t\t\t\tset:this.tgEpgDefaults.loadSet()\n\t\t// \t\t\t\t});\n\t\t// Props durch hartcodierte Werte erweitern/anpassen\n\t\tthis[\"PROPS\"]=this._extender( (this[\"PROPS\"] || {}),\n\t\t\t\t\t\t{\n\t\t\t\t\t\trun:\t{\n\t\t\t\t\t\t\t\tmsg:\t{\n\t\t\t\t\t\t\t\t\t\tlog:true,\n\t\t\t\t\t\t\t\t\t\tdebug:true,\n\t\t\t\t\t\t\t\t\t\terror:true\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\tdefault:{connected:0},\n\t\t\t\t\t\tparas:this._extender({})\n\t\t\t\t\t\t});\n\t\t// Props durch im Storage gespeichertes erweitern/anpassen\n\t\t// this.PROPS.set = this._extender({}, (this.PROPS.defaults || {}), (this.PROPS.set || {}), (this._readOptions(this.PROPS.defaults._storageKey) || {}));\n\n\t\t//this._debug(\"constructor - Parameters\", \"props:\",this[\"PROPS\"]);\n\n\n\n\n\t\tthis._containerWidth=null;\n\t\tthis._supermaster=null;\n\t\tthis.supressScrollEvent=false;\n\t\tthis._scrollWidth=0;\n\t\tthis._direction=null;\n\t\tthis._pos=\"bottom\";\n\t\tthis._reportto=null;\n\t\tthis._reporttoElement=null;\n\t\tthis._getSizeXFromElement=null;\n\t\tthis._getSizeYFromElement=null;\n\t\tthis.container = this._shadowRoot.querySelector('[name=\"container\"]');\n\t\tthis._parent=this.parentNode;\n\t\tthis._ChildVisibleRect={x:0,y:0,width:0,height:0};\n\t\tthis.myObserver = new ResizeObserver(entries =>\n\t\t\t{\n\t\t\tvar ev = new CustomEvent('resize');\n\t\t\tthis.dispatchEvent(ev);\n\t\t  \t});\n\n\t\t}\n\n\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\n\t\t\n\t//######################################################################################################################################\n\t//\n\t// properties()\n\t// collect name-value pairs to use as observed Atrributes and the corresponding this->PROPS->paras\n\t//\n\t//######################################################################################################################################\n\tstatic get properties()\n\t\t{\n\t\tlet props=\ttgEpgAppDefaults.properties || {};\n\t\tlet superProps=super.properties||{};\n\t\tprops=Object.assign(superProps,props);\n\t\treturn props;\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tstatic get observedAttributes()\n\t \t{\n\t\t// let props=super.observedAttributes||[];\n\t\t// props.push(\"direction\")\n\t\treturn [\"pos\",\"reportto\",\"getsizefrom\",\"getxsizefrom\",\"getysizefrom\"];\n  \t \t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tconnectedCallback ()\n\t\t{\n\t\tvar that=this;\n\t\tconsole.debug(\"connectedCallback\", \"start\");\n\t\tif (this.PROPS.run.connected == 0)\n\t\t \t{\n\t\t \tthis.init();\n\t\t\t// this.refreshAppSizeAfterResizeOrInit();\n\t\t \t// this.buildApp();\n\t\t \tthis.connected();\n\t\t \t}\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tattributeChangedCallback(attrName, oldVal, newVal)\n\t\t{\n\t\tif ( oldVal===newVal) return;\n\t\toldVal=oldVal || this.PROPS.paras[attrName];\n\t\tsuper.attributeChangedCallback(attrName, newVal, oldVal );\n\t\tthis.PROPS.paras[attrName]=newVal;\n\t\tswitch (attrName)\n\t\t\t{\n\t\t\tcase \"pos\":\n\t\t\t\tif ( (newVal == \"top\") || (newVal == \"bottom\") || (newVal == \"left\") || (newVal == \"right\"))\n\t\t\t\t\t{\n\t\t\t\t\tthis._pos=newVal\n\t\t\t\t\tthis._direction=( (newVal == \"top\") || (newVal == \"bottom\"))?\"horizontal\":((newVal == \"left\") || (newVal == \"right\"))?\"vertical\":this._direction;\n\t\t\t\t\tthis.init()\n\t\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"reportto\":\n\t\t\t\tthis._reporttoElement=getParent.call(this,newVal)\n\t\t\t\tbreak;\n\t\t\tcase \"getsizefrom\":\n\n\t\t\t\tif (newVal != \"\")\n\t\t\t\t\t{\n\t\t\t\t\tthis._getSizeXFromElement=getParent.call(this,newVal)\n\t\t\t\t\tthis._getSizeYFromElement=this._getSizeXFromElement;\n\t\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"getxsizefrom\":\n\t\t\t\tif (newVal != \"\")\n\t\t\t\t\t{\n\t\t\t\t\tthis._getSizeXFromElement=getParent.call(this,newVal)\n\t\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"getysizefrom\":\n\t\t\t\tif (newVal != \"\")\n\t\t\t\t\t{\n\t\t\t\t\tthis._getSizeYFromElement=getParent.call(this,newVal)\n\t\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t\t}\n\t\tfunction getParent(selector=\"body\")\n\t\t\t{\n\t\t\tvar root = this;\n\t\t\twhile (root.parentNode)\n\t\t\t\t{\n\t\t\t\tif (root.querySelector(selector))\n\t\t\t\t\t{\n\t\t\t\t\treturn root.querySelector(selector);\n\t\t\t\t\t}\n\t\t\t\troot = root.parentNode;\n\t\t\t\t}\n\t\t\treturn root.querySelector(selector)\n\t\t\t}\n\n\t\t}\n\t//######################################################################################################################################\n\tgetParent(selector=\"body\")\n\t\t{\n\t\tvar root = this;\n\t\twhile (root.parentNode)\n\t\t\t{\n\t\t\tif (root.querySelector(selector))\n\t\t\t\t{\n\t\t\t\treturn root.querySelector(selector);\n\t\t\t\t}\n\t\t\troot = root.parentNode;\n\t\t\t}\n\t\treturn root.querySelector(selector)\n\t\t}\n\trender()\n\t\t{\n\t\tthis.init()\n\t\t}\n\t//######################################################################################################################################\n\t//init()\n\t//prüft die Umgebung und passt Parameter entsprechend an\n\t//\n\t//######################################################################################################################################\n\tinit()\n\t\t{\n\t\tvar that=this;\n\t\tvar sbo=\"scrollbarobserver\"\n\t\tif (! this._parent.hasAttribute(sbo))\n\t\t\t{\n\t\t\tthis.myObserver.observe(this._parent);\n\t\t\tthis.addEventListener(\"resize\",\n\t\t\tfunction(ev)\n\t\t\t\t{\n\t\t\t\tthis.init();\n\t\t\t\t}, false);\n\n\t\t\tthis._parent.setAttribute(sbo,\"1\")\n\t\t\t}\n\t\tvar parent=this._parent.getBoundingClientRect()\n\t\t//this.getParent('[name=\"tgEpgProgList\"]')\n\t\tif (this.PROPS.paras[\"getsizefrom\"])\n\t\t\t{\n\t\t\tthis._getSizeXFromElement=this.getParent(this.PROPS.paras[\"getsizefrom\"])\n\t\t\tthis._getSizeYFromElement=this._getSizeXFromElement\n\t\t\t}\n\t\tif (this.PROPS.paras[\"getxsizefrom\"])\n\t\t\t{\n\t\t\tthis._getSizeXFromElement=this.getParent(this.PROPS.paras[\"getxsizefrom\"])\n\t\t\t}\n\t\tif (this.PROPS.paras[\"getysizefrom\"])\n\t\t\t{\n\t\t\tthis._getSizeYFromElement=this.getParent(this.PROPS.paras[\"getysizefrom\"])\n\t\t\t}\n\t\tif (( ! this._direction)\n\t\t\t|| ((this._direction==\"horizontal\") && ( ! this._getSizeXFromElement))\n\t\t\t|| ((this._direction==\"vertical\") && ( ! this._getSizeYFromElement)))\n\t\t\treturn;\n\n\t\tif (this._direction==\"horizontal\")\n\t\t\t{\n\t\t\tif (! this._getSizeXFromElement.hasAttribute(sbo))\n\t\t\t\t{\n\t\t\t\tthis.myObserver.observe(this._getSizeXFromElement);\n\t\t\t\tthis._getSizeXFromElement.setAttribute(sbo,\"1\")\n\t\t\t\t}\n\t\t\tthis.style.right=\"0px\";\n\t\t\tthis.style.width=(parent.width-((this._getSizeXFromElement.getBoundingClientRect().x+this._getSizeXFromElement.parentNode.scrollLeft)-parent.x))+\"px\"\n\t\t\tthis.container.style.width=this._getSizeXFromElement.getBoundingClientRect().width+\"px\"\n\t\t\tthis.style.display=(this.offsetWidth>this.container.offsetWidth)?\"none\":\"\"\n\t\t\tthis.supressScrollEvent=true\n\t\t\tthis.scrollLeft=this._getSizeXFromElement.parentNode.scrollLeft\n\t\t\t}\n\t\telse if (this._direction==\"vertical\")\n\t\t\t{\n\t\t\tif (! this._getSizeYFromElement.hasAttribute(sbo))\n\t\t\t\t{\n\t\t\t\tthis.myObserver.observe(this._getSizeYFromElement);\n\t\t\t\tthis._getSizeYFromElement.setAttribute(sbo,\"1\")\n\t\t\t\t}\n\n\t\t\tthis.style.bottom=\"0px\";\n\t\t\tthis.style.height=(parent.height-(this._getSizeXFromElement.getBoundingClientRect().y-parent.y))+\"px\"\n\t\t\tthis.container.style.height=this._getSizeXFromElement.getBoundingClientRect().height+\"px\"\n\t\t\tthis.style.display=(this.offsetHeight>this.container.offsetHeight)?\"none\":\"\"\n\t\t\tthis.scrollTop=this._getSizeXFromElement.scrollTop\n\t\t\t}\n\t\tif ((! this.hasAttribute(\"hasScrollHandler\")) || (parseInt(this.getAttribute(\"hasScrollHandler\")) !== 1) )\n\t\t\t{\n\t\t\tthis.setAttribute(\"hasScrollHandler\", \"1\");\n\t\t\tthis.addEventListener(\"scroll\", function(ev)\n\t\t\t\t{\n\t\t\t\tif ( ! that.supressScrollEvent )\n\t\t\t\t\t{\n\t\t\t\t\tlet offset=(that._direction == \"horizontal\")?that.scrollLeft:that.scrollTop;\n\t\t\t\t\tvar ev = new CustomEvent('scrolled',\n\t\t\t\t\t\t{\n\t\t\t\t\t\tdetail:\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdirection: that._direction,\n\t\t\t\t\t\t\tscrollwidth: offset,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t//console.log(\"scrollevent\",this, this._getSizeXFromElement.parentNode)\n\t\t\t\t\tif (this._reporttoElement)\n\t\t\t\t\t\t{\n\t\t\t\t\t\tthis._reporttoElement.dispatchEvent(ev);\n\t\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\tthis._getSizeXFromElement.parentNode.scrollLeft=offset;\n\t\t\t\t\t\tthis.dispatchEvent(ev);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\tthat.supressScrollEvent = false\n\n\t\t\t\t}, false);\n\t\t\t}\n\n\t\treturn;\n\t\t}\n\t//######################################################################################################################################\n\t//scrollIt()\n\t//prüft die Umgebung und passt Parameter entsprechend an\n\t//\n\t//######################################################################################################################################\n\tscrollIt()\n\t\t{\n\t\tvar that=this;\n\t\tvar direction=this.getAttribute(\"direction\");\n\t\t\tswitch (direction)\n\t\t\t\t{\n\t\t\t\tcase \"horizontal\":\n\t\t\t\t\tthis.scrollLeft =this._scrollWidth\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"vertical\":\n\t\t\t\t\tthis.scrollTop =this._scrollWidth\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t//this.supressScrollEvent = false\n\t\treturn\n\t\t}\n\n\t//#########################################################################################################\n\t//##\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\tget supermaster()\n\t\t{\n\t\treturn this._supermaster;\n\t\t}\n\tset supermaster(val)\n\t\t{\n\t\tthis[\"_supermaster\"]=val;\n\t\t}\n\tget scrollWidth()\n\t\t{\n\t\treturn this._scrollWidth;\n\t\t}\n\tset scrollWidth(val)\n\t\t{\n\t\tif (parseFloat(val)\t!== this._scrollWidth)\n\t\t\t{\n\t\t\tthis[\"_scrollWidth\"]=parseFloat(val)\n\t\t\tthis.supressScrollEvent=true\n\t\t\tthis.scrollIt()\n\t\t\t}\n\t\t}\n\n\n\t//############################################################################################################################################\n\t//############################################################################################################################################\n\t}\n\nwindow.customElements.define('tgcontrol-scrollbar', tgControlScrollbar);\n","import { tgEpgDefaultsCommon }  from \"./defaults_Common.js\"\n\nexport class tgDefaultsScrollbar extends tgEpgDefaultsCommon\n\t{\n\tthisIsClass=true\t\n\tconstructor(that)\n\t\t{\n\t\tsuper(\"open\", that);\n\t\tthis[\"PROPS\"]=\n\t\t\t\t\t\t{\n\t\t\t\t\t\tdefault: \tthis._extender({}, this[\"PROPS\"].default||{},\n\t\t\t\t\t\t\t\t\t{\n\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t}\n\t\t}\n\tget properties()\n\t\t{\n\t\tvar props=super.properties||{common:false};\n\t\tprops[\"_default\"]=true;\n\t\treturn props;\n\t\t}\t\n\n\tstatic get template()\n\n\t\t\t{\n\t\t\tlet tmp = `\n\t\t\t\t<style>\n\t\t\t\t:host\n\t\t\t\t\t{\n\t\t\t\t\t--scrollbarBgColor: lightgray;\n\t\t\t\t\t--scrollbarColor: pink transparent;\n\t\t\t\t\t--scrollbarSleepingWidth: 6px;\n\t\t\t\t\t--scrollBarWidth:12px;\n\t\n\t\t\t\t\tposition:absolute;\n\t\t\t\t\tscrollbar-color: transparent transparent; /* thumb and track color */\n\t\t\t\t\tscrollbar-width: thin;\n\t\t\t\t\tz-index:100;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t}\n\t\t\t\t:host(:hover)\n\t\t\t\t\t{\n\t\t\t\t\tbackground-color: var(--scrollbarBgColor);\n\t\t\t\t\tscrollbar-color: var(--scrollbarColor);\n\t\t\t\t\tscrollbar-width: var(--scrollBarWidth);\n\t\t\t\t\t}\n\t\n\t\t\t\t:host([direction=\"vertical\"],[pos=\"left\"],[pos=\"right\"])\n\t\t\t\t\t{\n\t\t\t\t\ttop: 0px;\n\t\t\t\t\tbottom: 0px;\n\t\t\t\t\twidth:var(--scrollbarSleepingWidth);\n\t\t\t\t\t}\n\t\t\t\t:host([pos=\"left\"])\n\t\t\t\t\t{\n\t\t\t\t\tleft:0px;\n\t\t\t\t\t}\n\t\t\t\t:host([direction=\"vertical\"],[pos=\"right\"])\n\t\t\t\t\t{\n\t\t\t\t\tright: 0px;\n\t\t\t\t\t}\n\t\t\t\t:host([direction=\"vertical\"],[pos=\"left\"],[pos=\"right\"]) div\n\t\t\t\t\t{\n\t\t\t\t\twidth:1px;\n\t\t\t\t\t}\n\t\t\t\t:host([direction=\"vertical\"],[pos=\"left\"],[pos=\"right\"]:hover)\n\t\t\t\t\t{\n\t\t\t\t\twidth: var(--scrollBarWidth);\n\t\t\t\t\toverflow-y: auto;\n\t\t\t\t\t}\n\t\t\t\t:host([direction=\"horizontal\"]),\n\t\t\t\t:host([pos=\"top\"]),\n\t\t\t\t:host([pos=\"bottom\"])\n\t\t\t\t\t{\n\t\t\t\t\theight:var(--scrollbarSleepingWidth);\n\t\t\t\t\t}\n\t\t\t\t:host([direction=\"horizontal\"]),\n\t\t\t\t:host([pos=\"bottom\"])\n\t\t\t\t\t{\n\t\t\t\t\tbottom:0px;\n\t\t\t\t\t}\n\t\t\t\t:host([pos=\"top\"])\n\t\t\t\t\t{\n\t\t\t\t\ttop: 0px;\n\t\t\t\t\t}\n\t\t\t\t:host([direction=\"horizontal\"]) div,\n\t\t\t\t:host([pos=\"top\"]) div,\n\t\t\t\t:host([pos=\"bottom\"]) div\n\t\t\t\t\t{\n\t\t\t\t\theight: 1px;\n\t\t\t\t\t}\n\t\t\t\t:host([direction=\"horizontal\"]:hover),\n\t\t\t\t:host([pos=\"top\"]:hover),\n\t\t\t\t:host([pos=\"bottom\"]:hover)\n\t\t\t\t\t{\n\t\t\t\t\theight: var(--scrollBarWidth);\n\t\t\t\t\toverflow-x: auto;\n\t\t\t\t\t}\n\t\n\t\t\t\t</style>\n\t\t\t\t<div name=\"container\"></div>`;\n\t\t\treturn tmp;\n\t\t}\n\t}\n","/*\n* tgEPG component\n*\n* Copyright (c) 2020-2021 Thomas Geißenhöner <quietcry@gmx.de>\n* Under MIT License (http://www.opensource.org/licenses/mit-license.php)\n*\n*\n*/\n\nimport { tgControls } from '../tgControls.js';\nimport { tgEpgToolTippDefaults } from \"../../defaults_Tooltipp.js\";\n\nexport class tgEpgTooltipp extends tgControls\n\t{\n\tconstructor(mode=\"open\", props={})\n\t\t{\n\t\tsuper(mode, new tgEpgToolTippDefaults(), props);\n\t\tvar that=this;\n\t\n\t\t// default Parameter nach Props einlesen\n\t\tthis[\"PROPS\"]=this._extender(\t{},\n\t\t\t\t\t\t\t\t\t\tthis[\"PROPS\"]||{},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tdefault:\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tmsg:\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlog:true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdebug:true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terror:true\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tattr:\t\tthis._extender({},tgEpgTooltipp.properties)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\tthis[\"PROPS\"][\"run\"]=this._extender\t(\tthis[\"PROPS\"][\"default\"]||{},\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis[\"PROPS\"][\"run\"]||{},\n\t\t\t\t\t\t\t\t\t\t\t\t\tprops\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\tthis.app = this.shadowRoot.querySelector('[name=\"app\"]');\n\n\n\t\t// this._containerWidth=null;\n\t\t// this._supermaster=null;\n\t\t// this.supressScrollEvent=0;\n\t\t// this._scrollWidth=0;\n\t\t// this._direction=null;\n\t\t// this.container = this.shadowRoot.querySelector('[name=\"container\"]');\n\n\n\n/*\n\t\tlet body=document.querySelector(\"body\");\n\t\t\t\t\t\t\t\t\t\t\t\t\t`<div name=\"EpgInfoBox\" class=\"hide\"></div>`\n\t\tthis.EpgInfoBox = this.shadowRoot.querySelector('[name=\"EpgInfoBox\"]');\n\n */\n\n\n\t\t//this._writeOptions(this.PROPS.defaults._storageKey, this.PROPS.set);\n\t\t////this._debug(\"JSON\", this.readOptions(this.PROPS.defaults._storageKey))\n\t\t//this.PROPS.run.topElements = [this.app, this.icon];\n\n\t\t//this._log(\"construction ended\", \"props:\",this.PROPS, \"me:\", this);\n\t\t//this._debug(\"constructor - constructed\");\n\n\t\t}\n\n\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\n\t//######################################################################################################################################\n\t//\n\t// properties()\n\t// collect name-value pairs to use as observed Atrributes and the corresponding this->PROPS->paras\n\t//\n\t//######################################################################################################################################\n\tconnectedCallback ()\n\t\t{\n\t\tvar that=this;\n\t\tif (this.PROPS.run.connected == 0)\n\t\t \t{\n\t\t \tthis.connected();\n\t\t \t}\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tstatic get properties()\n\t\t{\n\t\tlet defProps=tgEpgToolTippDefaults.properties || {};\n\t\tlet props= \t{\n\t\t\t\t\ttimelinestart:null,\n\t\t\t\t\tenableTimemarker:false,\n\t\t\t\t\tenableToolTipp:false\n\t\t\t\t\t};\n\t\tlet superProps=super.properties||{};\n\t\tprops=Object.assign(superProps,defProps,props);\n\t\treturn props;\n\t\t}\n\t//######################################################################################################################################\n\tstatic get observedAttributes() \n\t\t{\n\t\tlet props=Object.keys(tgEpgTooltipp.properties)\n        return props;\n\t\t}\n\t//######################################################################################################################################\n\t//\n\t//\n\t//\n\t//######################################################################################################################################\n\tattributeChangedCallback(attrName, oldVal, newVal)\n\t\t{\n\t\tif ( oldVal===newVal) return;\n\t\toldVal=oldVal || this.PROPS.paras[attrName];\n\t\tsuper.attributeChangedCallback(attrName, newVal, oldVal );\n\t\tthis.PROPS.paras[attrName]=newVal;\n\t\tswitch (attrName)\n\t\t\t{\n\t\t\tcase \"direction\":\n\t\t\t\tif ( (newVal == \"horizontal\") || (newVal == \"vertical\"))\n\t\t\t\t\t{\n\t\t\t\t\tthis._direction=newVal\n\t\t\t\t\tthis.init()\n\t\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\trefresh()\n\t\t{\n\t\tif (! this.calculateRect()) return\n\t\t\n\t\tvar that=this\t\n\t\tthis.classList.remove(\"hide\")\n\t\tlet style=this.calculatePos()\n\t\t\n\t\tconsole.log(style, this.PROPS.run.data)\n\t\tsetStyle(style)\n\t\tfunction setStyle(sty)\n\t\t\t{\n\t\t\tvar myKeys=Object.keys(sty)\n\t\t\tfor (let i = 0; i < myKeys.length; i++)\n\t\t\t\t{\n\t\t\t\tthat.style[myKeys[i]] = sty[myKeys[i]];\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\t\n\tcalculatePos()\n\t\t{\n\t\tlet style={left:\"0px\",top:\"0px\"}\t\n\t\tlet client=this.getBoundingClientRect()\nconsole.log(client)\n\n\t\t\t// let tmpLeft=basis.x-client.x\n\t\t\t// let tmpRight=(basis.x+basis.width)-(client.x+client.width)\n\t\t\t// let tmpTop=basis.y-client.y\n\t\t\t// let tmpBottom=(basis.y+basis.height)-(client.y+client.height)\n\t\t\t// tmpLeft=(tmpRight<=0)?0:tmpLeft\n\t\t\t// tmpRight=(tmpRight<=0)?0:tmpRight\n\t\t\t// tmpTop=(tmpTop<=0)?0:tmpTop\n\t\t\t// tmpBottom=(tmpBottom<=0)?0:tmpBottom\n\t\treturn style\n\t\t}\n\tcalculateRect()\n\t\t{\n\t\tif (this.PROPS.run.visibleRect) return true\t\n\t\tthis.PROPS.run.host=this.parentNode\n\t\tif (!this.PROPS.run.host)\treturn false\n\t\tif (this._getType(this.PROPS.run.master, \"string\")) this.PROPS.run.master=this._getMasterElement(this.PROPS.run.master)\n\t\tif (! this._getType(this.PROPS.run.master, \"nodeElement\")) return false\n\n\t\tlet host=this.PROPS.run.host.getBoundingClientRect()\n\t\tlet basis=(this._getType(this.PROPS.run.master, \"nodeElement\"))?this.PROPS.run.master.getBoundingClientRect():host\n\t\tlet restr=this.PROPS.run.restrictions||{}\n\t\tthis.PROPS.run[\"visibleRect\"]=\t{\n\t\t\t\t\t\t\t\t\t\tleft:basis.left-host.left+(restr.left||0),\n\t\t\t\t\t\t\t\t\t\tright:host.right-basis.right+(restr.right||0),\n\t\t\t\t\t\t\t\t\t\ttop:basis.top-host.top+(restr.top||0),\n\t\t\t\t\t\t\t\t\t\tbottom:host.bottom-basis.bottom+(restr.bottom||0),\n\t\t\t\t\t\t\t\t\t\twidth:basis.width-(restr.left||0)-(restr.right||0),\n\t\t\t\t\t\t\t\t\t\theight:basis.height-(restr.top||0)-(restr.bottom||0),\n\t\t\t\t\t\t\t\t\t\toffsetX:basis.x,\n\t\t\t\t\t\t\t\t\t\toffsetY:basis.y,\n\t\t\t\t\t\t\t\t\t\t}\n\t\treturn true\n\t\t\t\t\t\t\t\t\n\t\t}\t\n\t//######################################################################################################################################\n\t//init()\n\t//prüft die Umgebung und passt Parameter entsprechend an\n\t//\n\t//######################################################################################################################################\n\tinit()\n\t\t{\n\t\tvar that=this;\n\t\t//var direction=this.getAttribute(\"direction\");\n\t\tif ((this._containerWidth) && (this._direction == \"horizontal\"))\n\t\t\t{\n\t\t\tthis.container.style.width=this._containerWidth+\"px\"\n\t\t\t}\n\t\telse if ((this._containerWidth) && (this._direction == \"vertical\"))\n\t\t\t{\n\t\t\tthis.container.style.height=this._containerWidth+\"px\"\n\t\t\t}\n\t\telse\n\t\t\t{\n\t\t\treturn;\n\t\t\t}\n\t\t\tif ((! this.hasAttribute(\"hasScrollHandler\")) || (parseInt(this.getAttribute(\"hasScrollHandler\")) !== 1) )\n\t\t\t\t{\n\t\t\t\tthis.setAttribute(\"hasScrollHandler\", \"1\");\n\t\t\t\tthis.addEventListener(\"scroll\", function(ev)\n\t\t\t\t\t{\n\t\t\t\t\tif (that.supressScrollEvent !== 1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\tlet offset=(that._direction == \"horizontal\")?that.scrollLeft:that.scrollTop;\n\t\t\t\t\t\tvar ev = new CustomEvent('scrollbar',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdetail:\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t  \t\tdirection: that._direction,\n\t\t\t\t\t\t\t  \t\tscrollwidth: offset,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t  \t\t});\n\t\t\t\t\t\tthis.dispatchEvent(ev);\n\t\t\t\t\t\t}\n\t\t\t\t\tthat.supressScrollEvent = 0\n\n\t\t\t\t\t}, false);\n\t\t\t\t}\n\t\treturn\n\t\t}\n\t//######################################################################################################################################\n\t//scrollIt()\n\t//prüft die Umgebung und passt Parameter entsprechend an\n\t//\n\t//######################################################################################################################################\n\tscrollIt()\n\t\t{\n\t\tvar that=this;\n\t\tvar direction=this.getAttribute(\"direction\");\n\t\tif (this.supressScrollEvent == 1)\n\t\t\t{\n\t\t\tswitch (direction)\n\t\t\t\t{\n\t\t\t\tcase \"horizontal\":\n\t\t\t\t\tthis.scrollLeft =this._scrollWidth\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"vertical\":\n\t\t\t\t\tthis.scrollTop =this._scrollWidth\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\tthis.supressScrollEvent = 0\n\t\treturn\n\t\t}\n\n\t//#########################################################################################################\n\t//##\n\t//##\n\t//##\n\t//##\n\t//#########################################################################################################\n\tget master()\n\t\t{\n\t\treturn this.PROPS.run.master;\n\t\t}\n\tset master(val)\n\t\t{\n\t\tthis.PROPS.run[\"master\"]=val;\n\t\tthis.calculateRect()\n\t\t}\n\tget restrictions()\n\t\t{\n\t\treturn this.PROPS.run.restrictions;\n\t\t}\n\tset restrictions(val)\n\t\t{\n\t\tthis.PROPS.run[\"restrictions\"]=val;\n\t\tthis.calculateRect()\n\t\t}\n\tget data()\n\t\t{\n\t\treturn this.PROPS.run.data\n\t\t}\n\tset data(val)\n\t\t{\n\t\tthis.PROPS.run[\"data\"]=val;\n\t\tthis.refresh()\n\t\t}\n\n\n\n\t//############################################################################################################################################\n\t//############################################################################################################################################\n\t}\n\nwindow.customElements.define('tgepg-tooltipp', tgEpgTooltipp);\n","import { tgEpgDefaultsCommon }  from \"./defaults_Common.js\"\n\nexport class tgEpgToolTippDefaults extends tgEpgDefaultsCommon\n\t{\n\tthisIsClass=true\t\t\n\tconstructor(that)\n\t\t{\n\t\tsuper(\"open\", that);\n\t\tthis[\"PROPS\"]=\n\t\t\t\t\t\t{\n\t\t\t\t\t\tdefault: \tthis._extender({}, this[\"PROPS\"].default||{},\n\t\t\t\t\t\t\t\t\t{\n\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t}\n\t\t}\n\tget properties()\n\t\t{\n\t\tvar props=super.properties||{_common:false};\n\t\treturn props;\n\t\t}\t\n\n\tstatic get template()\n\t\t{\n\t\tvar styles=super.styles||\"\";\n\t\t\tstyles=styles+`\n\t\t\t<style>\n\t\t\t:host\n\t\t\t\t{\n\t\t\t\tposition:absolute;\n\t\t\t\tz-index:2001;\n\t\t\t\tbackground-color:white;\n\t\t\t\tmax-width:40%;\n\t\t\t\tmax-height:50%;\n\t\t\t\tpadding:4px;\n\t\t\t\t}\n\t\t\tdiv\n\t\t\t\t{\n\t\t\t\twhite-space: normal;\n\t\t\t\t}\n\t\t\t.hide\n\t\t\t\t{\n\t\t\t\tdisplay:none;\n\t\t\t\t}\n\t\t\t.nowrap\n\t\t\t\t{\n\t\t\t\tdisplay: inline-block;\n\t\t\t\twhite-space: nowrap;\n\t\t\t\t}\n\t\t\t</style>\n\t\t\t`;\n\t\t\tvar tmp=styles+`\n\t\t\t<!-- App -->\n\t\t\tTooltip\n\t\t\t<div>\n\t\t\t\t<slot name=\"subtitleslot\"></slot>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<slot name=\"titleslot\"></slot>\n\t\t\t</div>\n\t\t\t<div class=\"nowrap\">\n\t\t\t\t<slot name=\"dateslot\"></slot><slot name=\"startslot\" class=\"nowrap\"></slot>-<slot name=\"endslot\" class=\"nowrap\"></slot> <slot name=\"durationslot\" class=\"nowrap\"></slot>\n\t\t\t</div>\n\t\t\t<!-- App Ende-->\n\t\t\t\t`;\n\t\t\treturn\ttmp;\n\t\t}\n\t}\n"],"names":[],"version":3,"file":"tgepg-card.js.map","sourceRoot":"/__parcel_source_root/"}